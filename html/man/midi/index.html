

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Command: midi &mdash; humdrum-tools 1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="humdrum-tools 1 documentation" href="../../"/>
        <link rel="up" title="Humdrum Command Manual" href="../"/>
        <link rel="next" title="Command: midreset" href="../midreset/"/>
        <link rel="prev" title="Command: metpos" href="../metpos/"/>
   <link rel="stylesheet" type"text/css" href="../../_static/humdrum.css">


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../../" class="fa fa-home"> humdrum-tools</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="../../install/">Humdrum Installation Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../install/github/">Installing Humdrum Tools from GitHub</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../guide/">The Humdrum User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch01/">1. Humdrum: A Brief Tour</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch02/">2. Representing Music Using **kern (I)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch03/">3. Some Initial Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch04/">4. Basic Pitch Translations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch05/">5. The Humdrum Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch06/">6. Representing Music Using **kern (II)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch07/">7. MIDI Output Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch08/">8. The Shell (I)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch09/">9. Searching with Regular Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch10/">10. Musical Uses of Regular Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch11/">11. Melodic Intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch12/">12. Selecting Musical Parts and Passages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch13/">13. Assembling Scores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch14/">14. Stream Editing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch15/">15. Harmonic Intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch16/">16. The Shell (II)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch17/">17. Creating Inventories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch18/">18. Fingers, Footsteps and Frets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch19/">19. Musical Contexts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch20/">20. Strophes, Verses, and Repeats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch21/">21. Searching for Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch22/">22. Classifying</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch23/">23. Rhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch24/">24. The Shell (III)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch25/">25. Similarity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch26/">26. Moving Signifiers Between Spines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch27/">27. Text and Lyrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch28/">28. Dynamic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch29/">29. Differences and Commonalities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch30/">30.MIDI Input Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch31/">31. Repertories and Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch32/">32. The Shell (IV)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch33/">33. Word Sounds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch34/">34. Serial Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch35/">35. Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch36/">33. Sound and Spectra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch37/">37. Electronic Music Editing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch38/">38. Systematic Musicology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch39/">39. Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch40/">40. Conclusion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/bibliography/">The Humdrum Toolkit: A Bibliography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/sample.problems/">Sample Problems Using the Humdrum Toolkit</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../humextra/">Humdrum Extras</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/intro/">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/rhythm/">2. Rhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/melody/">Melody and Pitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/harmony/">Harmony</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/data/">Data Entry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/searching/">Music Searching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/midi/">MIDI Rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/notation/">Graphical Musical Notation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/other/">Other Useful Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/programming/">Programming Tutorial</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cookbook/">The Humdrum Cookbook</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../cookbook/vimHighlighting/">Syntax Coloring in Vim</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../">Humdrum Command Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../assemble/">Command: assemble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../barks/">Command: barks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cbr/">Command: cbr</a></li>
<li class="toctree-l2"><a class="reference internal" href="../census/">Command: census</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cents/">Command: cents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cleave/">Command: cleave</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cocho/">Command: cocho</a></li>
<li class="toctree-l2"><a class="reference internal" href="../context/">Command: context</a></li>
<li class="toctree-l2"><a class="reference internal" href="../correl/">Command: correl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deg/">Command: deg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../degree/">Command: degree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../diss/">Command: diss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ditto/">Command: ditto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dur/">Command: dur</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ekern/">Command: ekern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../encode/">Command: encode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extract/">Command: extract</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fade/">Command: fade</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fields/">Command: fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../freq/">Command: freq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hint/">Command: hint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../humdrum/">Command: humdrum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../humsed/">Command: humsed</a></li>
<li class="toctree-l2"><a class="reference internal" href="../humver/">Command: humver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../infot/">Command: infot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iv/">Command: iv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kern/">Command: kern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../key/">Command: key</a></li>
<li class="toctree-l2"><a class="reference internal" href="../melac/">Command: melac</a></li>
<li class="toctree-l2"><a class="reference internal" href="../melvel/">Command: melvel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metpos/">Command: metpos</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Command: midi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../midreset/">Command: midreset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mint/">Command: mint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ms/">Command: ms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nf/">Command: nf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../num/">Command: num</a></li>
<li class="toctree-l2"><a class="reference internal" href="../patt/">Command: patt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pattern/">Command: pattern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pc/">Command: pc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pcset/">Command: pcset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../perform/">Command: perform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pf/">Command: pf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pitch/">Command: pitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof/">Command: proof</a></li>
<li class="toctree-l2"><a class="reference internal" href="../recode/">Command: recode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../record/">Command: record</a></li>
<li class="toctree-l2"><a class="reference internal" href="../regexp/">Command: regexp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reihe/">Command: reihe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rend/">Command: rend</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rid/">Command: rid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scramble/">Command: scramble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../semits/">Command: semits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../simil/">Command: simil</a></li>
<li class="toctree-l2"><a class="reference internal" href="../smf/">Command: smf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../solfa/">Command: solfa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../solfg/">Command: solfg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../specc/">Command: specc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spect/">Command: spect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../strophe/">Command: strophe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../synco/">Command: synco</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tacet/">Command: tacet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../text/">Command: text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../themefinder/">Command: thmea</a></li>
<li class="toctree-l2"><a class="reference internal" href="../thru/">Command: thru</a></li>
<li class="toctree-l2"><a class="reference internal" href="../timebase/">Command: timebase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tonh/">Command: tonh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trans/">Command: trans</a></li>
<li class="toctree-l2"><a class="reference internal" href="../urrhythm/">Command: urrhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../veritas/">Command: veritas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vox/">Command: vox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xdelta/">Command: xdelta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../yank/">Command: yank</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ydelta/">Command: ydelta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../#commands">Commands</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rep/">Humdrum Data Representations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../rep/barlines/">Representation: barlines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/IPA/">Representation: **IPA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/MIDI/">Representation: **MIDI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/Tonh/">Representation: **Tonh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/URrhythm/">Representation: **URrhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/Zeit/">Representation: **Zeit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/bhatk/">Representation: **bhatk</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/cents/">Representation: **cents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/correl/">Representation: **correl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/dB/">Representation: **dB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/date/">Representation: **date</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/deg/">Representation: **deg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/degree/">Representation: **degree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/diss/">Representation: **diss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/dur/">Representation: **dur</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/embel/">Representation: **embel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/freq/">Representation: **freq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/fret/">Representation: **fret</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/harm/">Representation: **harm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/hildegard/">Representation: **hildegard</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/hint/">Representation: **hint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/iv/">Representation: **iv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/kern/">Representation: **kern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/melac/">Representation: **melac</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/metpos/">Representation: **metpos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/mint/">Representation: **mint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/ordo/">Representation: **ordo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/pc/">Representation: **pc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/pcset/">Representation: **pcset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/pitch/">Representation: **pitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/recip/">Representation: **recip</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/semits/">Representation: **semits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/silbe/">Representation: **silbe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/simil/">Representation: **simil</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/solfa/">Representation: **solfa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/solfg/">Representation: **solfg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/specC/">Representation: **specC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/spect/">Representation: **spect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/synco/">Representation: **synco</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/takt/">Representation: **takt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/text/">Representation: **text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/time/">Representation: **time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/timebase/">Representation: **timebase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/vox/">Representation: **vox#</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../">humdrum-tools</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../">Docs</a> &raquo;</li>
      
          <li><a href="../">Humdrum Command Manual</a> &raquo;</li>
      
    <li>Command: midi</li>
      <li class="wy-breadcrumbs-aside">
        
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="command-midi">
<h1>Command: midi<a class="headerlink" href="#command-midi" title="Permalink to this headline">¶</a></h1>
<hr class="docutils" />
<div class="section" id="command">
<h2>COMMAND<a class="headerlink" href="#command" title="Permalink to this headline">¶</a></h2>
<p><strong>midi</strong> &#8211; convert from <tt class="docutils literal"><span class="pre">**kern</span></tt> to Humdrum <tt class="docutils literal"><span class="pre">**MIDI</span></tt> format</p>
</div>
<hr class="docutils" />
<div class="section" id="synopsis">
<h2>SYNOPSIS<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p>`` midi  [-Ccu]  [-d n]  [-q n]  [inputfile.krn ...]  [ &gt; outputfile.hmd]``</p>
</div>
<hr class="docutils" />
<div class="section" id="description">
<h2>DESCRIPTION<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The <strong>midi</strong> command converts Humdrum <tt class="docutils literal"><span class="pre">**kern</span></tt> data into Humdrum
<tt class="docutils literal"><span class="pre">**MIDI</span></tt> data. Humdrum <tt class="docutils literal"><span class="pre">**MIDI</span></tt> data may be played by the
<a class="reference external" href="perform.html">**perform**</a> command or converted to a standard MIDI
file using the <a class="reference external" href="smf.html">**smf**</a> command. The <strong>midi</strong> command will
translate all <tt class="docutils literal"><span class="pre">**kern</span></tt> spines in the input stream into <tt class="docutils literal"><span class="pre">**MIDI</span></tt>
data, and will echo any non-kern spines.</p>
<p>It is recommended that output files produced using the <strong>midi</strong> command
should be given names with the distinguishing `.hmd&#8217; extension
(`Humdrum midi&#8217;).</p>
</div>
<hr class="docutils" />
<div class="section" id="options">
<h2>OPTIONS<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<p>The <strong>midi</strong> command provides the following options:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="89%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>-c</strong></td>
<td>echo all data records as global comments (prior to the data record)</td>
</tr>
<tr class="row-even"><td><strong>-C</strong></td>
<td>echo all data records as global comments (following the data record)</td>
</tr>
<tr class="row-odd"><td>-d <em>n</em></td>
<td>assigns a note-duration of <em>n</em> <tt class="docutils literal"><span class="pre">**recip</span></tt> value to all pitches and rests</td>
</tr>
<tr class="row-even"><td><strong>-h</strong></td>
<td>displays a help screen summarizing the command syntax</td>
</tr>
<tr class="row-odd"><td>-q <em>n</em></td>
<td>set number of MIDI clock ticks per quarter-duration to <em>n</em></td>
</tr>
<tr class="row-even"><td><strong>-u</strong></td>
<td>suppress the deletion of duplicate (unison) concurrent note-on instructions</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Options are specified in the command line.</p>
<p>If the <strong>-c</strong> option (`comment&#8217;) is invoked, all data records are
echoed as global comments in addition to the usual processing. This
option is useful in conjunction with the <a class="reference external" href="perform.html">**perform**</a>
command; <strong>perform</strong> echoes all global comments while playing MIDI
inputs, and so the comment option allows the user to view the original
<tt class="docutils literal"><span class="pre">**kern</span></tt> score while the music is performed.</p>
<p>The <strong>-d</strong> <em>n</em> option allows the user to reassign all the durations of
all notes and rests in a given input. The value <em>n</em> is specified in
reciprocal duration notation (<tt class="docutils literal"><span class="pre">**recip</span></tt>), where `4&#8217; represents a
quarter-duration, `2.&#8217; represents a dotted half-duration, `12&#8217;
represents a quarter-note triplet, `0&#8217; represents a breve, etc. (See
<tt class="docutils literal"><span class="pre">**recip</span></tt> in Section 2 for details.) With the <strong>-d</strong> option all
pitches and rests in the input will be assigned the specified duration
value &#8211; whether or not the notes already have encoded durations. This
option is useful for such tasks as proof-listening to passages
containing especially short notes, or auditing works &#8211; such as
Gregorian chant &#8211; where durations have not been encoded or are suspect
for other reasons. Note that the <strong>-d</strong> option should be used only in
the case of monophonic inputs, or multi-part inputs that contain
strictly isochronous chords. Polyphonic inputs containing
non-isochronous durations will cause a loss of synchronization between
the parts. The resulting output is apt to cause serious problems with
commands such as <a class="reference external" href="perform.html">**perform**</a> and
<a class="reference external" href="smf.html">**smf.**</a></p>
<p>In contrast to MIDI performance data, canonical musical scores (such as
<tt class="docutils literal"><span class="pre">**kern</span></tt>) frequently contain unisons &#8211; where two voices share the
same pitch for a period of time. MIDI produces a `note-off&#8217; instruction
at the end of each note; however only a single `note-off&#8217; instruction
is required to turn-off a note. Unfortunately, the first note-off will
terminate a note &#8211; even if the same pitch is sustained in another
voice. In normal operation, <strong>midi</strong> suppresses the sending of the first
of two MIDI `note-off&#8217; commands when a unison is encountered in the
input. This ensures that the pitch will be sustained for the longer of
the unison durations. This feature can be disabled by invoking the
<strong>-u</strong> option.</p>
<p>The <strong>midi</strong> command assigns a default duration of 72 MIDI clock-ticks
per quarter-note. This default value may be reassigned using the <strong>-q</strong>
<em>n</em> option. The value <em>n</em> should be chosen so that all canonical
durations present in a given score divide evenly into it. For example,
the default value of 72 clock-ticks per quarter-note, means that
eighth-notes and sixteenth-notes will have durations of 36 and 18
clock-ticks respectively. Eighth-note triplets and sixteenth-note
triplets will have durations of 24 and 12 clock-ticks respectively.
Thirty-second notes will have a duration of 9 clock-ticks. But
sixty-fourth notes can cause synchronization problems since they do not
divide evenly into 72. The user may wish to reassign this value
depending on the types of canonical durations present in a given input.
Changing the default number of clock-ticks will affect the tempo of
performance when using the <a class="reference external" href="perform.html">**perform**</a> command.
Hence, it may be necessary to revise the tempo indication of a resulting
Humdrum midi-format file.</p>
</div>
<hr class="docutils" />
<div class="section" id="examples">
<h2>EXAMPLES<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>The following examples illustrate how <strong>midi</strong> may be invoked.</p>
<blockquote>
<div>`` midi chopin &gt; chopin.hmd``</div></blockquote>
<p>converts the <tt class="docutils literal"><span class="pre">**kern</span></tt> data from the file <tt class="docutils literal"><span class="pre">chopin</span></tt> to <tt class="docutils literal"><span class="pre">**MIDI</span></tt> data
in the file <tt class="docutils literal"><span class="pre">chopin.hmd</span></tt>. The command:</p>
<blockquote>
<div>`` midi -c siegfrd.idl &gt; siegfrd.hmd``</div></blockquote>
<p>translates the <tt class="docutils literal"><span class="pre">**kern</span></tt> data from the file <tt class="docutils literal"><span class="pre">siegfrd.idl</span></tt> to
<tt class="docutils literal"><span class="pre">**MIDI</span></tt> data in the file <tt class="docutils literal"><span class="pre">siegfrd.hmd</span></tt> and echoes all <tt class="docutils literal"><span class="pre">**kern</span></tt>
data as global comments.</p>
</div>
<hr class="docutils" />
<div class="section" id="sample-outputs">
<h2>SAMPLE OUTPUTS<a class="headerlink" href="#sample-outputs" title="Permalink to this headline">¶</a></h2>
<p>The operation of <strong>midi</strong> is illustrated in the following inputs and
outputs. In the first example, a simple C major scale is encoded in
<tt class="docutils literal"><span class="pre">**kern</span></tt>.</p>
<hr class="docutils" />
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>!! midi example #1</td>
</tr>
<tr class="row-even"><td>**kern</td>
</tr>
<tr class="row-odd"><td>*M2/4</td>
</tr>
<tr class="row-even"><td>*C:</td>
</tr>
<tr class="row-odd"><td>=1</td>
</tr>
<tr class="row-even"><td>8c</td>
</tr>
<tr class="row-odd"><td>8r</td>
</tr>
<tr class="row-even"><td>8d</td>
</tr>
<tr class="row-odd"><td>8e</td>
</tr>
<tr class="row-even"><td>=2</td>
</tr>
<tr class="row-odd"><td>8f</td>
</tr>
<tr class="row-even"><td>8g</td>
</tr>
<tr class="row-odd"><td>8a</td>
</tr>
<tr class="row-even"><td>8b</td>
</tr>
<tr class="row-odd"><td>=3</td>
</tr>
<tr class="row-even"><td>4cc</td>
</tr>
<tr class="row-odd"><td>4r</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>*-</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Executing the <strong>midi</strong> command with the default settings results in the
<tt class="docutils literal"><span class="pre">**MIDI</span></tt> output given below. Notice that a default channel of MIDI
channel 1 has been assigned via the tandem interpretation <tt class="docutils literal"><span class="pre">*Ch1</span></tt>. Note
also that each <tt class="docutils literal"><span class="pre">**kern</span></tt> note has resulted in two MIDI instructions:
&#8220;key-on&#8221; and &#8220;key-off&#8221;. Since the end of one note coincides with the
start of the subsequent note, key-on and key-off data are output as
Humdrum double-stops (two tokens separated by a single space character).
<a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">``</span></a></p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>!! midi example #1</td>
</tr>
<tr class="row-even"><td>**MIDI</td>
</tr>
<tr class="row-odd"><td>*Ch1</td>
</tr>
<tr class="row-even"><td>*M2/4</td>
</tr>
<tr class="row-odd"><td>*C:</td>
</tr>
<tr class="row-even"><td>=1</td>
</tr>
<tr class="row-odd"><td>72/60/64</td>
</tr>
<tr class="row-even"><td>36/-60/64</td>
</tr>
<tr class="row-odd"><td>36/62/64</td>
</tr>
<tr class="row-even"><td>36/-62/64 36/64/64</td>
</tr>
<tr class="row-odd"><td>=2</td>
</tr>
<tr class="row-even"><td>36/-64/64 36/65/64</td>
</tr>
<tr class="row-odd"><td>36/-65/64 36/67/64</td>
</tr>
<tr class="row-even"><td>36/-67/64 36/69/64</td>
</tr>
<tr class="row-odd"><td>36/-69/64 36/71/64</td>
</tr>
<tr class="row-even"><td>=3</td>
</tr>
<tr class="row-odd"><td>36/-71/64 36/72/64</td>
</tr>
<tr class="row-even"><td>72/-72/64</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
</tr>
<tr class="row-even"><td>.</td>
</tr>
<tr class="row-odd"><td>*-</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><tt class="docutils literal"><span class="pre">**MIDI</span></tt> data consist of three numbers separated by slashes (/). The
first integer represents the number of clock ticks that must elapse from
the previous instruction before the current event is initiated. In the
above case, a default value of 72 clock ticks per quarter-note has
resulted in 36 clock ticks for each eighth note. The second integer
represents the MIDI key number, where middle C is represented as key #60
(negative numbers denote key-off instructions). The third integer
represents the MIDI key velocity. The default key velocity is 64 units.</p>
<p>The second example illustrates the handling of input containing
multiple-stops. <a href="#id5"><span class="problematic" id="id6">``</span></a><a href="#id7"><span class="problematic" id="id8">``</span></a></p>
<blockquote>
<div>!! midi example #2
**harm
**kern
*
*Ch3
=1
=1
I
4c 4e 4g
IV
4c 4f 4a
V
4d 4g 4b
I
4e 4g 4cc
==
==
*-
*-</div></blockquote>
<p>The output below is generated by invoking the following command:</p>
<blockquote>
<div>`` midi -c input &gt; output``</div></blockquote>
<hr class="docutils" />
<blockquote>
<div>!! midi example #2
**harm
**MIDI
*
*Ch1
!!**harm
**kern
*
*Ch3
!!*
*Ch3
=1
=1
!!=1
=1
I
0/60/64 0/64/64 0/67/64
!!I
4c 4e 4g
IV
96/-60/64 96/-64/64 96/-67/64 96/60/64 96/65/64 96/69/64
!!IV
4c 4f 4a
V
96/-60/64 96/-65/64 96/-69/64 96/62/64 96/67/64 96/71/64
!!V
4d 4g 4b
I
96/-62/64 96/-67/64 96/-71/64 96/64/64 96/67/64 96/72/64
!!I
4e 4g 4cc
==
==
!!==
==
.
96/-64/64 96/-67/64 96/-72/64
*-
*-
!!*-
*-</div></blockquote>
<p>Notice that non-kern data (<tt class="docutils literal"><span class="pre">**harm</span></tt>) is echoed in the output. Also,
notice that each input record has been reproduced as a global comment
(preceded by !!). This feature is useful in conjunction with the
<a class="reference external" href="perform.html">**perform**</a> command.</p>
</div>
<hr class="docutils" />
<div class="section" id="diagnostics">
<h2>DIAGNOSTICS<a class="headerlink" href="#diagnostics" title="Permalink to this headline">¶</a></h2>
<p>The <strong>midi</strong> command echoes tempo indications for the benefit of the
<a class="reference external" href="perform.html">**perform**</a> command. If a tempo range is specified
(e.g. MM92-98), <strong>midi</strong> calculates the average range and echoes that
(MM95). Tempo terms (such as &#8220;largo&#8221;) are not handled by <strong>midi.</strong></p>
</div>
<hr class="docutils" />
<div class="section" id="portability">
<h2>PORTABILITY<a class="headerlink" href="#portability" title="Permalink to this headline">¶</a></h2>
<p>DOS 2.0 and up.</p>
</div>
<hr class="docutils" />
<div class="section" id="see-also">
<h2>SEE ALSO<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="humdrum.html">**humdrum**</a> (4), <strong>**kern</strong> (2),
<a class="reference external" href="kern.html">**kern**</a> (4), <strong>**MIDI</strong> (2),
<a class="reference external" href="perform.html">**perform**</a> (4), <a class="reference external" href="proof.html">**proof**</a> (4),
<a class="reference external" href="smf.html">**smf**</a> (4), <a class="reference external" href="tacet.html">**tacet**</a> (4)</p>
</div>
<hr class="docutils" />
<div class="section" id="proposed-modifications">
<h2>PROPOSED MODIFICATIONS<a class="headerlink" href="#proposed-modifications" title="Permalink to this headline">¶</a></h2>
<p>Channel assigment tandem interpretations (e.g. <tt class="docutils literal"><span class="pre">*Ch6</span></tt>) should be
recognized in the input stream and cause the default channel 1 output to
be suppressed.</p>
<hr class="docutils" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li>Pertinent descriptions in the Humdrum User Guide: <a class="reference external" href="../guide07.html#The_**MIDI_Representation">**The **MIDI
representation,**</a>
<a class="reference external" href="../guide07.html#The_midi_Command">**The *midi* command.**</a></li>
<li><a class="reference external" href="../commands.toc.html">**Index to Humdrum Commands**</a></li>
<li><a class="reference external" href="../guide.toc.html">**Table for Contents for Humdrum User Guide**</a></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>


          </div>
          <footer>
  <hr/>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <center><a href="../midreset/" class="btn btn-neutral float-right" title="Command: midreset">Next <span class="fa fa-arrow-circle-right"></span></a></center>
      
      
        <a href="../metpos/" class="btn btn-neutral" title="Command: metpos"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
      
             <center><a href="../../_sources/man/midi.txt" rel="nofollow"> View page source</a></center>
      
    </div>
  



  <div role="contentinfo">
    <p>
    </p>
  </div>


</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
   
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-52162357-1', 'humdrum.org');
  ga('send', 'pageview');
</script>



</body>
</html>