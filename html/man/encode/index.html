

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Command: encode &mdash; humdrum-tools 1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="humdrum-tools 1 documentation" href="../../"/>
        <link rel="up" title="Humdrum Command Manual" href="../"/>
        <link rel="next" title="Command: extract" href="../extract/"/>
        <link rel="prev" title="Command: ekern" href="../ekern/"/>
   <link rel="stylesheet" type"text/css" href="../../_static/humdrum.css">


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../../" class="fa fa-home"> humdrum-tools</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="../../install/">Humdrum Installation Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../install/github/">Installing Humdrum Tools from GitHub</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../guide/">The Humdrum User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch01/">Chapter 1: Humdrum: A Brief Tour</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch02/">Chapter 2: Representing Music Using **kern (I)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch03/">Chapter 3: Some Initial Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch04/">Chapter 4: Basic Pitch Translations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch05/">Chapter 5: The Humdrum Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch06/">Chapter 6: Representing Music Using **kern (II)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch07/">Chapter 7: MIDI Output Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch08/">Chapter 8: The Shell (I)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch09/">Chapter 9: Searching with Regular Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch10/">Chapter 10: Musical Uses of Regular Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch11/">Chapter 11: Melodic Intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch12/">Chapter 12: Selecting Musical Parts and Passages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch13/">Chapter 13: Assembling Scores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch14/">Chapter 14: Stream Editing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch15/">Chapter 15: Harmonic Intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch16/">Chapter 16: The Shell (II)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch17/">Chapter 17: Creating Inventories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch18/">Chapter 18: Fingers, Footsteps and Frets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch19/">Chapter 19: Musical Contexts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch20/">Chapter 20: Strophes, Verses, and Repeats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch21/">Chapter 21: Searching for Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch22/">Chapter 22: Classifying</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch23/">Chapter 23: Rhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch24/">Chapter 24: The Shell (III)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch25/">Chapter 25: Similarity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch26/">Chapter 26: Moving Signifiers Between Spines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch27/">Chapter 27: Text and Lyrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch28/">Chapter 28: Dynamic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch29/">Chapter 29: Differences and Commonalities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch30/">Chapter 30:MIDI Input Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch31/">Chapter 31: Repertories and Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch32/">Chapter 32: The Shell (IV)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch33/">Chapter 33: Word Sounds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch34/">Chapter 34: Serial Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch35/">Chapter 35: Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch36/">Chapter 33: Sound and Spectra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch37/">Chapter 37: Electronic Music Editing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch38/">Chapter 38: Systematic Musicology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch39/">Chapter 39: Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch40/">Chapter 40: Conclusion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/bibliography/">The Humdrum Toolkit: A Bibliography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/sample.problems/">Sample Problems Using the Humdrum Toolkit</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../humextra/">Humdrum Extras</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/intro/">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/rhythm/">2. Rhythm and Time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/melody/">Melody and Pitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/harmony/">Harmony</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/data/">Data Entry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/searching/">Music Searching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/midi/">MIDI Rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/notation/">Graphical Musical Notation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/other/">Other Useful Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/programming/">Programming Tutorial</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cookbook/">The Humdrum Cookbook</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../cookbook/vimHighlighting/">Syntax Coloring in Vim</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../">Humdrum Command Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../assemble/">Command: assemble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../barks/">Command: barks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cbr/">Command: cbr</a></li>
<li class="toctree-l2"><a class="reference internal" href="../census/">Command: census</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cents/">Command: cents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cleave/">Command: cleave</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cocho/">Command: cocho</a></li>
<li class="toctree-l2"><a class="reference internal" href="../context/">Command: context</a></li>
<li class="toctree-l2"><a class="reference internal" href="../correl/">Command: correl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deg/">Command: deg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../degree/">Command: degree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../diss/">Command: diss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ditto/">Command: ditto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dur/">Command: dur</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ekern/">Command: ekern</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Command: encode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extract/">Command: extract</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fade/">Command: fade</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fields/">Command: fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../freq/">Command: freq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hint/">Command: hint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../humdrum/">Command: humdrum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../humsed/">Command: humsed</a></li>
<li class="toctree-l2"><a class="reference internal" href="../humver/">Command: humver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../infot/">Command: infot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iv/">Command: iv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kern/">Command: kern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../key/">Command: key</a></li>
<li class="toctree-l2"><a class="reference internal" href="../melac/">Command: melac</a></li>
<li class="toctree-l2"><a class="reference internal" href="../melvel/">Command: melvel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metpos/">Command: metpos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../midi/">Command: midi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../midreset/">Command: midreset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mint/">Command: mint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ms/">Command: ms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nf/">Command: nf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../num/">Command: num</a></li>
<li class="toctree-l2"><a class="reference internal" href="../patt/">Command: patt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pattern/">Command: pattern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pc/">Command: pc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pcset/">Command: pcset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../perform/">Command: perform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pf/">Command: pf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pitch/">Command: pitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof/">Command: proof</a></li>
<li class="toctree-l2"><a class="reference internal" href="../recode/">Command: recode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../record/">Command: record</a></li>
<li class="toctree-l2"><a class="reference internal" href="../regexp/">Command: regexp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reihe/">Command: reihe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rend/">Command: rend</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rid/">Command: rid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scramble/">Command: scramble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../semits/">Command: semits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../simil/">Command: simil</a></li>
<li class="toctree-l2"><a class="reference internal" href="../smf/">Command: smf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../solfa/">Command: solfa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../solfg/">Command: solfg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../specc/">Command: specc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spect/">Command: spect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../strophe/">Command: strophe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../synco/">Command: synco</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tacet/">Command: tacet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../text/">Command: text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../themefinder/">Command: thmea</a></li>
<li class="toctree-l2"><a class="reference internal" href="../thru/">Command: thru</a></li>
<li class="toctree-l2"><a class="reference internal" href="../timebase/">Command: timebase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tonh/">Command: tonh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trans/">Command: trans</a></li>
<li class="toctree-l2"><a class="reference internal" href="../urrhythm/">Command: urrhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../veritas/">Command: veritas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vox/">Command: vox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xdelta/">Command: xdelta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../yank/">Command: yank</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ydelta/">Command: ydelta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../#commands">Commands</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rep/">Humdrum Data Representations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../rep/barlines/">Representation: barlines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/IPA/">Representation: **IPA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/MIDI/">Representation: **MIDI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/Tonh/">Representation: **Tonh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/URrhythm/">Representation: **URrhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/Zeit/">Representation: **Zeit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/bhatk/">Representation: **bhatk</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/cents/">Representation: **cents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/correl/">Representation: **correl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/dB/">Representation: **dB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/date/">Representation: **date</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/deg/">Representation: **deg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/degree/">Representation: **degree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/diss/">Representation: **diss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/dur/">Representation: **dur</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/embel/">Representation: **embel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/freq/">Representation: **freq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/fret/">Representation: **fret</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/harm/">Representation: **harm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/hildegard/">Representation: **hildegard</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/hint/">Representation: **hint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/iv/">Representation: **iv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/kern/">Representation: **kern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/melac/">Representation: **melac</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/metpos/">Representation: **metpos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/mint/">Representation: **mint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/ordo/">Representation: **ordo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/pc/">Representation: **pc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/pcset/">Representation: **pcset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/pitch/">Representation: **pitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/recip/">Representation: **recip</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/semits/">Representation: **semits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/silbe/">Representation: **silbe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/simil/">Representation: **simil</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/solfa/">Representation: **solfa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/solfg/">Representation: **solfg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/specC/">Representation: **specC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/spect/">Representation: **spect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/synco/">Representation: **synco</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/takt/">Representation: **takt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/text/">Representation: **text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/time/">Representation: **time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/timebase/">Representation: **timebase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/vox/">Representation: **vox#</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../">humdrum-tools</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../">Docs</a> &raquo;</li>
      
          <li><a href="../">Humdrum Command Manual</a> &raquo;</li>
      
    <li>Command: encode</li>
      <li class="wy-breadcrumbs-aside">
        
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="command-encode">
<h1>Command: encode<a class="headerlink" href="#command-encode" title="Permalink to this headline">¶</a></h1>
<hr class="docutils" />
<div class="section" id="command">
<h2>COMMAND<a class="headerlink" href="#command" title="Permalink to this headline">¶</a></h2>
<p><strong>encode</strong> &#8211; interactive Humdrum encoding from MIDI input</p>
</div>
<hr class="docutils" />
<div class="section" id="synopsis">
<h2>SYNOPSIS<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p>`` encode [-r controlfile.rc] [editfile]``</p>
</div>
<hr class="docutils" />
<div class="section" id="description">
<h2>DESCRIPTION<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The <strong>encode</strong> command provides an interactive editor for capturing
Humdrum data from a MIDI input device. The operation of <strong>encode</strong> can
be tailored by the user to generate a wide range of Humdrum
representations &#8211; including representations designed by the user.</p>
<p>The <strong>encode</strong> command is limited to encoding information one spine at a
time. A typical use of <strong>encode</strong> might be to encode individual musical
&#8220;parts&#8221; or &#8220;voices&#8221; in a representation such as <tt class="docutils literal"><span class="pre">**kern</span></tt>; the user
might then use the Humdrum <strong>timebase</strong> and <strong>assemble</strong> commands to
construct a full score from the encoded parts. The user must have access
to an appropriate MIDI controller connected via a Roland MPU-401 (or
compatible) MIDI controller card. Currently, <strong>encode</strong> is available
only for IBM PC or compatible hardware running under the DOS operating
system.</p>
<p>The <strong>encode</strong> command implements a full-screen interactive text editor
&#8211; similar to the <strong>vi</strong> text editor. When invoked, the screen is
divided into three display regions: a <em>status window,</em> a <em>command
window,</em> and a larger <em>text window.</em> The <em>status window</em> displays
various pieces of information, including the name of the file being
edited, the current size of the file (in bytes), the run-control
(<tt class="docutils literal"><span class="pre">.rc</span></tt>) file used to configure the editor, the number of beats per
measure, the output signifier assigned to each beat, the current
metronome rate, and mode. The <em>command window</em> is used to construct and
execute general-purpose commands. The <em>text window</em> is used to display
and edit the encoded Humdrum text.</p>
<p>The editor has four modes of operation: <em>edit mode,</em> <em>input mode,</em> <em>MIDI
input mode,</em> and <em>command mode.</em></p>
</div>
<hr class="docutils" />
<div class="section" id="edit-mode">
<h2>EDIT MODE<a class="headerlink" href="#edit-mode" title="Permalink to this headline">¶</a></h2>
<p>When <strong>encode</strong> is first invoked, the editor is placed in <em>edit mode.</em>
If an edit-file has been specified in the command-line, then the
beginning of any existing text is displayed in the text window. Edit
mode allows the user to move to particular locations in the text and
execute certain types of text manipulation instructions. Movement
through the text can be achieved by either scrolling the display, or by
relative cursor motions within the text window. The cursor position is
indicated by a pulsing underscore character.</p>
<p>Four scrolling commands are available. <strong>Control-F</strong> is used to scroll
forward in the document by one page. <strong>Control-B</strong> is used to scroll
backward by one page. <strong>Control-D</strong> is used to scroll down by half a
page. <strong>Control-U</strong> is used to scroll up by half a page. The
<strong>page-down</strong> and <strong>page-up</strong> keys can be used instead of CTRL-F and
CTRL-B respectively. If any of these commands is preceded by a typed
<em>number,</em> then the action is repeated <em>number</em> times. Hence <tt class="docutils literal"><span class="pre">5</span></tt> will
cause the display to advance five pages.</p>
<p>Movement to specific line numbers can be achieved using the upper-case
`<strong>G</strong>&#8216; command preceded by the desired line number. If no line
number is specified, the <strong>G</strong> command causes the cursor to be moved to
the end of the file.</p>
<p>Vertical motions of the cursor relative to the displayed text can be
controlled by a variety of means. The up and down cursor-control keys
move the cursor up one line or down one line respectively.
Alternatively, the lower-case letters `<strong>k</strong>&#8216; and `<strong>j</strong>&#8216; may be
used for up and down movements &#8211; as in the <strong>vi</strong> text editor. If the
cursor is at the bottom or top of the screen, cursor movement down or up
a line (respectively) will cause the screen to scroll one line as
needed. The carriage return or <strong>ENTER</strong> key will cause the cursor to
move to the beginning of the next line. Once again, if any of these
commands is preceded by a typed <em>number,</em> then the action is repeated
<em>number</em> times.</p>
<p>The upper-case letter `<strong>H</strong>&#8216; positions the cursor at the highest
line displayed on the screen, whereas the upper-case letter `<strong>L</strong>&#8216;
positions the cursor at the lowest line displayed on the current screen.
Alternatively, the `<strong>home</strong>&#8216; and `<strong>end</strong>&#8216; keys can be used to
move the cursor to the top and bottom respectively. The upper-case
letter `<strong>M</strong>&#8216; positions the cursor in the middle of the current
screen. In all of these commands, the cursor is positioned at the
horizontal beginning of the appropriate line.</p>
<p>Horizontal motions of the cursor within a line can be carried out using
the left (<strong>&lt;-</strong>) and right (<strong>-&gt;</strong>) arrow keys. Alternatively, the
lower-case `<strong>h</strong>&#8216; and `<strong>l</strong>&#8216; keys can be used as aliases for the
left and right cursor motions &#8211; as in the <strong>vi</strong> text editor. The
<strong>space</strong> bar can also be used to move the cursor to the right. The
dollar sign (<strong>$</strong>) causes the cursor to move to the end of the current
line. The number zero (<strong>0</strong>) or the caret (<strong>^</strong>) causes the cursor to
move to the beginning of the current line.</p>
<p>Horizontal cursor movements may also be defined by context. Where
multiple data tokens are encoded on a single line, the `<strong>w</strong>&#8216;
command causes the cursor to move forward word-by-word, whereas the
`<strong>b</strong>&#8216; command causes backward movement word-by-word. A <em>word</em> is
defined as any character string separated by spaces (or by new lines).
In both the `<strong>w</strong>&#8216; and `<strong>b</strong>&#8216; commands the cursor is placed at
the beginning of the appropriate word.</p>
<p>Three forms of simple text deletions are possible in <em>edit mode.</em> The
character corresponding to the current cursor position can be deleted by
typing the lower-case letter `<strong>x</strong>&#8216;. The character immediately
before the current cursor position can be deleted by typing the
upper-case letter `<strong>X</strong>&#8216;. The lower-case letter `<strong>d</strong>&#8216; will
cause the current line to be deleted; line deletions may also be
achieved by typing the `<strong>Del</strong>&#8216; key. Preceding any of these commands
by a typed <em>number</em> causes the action to be repeated <em>number</em> times. The
most recent deletion can be restored or &#8220;undone&#8221; by typing the
lower-case letter `<strong>u</strong>&#8216;.</p>
</div>
<hr class="docutils" />
<div class="section" id="input-mode">
<h2>INPUT MODE<a class="headerlink" href="#input-mode" title="Permalink to this headline">¶</a></h2>
<p>The <em>input mode</em> allows the manual inputting of typed characters into
the text file. This mode is invoked from the <em>edit mode</em> by typing
either `<strong>a</strong>&#8216;, `<strong>i</strong>&#8216;, `<strong>o</strong>&#8216;, or `<strong>O</strong>&#8216;. When any of
these commands is invoked, the cursor increases in size and the status
window reports the new mode. Typing the letter `<strong>i</strong>&#8216; will cause all
subsequently typed material to be <em>inserted</em> immediately prior to the
current cursor position. Typing the letter `<strong>a</strong>&#8216; will cause all
subsequently typed material to be <em>appended</em> following the current
cursor position. This can also be achieved by typing the `<strong>Ins</strong>&#8216; or
`<strong>INSERT</strong>&#8216; key. Typing the letter `<strong>o</strong>&#8216; will cause a new line
to be <em>opened</em> following the current line; subsequently typed material
will begin on this new line. Typing the upper-case letter `<strong>O</strong>&#8216;
will cause a new line to be opened immediately <em>prior</em> to the current
line.</p>
<p>Once the input mode is invoked, typed ASCII characters will be added at
the current cursor position until the ESCape or TAB key is pressed.
Pressing ESCape or TAB will return <strong>encode</strong> to the <em>edit mode.</em> Tabs
are explicitly forbidden as input in order to reduce the possibility of
creating text that does not conform to the Humdrum syntax.</p>
</div>
<hr class="docutils" />
<div class="section" id="midi-input-mode">
<h2>MIDI INPUT MODE<a class="headerlink" href="#midi-input-mode" title="Permalink to this headline">¶</a></h2>
<p>The most characteristic feature of <strong>encode</strong> is the <em>MIDI input mode.</em>
The MIDI input mode can be invoked from <em>edit mode</em> by typing either of
the upper-case letters `<strong>A</strong>&#8216; or `<strong>I</strong>&#8216;. The letter `<strong>I</strong>&#8216;
will cause all subsequent MIDI-driven input to be <em>inserted</em> immediately
prior to the current line. The letter `<strong>A</strong>&#8216; will cause all
subsequent MIDI-driven input to be <em>appended</em> immediately following the
current line.</p>
<p>In the <em>MIDI input mode,</em> data is entered into the current document
according to user-defined mappings between <em>MIDI events</em> (such as caused
by playing on a MIDI keyboard) and ASCII character strings. Predefined
mappings are specified in a <em>run-time control</em> (<tt class="docutils literal"><span class="pre">.rc</span></tt>) file. When the
<strong>encode</strong> command is invoked, it must have access to a`` .rc`` file
containing configuration information. The user can identify a
specific`` .rc`` file on the command line via the <strong>-r</strong> option (see
<a class="reference external" href="#OPTIONS">OPTIONS</a>). Alternatively, <strong>encode</strong> will seek a
default`` .rc`` file (named <tt class="docutils literal"><span class="pre">encode.rc</span></tt>) residing in the the current
directory, or if absent, in the <tt class="docutils literal"><span class="pre">$HUMDRUM/etc</span></tt> directory. The run-time
control file is essential to the operation of <strong>encode,</strong> and inability
to locate a `` .rc`` file will cause <strong>encode</strong> to abort (see discussion
in <a class="reference external" href="#OPTIONS">OPTIONS</a> below).</p>
<p>The run-control file contains a series of definitions mapping MIDI
events to output strings. Three classes of MIDI events can be mapped:
<em>key number</em> (<tt class="docutils literal"><span class="pre">KEY</span></tt>), <em>delta-time</em> (<tt class="docutils literal"><span class="pre">DEL</span></tt>), and <em>key velocity</em>
(<tt class="docutils literal"><span class="pre">VEL</span></tt>). Normally, a`` .rc`` file contains a number of definitions
for each class of event, although some events may not appear at all in
some`` .rc`` files.</p>
<p>By way of example, the run-control instruction:</p>
<blockquote>
<div>`` KEY 60 middle-C``</div></blockquote>
<p>assigns the key-on event for MIDI key #60 to the string <tt class="docutils literal"><span class="pre">middle-C</span></tt>.
When in <em>MIDI input mode,</em> each key-on event for key #60 will cause the
string <tt class="docutils literal"><span class="pre">middle-C</span></tt> to be prepared for insertion into the text window.
Typically, a number of <tt class="docutils literal"><span class="pre">KEY</span></tt> definitions will appear in a given
run-control file &#8211; often one definition for each MIDI key (0 to 127).</p>
<p>A second class of MIDI events is key-down velocity (<tt class="docutils literal"><span class="pre">VEL</span></tt>). Key
velocities can range between 0 (low key velocity) and 127 (high key
velocity). Each <tt class="docutils literal"><span class="pre">VEL</span></tt> mapping specifies a range of values for which a
given string will be output. By way of example, the following assignment
maps key velocity values between 90 and 127 to a string consisting
merely of the apostrophe (the <tt class="docutils literal"><span class="pre">**kern</span></tt> signifier for a staccato note):</p>
<blockquote>
<div>`` VEL 90 127 &#8216;``</div></blockquote>
<p>Given this mapping, key-down velocities within the specified range will
cause the apostrophe character to be prepared for insertion into the
text window.</p>
<p>A third class of MIDI events is delta-time (<tt class="docutils literal"><span class="pre">DEL</span></tt>). When determing the
&#8220;duration&#8221; of a performed note, the durations of individual key-presses
are confound by the articulation. In general, performing musicians are
less concerned by the <em>duration</em> of individual key-presses, than by the
keypress-to-keypress time spans; the elapsed time between one key-onset
and the next key-onset provides a better estimate of the nominal musical
duration of a note than the actual held duration. The variable <tt class="docutils literal"><span class="pre">DEL</span></tt>
contains the <em>difference between successive key-onset times</em> &#8211;
expressed in MIDI clock ticks. Values of <tt class="docutils literal"><span class="pre">DEL</span></tt> may range from 0
upward. For a tempo of 60 beats per minute, inter-onset durations of one
second correspond to <tt class="docutils literal"><span class="pre">DEL</span></tt> values of about 100.</p>
<p>The following sample`` .rc`` file illustrates a simple run-control
file. Notice that a series of <tt class="docutils literal"><span class="pre">DEL</span></tt> ranges have been defined and
mapped to <tt class="docutils literal"><span class="pre">**kern</span></tt>- or <tt class="docutils literal"><span class="pre">**recip</span></tt>-type durations. For example,
inter-onset times lying between 48 and 80 clock ticks generate the
output string `<tt class="docutils literal"><span class="pre">8</span></tt>&#8216;; values between 113 and 160 generate the string
`<tt class="docutils literal"><span class="pre">4</span></tt>&#8216; and so on. Notice that this file restricts the number of
possible output &#8220;durations&#8221; to just five. <a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">``</span></a></p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td># Sample .rc file</td>
</tr>
<tr class="row-even"><td>KEY 60 c</td>
</tr>
<tr class="row-odd"><td>KEY 62 d</td>
</tr>
<tr class="row-even"><td>KEY 64 e</td>
</tr>
<tr class="row-odd"><td>KEY 65 f</td>
</tr>
<tr class="row-even"><td>KEY 67 g</td>
</tr>
<tr class="row-odd"><td>KEY 69 a</td>
</tr>
<tr class="row-even"><td>KEY 71 b</td>
</tr>
<tr class="row-odd"><td>KEY 72 cc</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>DEL 48 80 8</td>
</tr>
<tr class="row-even"><td>DEL 81 112 8.</td>
</tr>
<tr class="row-odd"><td>DEL* 113 160 4</td>
</tr>
<tr class="row-even"><td>DEL 161 224 4.</td>
</tr>
<tr class="row-odd"><td>DEL 225 320 2</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>VEL 90 127 &#8216;</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>ORDER DEL KEY VEL</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Any records in the run-control file beginning with a <strong>#</strong> character are
treated as comments. Empty lines are ignored.</p>
<p>The effect of the above run-control file can be illustrated by example.
Imagine that <strong>encode</strong> received two key-on events (key #60 followed by
key #62), where the first key exhibited a velocity value of 94 and the
inter-onset time (<tt class="docutils literal"><span class="pre">DEL</span></tt>) was 100. The first key (#60) would be mapped
to the string `<tt class="docutils literal"><span class="pre">c</span></tt>&#8216;; the delta-time would be mapped to the string
`<tt class="docutils literal"><span class="pre">8.</span></tt>&#8216;; and the key-velocity (<tt class="docutils literal"><span class="pre">VEL</span></tt>) would be mapped to the
apostrophe. At the moment of the key-onset for key #62, these three
strings would be amalgamated according to the <tt class="docutils literal"><span class="pre">ORDER</span></tt> instruction
(<tt class="docutils literal"><span class="pre">DEL</span></tt> first, <tt class="docutils literal"><span class="pre">KEY</span></tt> second, and <tt class="docutils literal"><span class="pre">VEL</span></tt> third) &#8211; producing the
output string: <tt class="docutils literal"><span class="pre">8.c'</span></tt></p>
<p>Notice that <strong>encode</strong> outputs assembled strings only when the <em>next</em>
key-on event occurs. This means that the text display is always one
&#8220;note&#8221; behind the performer. Note that if musical durations are based on
key inter-onset times, it is impossible to output a note prior to the
onset of the next note. The last note in a buffer can be flushed by
typing the ESCape key. (The timing of the last note is based on the
<tt class="docutils literal"><span class="pre">DEL</span></tt> between key-onset and the moment of pressing ESCape.)</p>
<p>In addition to mapping velocities, inter-onset times, and key numbers,
run-control files can define a number of other attributes. The MIDI
channel number attended to by <strong>encode</strong> can be set by the <tt class="docutils literal"><span class="pre">RECEIVE</span></tt>
instruction. Any one of 16 channels (1-16) can be selected. A default
channel 1 is assumed if no <tt class="docutils literal"><span class="pre">RECEIVE</span></tt> instruction is present in the
run-control file.</p>
<p>The <strong>encode</strong> command has a built-in metronome for assisting real-time
encoding. The metronome sends commands to the MIDI instrument generating
metronome tones. Two types of tones are generated &#8211; tones marking each
beat, and tones marking the beginning of each measure. The metronome
rate (in beats per minute) is set by the TEMPO command. The beat is
specified in two ways. The default beat is indicated by the presence of
an asterisk following <em>one</em> of the DEL instructions. In the above
example, the signifier `4&#8217; is assigned to the default beat. Apart from
the default beat, the beat may also be explicitly assigned using the
BEAT instruction. This instruction is followed by a single argument
identifying the output <em>signifier</em> intended to coincide with each
metronome beat. For example, <tt class="docutils literal"><span class="pre">BEAT</span> <span class="pre">4.</span></tt> would set the beat in the above
example to the dotted quarter, rather than the quarter. Note that the
specified signifier in the BEAT command must correspond to one of the
existing signifiers defined using a DEL instruction.</p>
<p>The following table lists all of the types of instructions permitted in
a run-control file.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="39%" />
<col width="61%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td># <em>text</em></td>
<td>unexecutable comment</td>
</tr>
<tr class="row-even"><td>BEAT <em>string</em></td>
<td>set beat to DEL whose output signifier is <em>string</em></td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>beat</td>
</tr>
<tr class="row-even"><td>BUFFER <em>n text</em></td>
<td>define (potentially multi-line) text buffer # <em>in</em></td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>(0-9)</td>
</tr>
<tr class="row-even"><td>DEL <em>min max string</em></td>
<td>key inter-onset times between <em>min</em> and <em>max</em></td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>clock ticks cause <em>string</em> to be output</td>
</tr>
<tr class="row-even"><td>KEY <em>n string</em></td>
<td>MIDI key-on #<em>n</em> causes <em>string</em> to be output</td>
</tr>
<tr class="row-odd"><td>METER <em>n</em></td>
<td>define number of beats per measure as <em>n</em></td>
</tr>
<tr class="row-even"><td>METRE <em>n</em></td>
<td>same as METER</td>
</tr>
<tr class="row-odd"><td>MM <em>on|off</em></td>
<td>switch metronome <em>on</em> or <em>off</em>; default is <em>on</em></td>
</tr>
<tr class="row-even"><td>ORDER <em>codeword1 codeword2 ...</em></td>
<td>define order of string outputs, where codewords are</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>selected from: BUFFER, DEL, KEY, SRING, VEL</td>
</tr>
<tr class="row-even"><td>RECEIVE <em>n</em></td>
<td>define the MIDI channel from which data is</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>accepted</td>
</tr>
<tr class="row-even"><td>STRING <em>n text</em></td>
<td>define string constant # <em>in</em> (0-9)</td>
</tr>
<tr class="row-odd"><td>TEMPO <em>n</em></td>
<td>set metronome to <em>n</em> beats per minute</td>
</tr>
<tr class="row-even"><td>VEL <em>min max string</em></td>
<td>key-down velocities between <em>min</em> and <em>max</em></td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>cause <em>string</em> to be output</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><em>Definition types for **encode**</em></p>
<p>The <tt class="docutils literal"><span class="pre">BUFFER</span></tt>, <tt class="docutils literal"><span class="pre">DEL</span></tt>, <tt class="docutils literal"><span class="pre">KEY</span></tt>, <tt class="docutils literal"><span class="pre">STRING</span></tt>, and <tt class="docutils literal"><span class="pre">VEL</span></tt> instructions
can be repeated multiple times within the <tt class="docutils literal"><span class="pre">.rc</span></tt> file. All other
instructions (<tt class="docutils literal"><span class="pre">BEAT</span></tt>, <tt class="docutils literal"><span class="pre">METER</span></tt>, <tt class="docutils literal"><span class="pre">MM</span></tt>, <tt class="docutils literal"><span class="pre">TEMPO</span></tt>, <tt class="docutils literal"><span class="pre">ORDER</span></tt> and
<tt class="docutils literal"><span class="pre">RECEIVE</span></tt>) should appear only once in the <tt class="docutils literal"><span class="pre">.rc</span></tt> file. The <tt class="docutils literal"><span class="pre">BEAT</span></tt>
and <tt class="docutils literal"><span class="pre">TEMPO</span></tt> instructions cannot appear in the <tt class="docutils literal"><span class="pre">.rc</span></tt> file until after
the default beat (<tt class="docutils literal"><span class="pre">DEL*</span></tt>) has been defined.</p>
</div>
<hr class="docutils" />
<div class="section" id="command-mode">
<h2>COMMAND MODE<a class="headerlink" href="#command-mode" title="Permalink to this headline">¶</a></h2>
<p>The <strong>encode</strong> <em>command mode</em> allows a number of general-purpose
commands to be executed &#8211; such as editing a specified file, changing a
default mapping, or auditioning the encoded material. The <em>command mode</em>
can be invoked from the <strong>encode</strong> <em>edit mode</em> by typing the colon
character (:).</p>
<p>Each command is formulated in the <em>command window</em> and launched by
pressing the ENTER key. After execution, <strong>encode</strong> is returned to <em>edit
mode.</em></p>
<p>Most commands consist of a single character; some commands require one
or more parameters.</p>
<p>The `<strong>w</strong>&#8216; command causes the current text to be written to disk. If
there is currently no active filename, then an error is displayed
indicating that <strong>encode</strong> is unable to write a file without knowledge
of the filename. The command `w <em>filename</em>&#8216; will cause the current
contents to be written to the file <em>filename</em>. If <strong>encode</strong> was invoked
with a specified filename, then that filename is active throughout the
session.</p>
<p>If the user attempts to write to an existing file (that was not
specified when <strong>encode</strong> was invoked), then an error message is issued.
Overwriting an existing file can be achieved by appending an exclamation
mark following the write instruction &#8211; as in `<strong>w! *filename*</strong>.&#8217;</p>
<p>The `<strong>q</strong>&#8216; command causes <strong>encode</strong> to terminate. If the current
file has been modified without writing to disk, then a warning will be
displayed and the quit instruction ignored. Appending an exclamation
mark (`**q!**&#8217;) will cause <strong>encode</strong> to terminate without saving any
recent modifications.</p>
<p>Note that the <em>quit</em> and <em>write</em> commands can be combined as a single
instruction &#8211; `<strong>wq</strong>&#8216;.</p>
<p>The `<strong>r *filename*</strong>&#8216; command causes <strong>encode</strong> to read the file
<em>filename</em> into the text, beginning at the line following the current
cursor position.</p>
<p>The `<strong>v</strong>&#8216; command causes <strong>encode</strong> to spawn a <strong>vi</strong> text editing
session &#8211; importing the current <strong>encode</strong> text. The <strong>vi</strong> text editor
provides text manipulation capabilities, including searching,
substitution, and macro-instruction facilities not available in
<strong>encode.</strong> (Refer to the UNIX <strong>vi</strong> reference document for further
information.) When the <strong>vi</strong> session is closed, the edited text file is
returned to the <strong>encode</strong> session.</p>
<p>The `<strong>m</strong>&#8216; command invokes a Humdrum pipeline that is suitable for
auditioning text data conforming to either the <tt class="docutils literal"><span class="pre">**kern</span></tt> or <tt class="docutils literal"><span class="pre">**MIDI</span></tt>
representation formats. Specifically, `<strong>m</strong>&#8216; causes the current text
to be passed to the Humdrum pipeline: <tt class="docutils literal"><span class="pre">midi</span> <span class="pre">-c</span> <span class="pre">|</span> <span class="pre">perform</span></tt>. Any
<tt class="docutils literal"><span class="pre">**kern</span></tt> data will be translated to <tt class="docutils literal"><span class="pre">**MIDI</span></tt> data and sent to the
<tt class="docutils literal"><span class="pre">perform</span></tt> command. The user can then interactively proof-listen or
audition the encoded data. Refer to the <strong>perform (4)</strong> for information
regarding the types of interactive commands available during
proof-listening. The <strong>perform</strong> command is terminated when the
end-of-file is reached, or if the user presses either the ESCape key or
the letter `q&#8217;. In either case, control is returned to <strong>encode.</strong></p>
<p>The `<strong>b</strong>&#8216; command is used to read buffer text defined in
the`` .rc`` file. Up to ten numbered buffers (0-9) can be defined. The
command:</p>
<blockquote>
<div>`` b 1``</div></blockquote>
<p>will cause any text denoted <tt class="docutils literal"><span class="pre">BUFFER</span> <span class="pre">1</span></tt> to be output following the
current cursor position. Use of the upper-case `<strong>B</strong>&#8216; rather than
`<strong>b</strong>&#8216; causes the buffer contents to be inserted prior to the
current line rather than following the current line.</p>
<p>Buffer zero (0) has a special status. When the <strong>encode</strong> command is
invoked, if the current text is empty (i.e. empty file or no filename
specified), then the contents of <tt class="docutils literal"><span class="pre">BUFFER</span> <span class="pre">0</span></tt> are automatically inserted
into the text. This provides a convenient way to import header
information for a newly encoded file.</p>
<p>The `<strong>rc *filename*</strong>&#8216; command causes <strong>encode</strong> to use a different
run-control file <em>filename</em>. This allows the <strong>encode</strong> environment to
be entirely reconfigured without interrupting the encoding session. This
command can prove useful, for example, when the music being encoded
changes key.</p>
<p>The <strong>set</strong> command can be used to define (or redefine) any parameters
permitted in a <tt class="docutils literal"><span class="pre">.rc</span></tt> file. For example, the tempo may be changed, the
metronome turned-off, the metronome beat redefined, a string variable
assigned, or a specific key re-mapped, e.g.</p>
<blockquote>
<div>`` set TEMPO 92  set MM off  set BEAT 4.  set STRING 3 !! Variation No. ...  set KEY 60 C4``</div></blockquote>
<p>For the <tt class="docutils literal"><span class="pre">BUFFER</span></tt> command, <strong>set</strong> defines an <em>additional</em> buffer
record, rather than replacing any existing buffer definitions.</p>
<p>Note that run-control keywords, such as <tt class="docutils literal"><span class="pre">TEMPO</span></tt>, may be spelled using
either upper-case or lower-case.</p>
<p>Note that due to the small size of the command window, especially long
command lines may wrap around within the window. This wrap-around has no
affect on the command operation.</p>
</div>
<hr class="docutils" />
<div class="section" id="summary">
<h2>SUMMARY<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>The various built-in commands in <strong>encode</strong> are summarized in the
following table.</p>
<blockquote>
<div><strong>EDIT MODE</strong>
CTRL-F
scroll forward one page
CTRL-B
scroll backward one page
CTRL-D
scroll down by half a page
CTRL-U
scroll up by half a page
scroll forward one page
scroll backward one page
move cursor down one line
move cursor up one line
j
move cursor down one line
k
move cursor up one line
move cursor to the beginning of the next line
H
move cursor to the top of the display
M
move cursor to the middle of the display
L
move cursor to the bottom of the display
move cursor to the top of the display
move cursor to the bottom of the display
-&gt;
move cursor one character to the right
&lt;-
move cursor one character to the left
l
move cursor one character to the right
h
move cursor one character to the left
move cursor one character to the right
x
delete character at current cursor position
X
delete character immediately preceding currrent cursor position
d
delete current line
u
undo most recent deletion or insertion command
insert text prior to current cursor position (invoke INPUT MODE)
i
insert text prior to current cursor position (invoke INPUT MODE)
a
insert text after to current cursor position (invoke INPUT MODE)
o
insert text beginning with the next line (invoke INPUT MODE)
O
insert text beginning with the previous line (invoke INPUT MODE)
A
invoke MIDI INPUT MODE; insert data beginning with the next line
I
invoke MIDI INPUT MODE; insert data beginning with the previous line
&lt;<em>number</em>&gt;
repeat ensuing command &lt;<em>number</em>&gt; times
<strong>INPUT MODE</strong>
ESC
return to EDIT MODE
return to EDIT MODE
<strong>MIDI INPUT MODE</strong>
ESC
complete last MIDI event and return to EDIT MODE
<strong>COMMAND MODE</strong>
b <em>n</em>
append run-control buffer number <em>n</em> following current cursor
position
B <em>n</em>
insert run-control buffer number <em>n</em> before current cursor position
m
invoke interactive proof-listening for <tt class="docutils literal"><span class="pre">**kern</span></tt> or <tt class="docutils literal"><span class="pre">**MIDI</span></tt> text
set <em>rc-command</em>
set or reset a <tt class="docutils literal"><span class="pre">.rc</span> <span class="pre">mapping</span></tt>
q
quit <strong>encode</strong>
q!
quit <strong>encode</strong> without saving modifications since last write
r <em>filename</em>
read input file <em>filename</em> at current cursor position
rc <em>controlfile</em>
use run-control file <em>controlfile</em> rather than current <tt class="docutils literal"><span class="pre">.rc</span> <span class="pre">file</span></tt>
s <em>n</em>
append run-control string number <em>n</em> following current cursor
position
S <em>n</em>
insert run-control string number <em>n</em> before current cursor position
v
spawn <strong>vi</strong> text editing session using current text
w [<em>filename</em>]
write file <em>filename</em> to disk; default filename is current file
w! <em>filename</em>
overwrite existing file <em>filename</em>
wq
write current file and quit</div></blockquote>
</div>
<hr class="docutils" />
<div class="section" id="options">
<h2>OPTIONS<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<p>The <strong>encode</strong> command provides the following options:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>-h</strong></td>
<td>displays a help screen summarizing the command syntax</td>
</tr>
<tr class="row-even"><td>-r <em>file.rc</em></td>
<td>invoke using the run-control file <em>file.rc</em></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Options are specified in the command line.</p>
<p>The <strong>-r</strong> option permits the user to identify a specific run-control
file to configure the <strong>encode</strong> editor. If this option is omitted,
<strong>encode</strong> will seek a default run-control file named <tt class="docutils literal"><span class="pre">encode.rc</span></tt> in
the current directory, or in the directory <tt class="docutils literal"><span class="pre">$HUMDRUM/etc</span></tt> if not
present in the current directory. If the option is specified, <strong>encode</strong>
will search the current directory for the specified run-control file. If
this search fails to locate the file, <strong>encode</strong> will search
<tt class="docutils literal"><span class="pre">$HUMDRUM/etc</span></tt>. If this fails, <strong>encode</strong> will treat the input
filename as an absolute file path. If this fails, encode will issue an
error message indicating that it failed to locate the specified
run-control file.</p>
</div>
<hr class="docutils" />
<div class="section" id="files">
<h2>FILES<a class="headerlink" href="#files" title="Permalink to this headline">¶</a></h2>
<p>A number of predefined <tt class="docutils literal"><span class="pre">.rc</span></tt> files are maintained in the
<tt class="docutils literal"><span class="pre">$HUMDRUM/etc</span></tt> directory. Exploration is encouraged. The default file
is <tt class="docutils literal"><span class="pre">$HUMDRUM/etc/encode.rc</span></tt>.</p>
</div>
<hr class="docutils" />
<div class="section" id="portability">
<h2>PORTABILITY<a class="headerlink" href="#portability" title="Permalink to this headline">¶</a></h2>
<p>DOS 2.0 and up. An appropriate MIDI controller (such as a keyboard
synthesizer) connected via a Roland MPU-401 (or compatible) MIDI
controller card. The <tt class="docutils literal"><span class="pre">vi</span></tt> text editor must be available in order to
invoke the `v&#8217; edit command.</p>
</div>
<hr class="docutils" />
<div class="section" id="warnings">
<h2>WARNINGS<a class="headerlink" href="#warnings" title="Permalink to this headline">¶</a></h2>
<p>Unlike the UNIX <strong>vi</strong> text editor, only a single `<strong>d</strong>&#8216; is required
in edit mode to delete a line (rather than two \fRd\fR&#8217;s). Experienced
<strong>vi</strong> users should be careful when deleting lines.</p>
<p>Note that the <tt class="docutils literal"><span class="pre">BEAT</span></tt> and <tt class="docutils literal"><span class="pre">TEMPO</span></tt> instructions cannot appear in the
<tt class="docutils literal"><span class="pre">.rc</span></tt> file until after the default beat (<tt class="docutils literal"><span class="pre">DEL*</span></tt>) has been defined.</p>
</div>
<hr class="docutils" />
<div class="section" id="see-also">
<h2>SEE ALSO<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="assemble.html">**assemble**</a> (4), <a class="reference external" href="cleave.html">**cleave**</a> (4),
<strong>encode.rc</strong> (5), <a class="reference external" href="humdrum.html">**humdrum**</a> (4), <strong>**kern</strong> (2),
<strong>**MIDI</strong> (2), <a class="reference external" href="midi.html">**midi**</a> (4), <a class="reference external" href="num.html">**num**</a>
(4), <a class="reference external" href="perform.html">**perform**</a> (4), <a class="reference external" href="proof.html">**proof**</a> (4),
<a class="reference external" href="record.html">**record**</a> (4), <a class="reference external" href="timebase.html">**timebase**</a> (4),
<strong>vi</strong> (UNIX)</p>
</div>
<hr class="docutils" />
<div class="section" id="references">
<h2>REFERENCES<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p>Use the the Music Quest Inc. MIDI library functions is gratefully
acknowledged.</p>
</div>
<hr class="docutils" />
<div class="section" id="note">
<h2>NOTE<a class="headerlink" href="#note" title="Permalink to this headline">¶</a></h2>
<p>Especially long input lines may exceed the size of the text window.
Although the characters to the right of the text screen may not be
visible, they remain encoded in the file.</p>
<hr class="docutils" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li><a class="reference external" href="../guide30.html#The_encode_Command">**Pertinent description in the Humdrum User
Guide**</a></li>
<li><a class="reference external" href="../commands.toc.html">**Index to Humdrum Commands**</a></li>
<li><a class="reference external" href="../guide.toc.html">**Table for Contents for Humdrum User Guide**</a></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>


          </div>
          <footer>
  <hr/>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <center><a href="../extract/" class="btn btn-neutral float-right" title="Command: extract">Next <span class="fa fa-arrow-circle-right"></span></a></center>
      
      
        <a href="../ekern/" class="btn btn-neutral" title="Command: ekern"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
      
             <center><a href="../../_sources/man/encode.txt" rel="nofollow"> View page source</a></center>
      
    </div>
  



  <div role="contentinfo">
    <p>
    </p>
  </div>


</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
   
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-52162357-1', 'humdrum.org');
  ga('send', 'pageview');
</script>



</body>
</html>