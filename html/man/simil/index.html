

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Command: simil &mdash; humdrum-tools 1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="humdrum-tools 1 documentation" href="../../"/>
        <link rel="up" title="Humdrum Command Manual" href="../"/>
        <link rel="next" title="Command: smf" href="../smf/"/>
        <link rel="prev" title="Command: semits" href="../semits/"/>
   <link rel="stylesheet" type"text/css" href="../../_static/humdrum.css">


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../../" class="fa fa-home"> humdrum-tools</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="../../install/">Humdrum Installation Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../install/github/">Installing Humdrum Tools from GitHub</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../guide/">The Humdrum User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch01/">Chapter 1: Humdrum: A Brief Tour</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch02/">Chapter 2: Representing Music Using **kern (I)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch03/">Chapter 3: Some Initial Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch04/">Chapter 4: Basic Pitch Translations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch05/">Chapter 5: The Humdrum Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch06/">Chapter 6: Representing Music Using **kern (II)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch07/">Chapter 7: MIDI Output Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch08/">Chapter 8: The Shell (I)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch09/">Chapter 9: Searching with Regular Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch10/">Chapter 10: Musical Uses of Regular Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch11/">Chapter 11: Melodic Intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch12/">Chapter 12: Selecting Musical Parts and Passages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch13/">Chapter 13: Assembling Scores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch14/">Chapter 14: Stream Editing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch15/">Chapter 15: Harmonic Intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch16/">Chapter 16: The Shell (II)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch17/">Chapter 17: Creating Inventories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch18/">Chapter 18: Fingers, Footsteps and Frets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch19/">Chapter 19: Musical Contexts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch20/">Chapter 20: Strophes, Verses, and Repeats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch21/">Chapter 21: Searching for Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch22/">Chapter 22: Classifying</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch23/">Chapter 23: Rhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch24/">Chapter 24: The Shell (III)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch25/">Chapter 25: Similarity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch26/">Chapter 26: Moving Signifiers Between Spines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch27/">Chapter 27: Text and Lyrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch28/">Chapter 28: Dynamic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch29/">Chapter 29: Differences and Commonalities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch30/">Chapter 30:MIDI Input Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch31/">Chapter 31: Repertories and Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch32/">Chapter 32: The Shell (IV)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch33/">Chapter 33: Word Sounds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch34/">Chapter 34: Serial Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch35/">Chapter 35: Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch36/">Chapter 33: Sound and Spectra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch37/">Chapter 37: Electronic Music Editing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch38/">Chapter 38: Systematic Musicology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch39/">Chapter 39: Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch40/">Chapter 40: Conclusion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/bibliography/">The Humdrum Toolkit: A Bibliography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/sample.problems/">Sample Problems Using the Humdrum Toolkit</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../humextra/">Humdrum Extras</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/intro/">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/rhythm/">Rhythm and Time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/melody/">Melody and Pitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/harmony/">Harmony</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/data/">Data Entry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/searching/">Music Searching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/midi/">MIDI Rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/notation/">Graphical Musical Notation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/other/">Other Useful Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/programming/">Programming Tutorial</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cookbook/">The Humdrum Cookbook</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../cookbook/vimHighlighting/">Syntax Coloring in Vim</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../">Humdrum Command Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../assemble/">Command: assemble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../barks/">Command: barks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cbr/">Command: cbr</a></li>
<li class="toctree-l2"><a class="reference internal" href="../census/">Command: census</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cents/">Command: cents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cleave/">Command: cleave</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cocho/">Command: cocho</a></li>
<li class="toctree-l2"><a class="reference internal" href="../context/">Command: context</a></li>
<li class="toctree-l2"><a class="reference internal" href="../correl/">Command: correl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deg/">Command: deg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../degree/">Command: degree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../diss/">Command: diss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ditto/">Command: ditto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dur/">Command: dur</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ekern/">Command: ekern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../encode/">Command: encode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extract/">Command: extract</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fade/">Command: fade</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fields/">Command: fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../freq/">Command: freq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hint/">Command: hint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../humdrum/">Command: humdrum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../humsed/">Command: humsed</a></li>
<li class="toctree-l2"><a class="reference internal" href="../humver/">Command: humver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../infot/">Command: infot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iv/">Command: iv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kern/">Command: kern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../key/">Command: key</a></li>
<li class="toctree-l2"><a class="reference internal" href="../melac/">Command: melac</a></li>
<li class="toctree-l2"><a class="reference internal" href="../melvel/">Command: melvel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metpos/">Command: metpos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../midi/">Command: midi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../midreset/">Command: midreset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mint/">Command: mint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ms/">Command: ms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nf/">Command: nf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../num/">Command: num</a></li>
<li class="toctree-l2"><a class="reference internal" href="../patt/">Command: patt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pattern/">Command: pattern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pc/">Command: pc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pcset/">Command: pcset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../perform/">Command: perform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pf/">Command: pf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pitch/">Command: pitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof/">Command: proof</a></li>
<li class="toctree-l2"><a class="reference internal" href="../recode/">Command: recode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../record/">Command: record</a></li>
<li class="toctree-l2"><a class="reference internal" href="../regexp/">Command: regexp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reihe/">Command: reihe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rend/">Command: rend</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rid/">Command: rid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scramble/">Command: scramble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../semits/">Command: semits</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Command: simil</a></li>
<li class="toctree-l2"><a class="reference internal" href="../smf/">Command: smf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../solfa/">Command: solfa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../solfg/">Command: solfg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../specc/">Command: specc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spect/">Command: spect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../strophe/">Command: strophe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../synco/">Command: synco</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tacet/">Command: tacet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../text/">Command: text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../themefinder/">Command: thmea</a></li>
<li class="toctree-l2"><a class="reference internal" href="../thru/">Command: thru</a></li>
<li class="toctree-l2"><a class="reference internal" href="../timebase/">Command: timebase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tonh/">Command: tonh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trans/">Command: trans</a></li>
<li class="toctree-l2"><a class="reference internal" href="../urrhythm/">Command: urrhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../veritas/">Command: veritas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vox/">Command: vox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xdelta/">Command: xdelta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../yank/">Command: yank</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ydelta/">Command: ydelta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../#commands">Commands</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rep/">Humdrum Data Representations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../rep/barlines/">Representation: barlines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/IPA/">Representation: **IPA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/MIDI/">Representation: **MIDI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/Tonh/">Representation: **Tonh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/URrhythm/">Representation: **URrhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/Zeit/">Representation: **Zeit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/bhatk/">Representation: **bhatk</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/cents/">Representation: **cents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/correl/">Representation: **correl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/dB/">Representation: **dB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/date/">Representation: **date</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/deg/">Representation: **deg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/degree/">Representation: **degree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/diss/">Representation: **diss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/dur/">Representation: **dur</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/embel/">Representation: **embel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/freq/">Representation: **freq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/fret/">Representation: **fret</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/harm/">Representation: **harm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/hildegard/">Representation: **hildegard</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/hint/">Representation: **hint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/iv/">Representation: **iv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/kern/">Representation: **kern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/melac/">Representation: **melac</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/metpos/">Representation: **metpos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/mint/">Representation: **mint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/ordo/">Representation: **ordo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/pc/">Representation: **pc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/pcset/">Representation: **pcset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/pitch/">Representation: **pitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/recip/">Representation: **recip</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/semits/">Representation: **semits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/silbe/">Representation: **silbe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/simil/">Representation: **simil</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/solfa/">Representation: **solfa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/solfg/">Representation: **solfg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/specC/">Representation: **specC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/spect/">Representation: **spect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/synco/">Representation: **synco</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/takt/">Representation: **takt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/text/">Representation: **text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/time/">Representation: **time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/timebase/">Representation: **timebase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/vox/">Representation: **vox#</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../">humdrum-tools</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../">Docs</a> &raquo;</li>
      
          <li><a href="../">Humdrum Command Manual</a> &raquo;</li>
      
    <li>Command: simil</li>
      <li class="wy-breadcrumbs-aside">
        
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="command-simil">
<h1>Command: simil<a class="headerlink" href="#command-simil" title="Permalink to this headline">¶</a></h1>
<hr class="docutils" />
<div class="section" id="command">
<h2>COMMAND<a class="headerlink" href="#command" title="Permalink to this headline">¶</a></h2>
<p><strong>simil</strong> &#8211; measure the non-numeric similarity between two single-spine
Humdrum inputs</p>
</div>
<hr class="docutils" />
<div class="section" id="synopsis">
<h2>SYNOPSIS<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p>`` simil  [-nr]  [-x length]  sourcefile  [templatefile]  [ &gt; outputfile.sim]``</p>
</div>
<hr class="docutils" />
<div class="section" id="description">
<h2>DESCRIPTION<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The <strong>simil</strong> command measures the degree of similarity between two
single-spine inputs. Similarity measures are calculated by determining
the minimum <em>edit distance</em> &#8211; that is, the least amount of editorial
manipulation required to transform the two inputs so that they are
identical. In contrast to the <a class="reference external" href="correl.html">**correl**</a> command,
<strong>simil</strong> can act on both numeric and non-numeric data, and so can be
used to characterize similarity for any form of Humdrum input.</p>
<p>Two inputs are required by <strong>simil</strong> &#8211; the <em>source</em> and <em>template</em>
inputs. Both inputs must contain single columns of data; multi-column
inputs are forbidden. The <em>source</em> input must conform to the Humdrum
syntax, however the <em>template</em> should contain only data records.
Comments and interpretations should not appear in the <em>template.</em> In
addition, following the initial exclusive interpretation, all comments
and interpretations in the <em>source</em> input should be removed.</p>
<p>Depending on the mode of operation, <strong>simil</strong> outputs either one or two
spines of continuous information regarding the similarity of the two
inputs. The length of <strong>simil</strong>&#8216;s output matches that of the <em>source</em>
file.</p>
<p>Two modes of operation are provided by <strong>simil</strong>: the <em>fixed template
mode</em> and the <em>variable template mode.</em> The fixed template mode is
useful for scanning a source input for patterns similar to a given
template. This mode of operation is useful when the user knows in
advance what feature or pattern is being sought. The variable template
mode, by contrast, provides an automated means for discovering common
patterns shared by the template and source inputs.</p>
<p>In the <em>fixed template mode,</em> a single output spine is generated, dubbed
<tt class="docutils literal"><span class="pre">**simil</span></tt>. Output similarity values are numbers ranging between zero
and one. These numbers indicate the relative similarity between the
source and template inputs at the current location in the <em>source</em> file.
Values near zero indicate great dissimilarity whereas a value of
precisely 1.00 indicates that the template and source match exactly at
the current position.</p>
<p>In <em>fixed template mode,</em> the entire <em>template</em> input is treated as a
single pattern and compared with the <em>source</em> input. In this mode, the
template may not be longer than the source input. If the length of the
template is the same as the length of the source input, then only a
single output value is generated &#8211; representing the edit-distance
similarity of the two files. The remaining output is padded by null
tokens. If the template is shorter than the source input, then the
source input is scanned using the template. For each data record in the
source input the edit-distance similarity is measured between the entire
template and a string of corresponding length beginning at the current
point in the source input. Each successive output value indicates the
degree of similarity between the template and source inputs as the
template is shifted along the source input.</p>
<p>In the <em>variable template mode,</em> the template input provides a
&#8220;reservoire&#8221; from which multiple templates are derived. Specifically,
the template input is broken-up into a series of (shorter) overlapping
&#8220;subordinate&#8221; templates. The length of each of these subordinate
templates is determined by the <strong>-x</strong> option parameter. For example,
consider a template input consisting of the values: 1, 2, 3, 4 &#8211; each
number appearing on successive lines. With <strong>-x 3</strong>, two subordinate
templates will be generated, each consisting of three data records: 1,
2, 3 and 2, 3, 4. With <strong>-x 2</strong>, three subordinate templates will be
generated, each consisting of two data records: 1, 2; 2, 3; and 3, 4.</p>
<p>Two output spines are generated in the <em>variable template mode:</em>
<tt class="docutils literal"><span class="pre">**simil</span></tt> and <tt class="docutils literal"><span class="pre">**simxrf</span></tt>. The <tt class="docutils literal"><span class="pre">**simxrf</span></tt> spine provides
cross-reference information identifying the place in the template input
where a subordinate pattern is highly similar to the current position in
the source file. As each record is encountered in the source input,
<strong>simil</strong> scans the list of all possible subordinate templates and
identifies the template with the highest similarity value. This value is
output (in the <tt class="docutils literal"><span class="pre">**simil</span></tt> spine) along with the <em>line number</em> in the
original template input where the subordinate template begins. If more
than one subordinate template shows the same similarity value, then the
line numbers for each high-similarity template appear in the
<tt class="docutils literal"><span class="pre">**simxrf</span></tt> spine, separated by commas. Common subordinate patterns
will appear frequently in the <tt class="docutils literal"><span class="pre">**simxrf</span></tt> output.</p>
<p>It is recommended that output files produced using the <strong>simil</strong> command
should be given names with the distinguishing `.sim&#8217; extension.</p>
</div>
<hr class="docutils" />
<div class="section" id="further-details">
<h2>FURTHER DETAILS<a class="headerlink" href="#further-details" title="Permalink to this headline">¶</a></h2>
<p>The <strong>simil</strong> program implements the Damerau-Levenshtein metric for edit
distance (see <a class="reference external" href="#REFERENCES">REFERENCES</a>). Permissible edit operations
include substitutions and deletions. Each edit action incurs a penalty,
and the cummulative edit-distance penalty determines the similarity.</p>
<p>In the default operation, <strong>simil</strong> assigns equivalent edit penalties
(1.0) for deletions and substitutions. However, the user can explicitly
define these penalties.</p>
<p>The <strong>simil</strong> command allows the user to define the cost of each edit
operation via an initialization file. The initialization file must be
named <tt class="docutils literal"><span class="pre">simil.rc</span></tt> and be located in the current directory or the user&#8217;s
home directory. Arbitrary costs may be assigned to any of eight edit
operations shown in the following table:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="86%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Name Tag</td>
<td>Edit Operation</td>
</tr>
<tr class="row-even"><td>D1</td>
<td>Delete a nonrepeated token in String 1</td>
</tr>
<tr class="row-odd"><td>D2</td>
<td>Delete a nonrepeated token in String 2</td>
</tr>
<tr class="row-even"><td>R1</td>
<td>Delete a repeated token in String 1</td>
</tr>
<tr class="row-odd"><td>R2</td>
<td>Delete a repeated token in String 2</td>
</tr>
<tr class="row-even"><td>S0</td>
<td>Substitute a token that is repeated in neither String 1 nor String 2</td>
</tr>
<tr class="row-odd"><td>S1</td>
<td>Substitute a token that is repeated in String 1 only</td>
</tr>
<tr class="row-even"><td>S2</td>
<td>Substitute a token that is repeated in String 2 only</td>
</tr>
<tr class="row-odd"><td>S3</td>
<td>Substitute a token that is repeated in String 1 and String 2</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><em>Edit operations used by **simil*</em>.*</p>
<p>In describing the edit operations, String 1 is the source string and
String 2 is the template string. Notice that there is no overt edit
operation for insertion: an insertion in String 1 is deemed equivalent
to a deletion in String 2. However, different edit penalties may be
defined for deletions from String 1 (D1) compared with deletions from
String 2 (D2). In musical applications defining such asymmetrical
penalties may be important. For example, two inputs may represent a
basic melody and an embellished variant of the melody. Using
asymmetrical penalties allows the user to specify that the deletion of
tones from the embellished version is less costly than deletion of tones
from the basic melody.</p>
<p>Since repetition is a common form of musical variation, <strong>simil</strong> allows
the user to distinguish between repeated and non-repeated tokens. A
repeated token is defined as one that is immediately preceded by an
identical token. Thus, in deleting a sequence of identical symbols in
String 1, say, all deletions except the first occurrence are R1
operations, whereas the deletion of the first occurrence is a D1
operation.</p>
<p>Note that the minimum theoretical similarity for any set of penalty
weightings can be determined empirically by providing the <strong>simil</strong>
program with source and template strings that share no symbols in
common. For example, the source input may consist entirely of numbers,
whereas the template input consists entirely of alphabetic characters.
In the case where all edit operations are assigned a penalty of +1, the
minimum quantitative similarity between two strings is 0.37.</p>
<p>Some user-defined weightings may give rise to peculiar results &#8211; such
as negative costs &#8211; but <strong>simil</strong> does not forbid this. <strong>Simil</strong>
generates warning messages if the weighting seem illogical; for example,
if the cost of R1 is more than that of D1. In addition, <strong>simil</strong> will
abort operation if the defined edit penalties transgress the triangular
inequality (see <a class="reference external" href="#REFERENCES">REFERENCES</a>). The default weighting for
all operations is +1.</p>
<p>Below is a sample initialization file that defines the R1 substitution
has having an edit penalty of 0.7, whereas the R2 substitution is given
a penalty of 0.9. Edit penalties are defined by specifying the
operation, followed by some spaces or tabs, followed by some real
number. Since no other penalties are defined in this file, the remaining
edit operations use the default edit penalty of 1.0. If any operation is
assigned more than one weight, the latest assignment is used. The user
may effectively eliminate a given edit operation by defining an
arbitrarily high edit penalty. <a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">``</span></a></p>
<blockquote>
<div># This is a comment.
R1
0.7
R2
0.9</div></blockquote>
</div>
<hr class="docutils" />
<div class="section" id="options">
<h2>OPTIONS<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<p>The <strong>simil</strong> command provides the following options.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>-n</strong></td>
<td>do not scale similarity measures according to template length</td>
</tr>
<tr class="row-even"><td>-r</td>
<td>reverse the order of <em>source</em> and <em>template</em> inputs on the command line;</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>permits the source file to be entered using the standard input.</td>
</tr>
<tr class="row-even"><td>-x <em>length</em></td>
<td>invoke <em>variable template mode</em>; break-up template file input into subordinate</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>patterns of length <em>length</em></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Options are specified in the command line.</p>
<p>Raw edit-distance scores are normally unreliable estimates of
similarity, unless the length of the template is considered. For
example, 3 editing operations constitutes a rather modest change for a
template consisting of 20 elements. However, 3 edit operations is
significant for a template consisting of only 5 elements. In the default
operation, <strong>simil</strong> scales the edit-distance scores according to the
length of the comparison template. This ensures that all similarity
values remain between 0 and 1. The <strong>-n</strong> option defeats this scaling
procedure, and outputs the raw similarity scores.</p>
<p>The <strong>-r</strong> option reverses the order of the <em>source</em> and <em>template</em>
input specifications on the command line. If both inputs are files, this
option is of little use. Where one input is to be typed manually via the
standard input, this option allows the user to specify a template file
as input, and to type the source document manually.</p>
<p>The <strong>-x</strong> option invokes the <em>variable template mode</em> discussed above.
The numerical argument given to the <strong>-x</strong> option determines the length
of the subordinate templates drawn from the template file.</p>
</div>
<hr class="docutils" />
<div class="section" id="examples">
<h2>EXAMPLES<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>The following examples illustrate the operation of <strong>simil.</strong> Consider
first, the <em>fixed template mode.</em> In the following example, the source
input consists of the left-most spine (labelled <tt class="docutils literal"><span class="pre">**foo</span></tt>) and is held
in a file named <tt class="docutils literal"><span class="pre">source</span></tt>; the middle column (not Humdrum) consists of
the letters A, B and C, and is held in the file named <tt class="docutils literal"><span class="pre">template</span></tt>. The
following command:</p>
<blockquote>
<div>`` simil source template``</div></blockquote>
<p>generates the third column (labelled <tt class="docutils literal"><span class="pre">**simil</span></tt>): <a href="#id5"><span class="problematic" id="id6">``</span></a><a href="#id7"><span class="problematic" id="id8">``</span></a></p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="35%" />
<col width="35%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>(source</td>
<td>(template</td>
<td>(simil</td>
</tr>
<tr class="row-even"><td>input)</td>
<td>input)</td>
<td>output)</td>
</tr>
<tr class="row-odd"><td>**foo</td>
<td>A</td>
<td>**simil</td>
</tr>
<tr class="row-even"><td>X</td>
<td>B</td>
<td>0.51</td>
</tr>
<tr class="row-odd"><td>A</td>
<td>C</td>
<td>1.00</td>
</tr>
<tr class="row-even"><td>B</td>
<td>&nbsp;</td>
<td>0.51</td>
</tr>
<tr class="row-odd"><td>C</td>
<td>&nbsp;</td>
<td>0.37</td>
</tr>
<tr class="row-even"><td>D</td>
<td>&nbsp;</td>
<td>0.51</td>
</tr>
<tr class="row-odd"><td>A</td>
<td>&nbsp;</td>
<td>0.72</td>
</tr>
<tr class="row-even"><td>B</td>
<td>&nbsp;</td>
<td>0.72</td>
</tr>
<tr class="row-odd"><td>B</td>
<td>&nbsp;</td>
<td>0.51</td>
</tr>
<tr class="row-even"><td>C</td>
<td>&nbsp;</td>
<td>0.51</td>
</tr>
<tr class="row-odd"><td>B</td>
<td>&nbsp;</td>
<td>.</td>
</tr>
<tr class="row-even"><td>A</td>
<td>&nbsp;</td>
<td>.</td>
</tr>
<tr class="row-odd"><td>*-</td>
<td>&nbsp;</td>
<td>*-</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Each successive value in the output spine is matched with a data token
in the source input file. For example, the second value (1.00) in the
<tt class="docutils literal"><span class="pre">**simil</span></tt> spine arises from an exact match of the (A, B, C) pattern
<em>beginning</em> with the second data token in the source input. The second
highest value (0.72) occurs in both the sixth and seventh <tt class="docutils literal"><span class="pre">**simil</span></tt>
data records, indicating that fairly similar sequences occur beginning
with the sixth and seventh data records in the source input.
Specifically, <strong>simil</strong> has recognized that the sequence (A, B, B, C) is
only one edit-operation (a deletion) different from the template (A, B,
C). In the ensuing record, <strong>simil</strong> has recognized that the sequence
(B, B, C) is only one edit-operation (substitution A/B) different from
(A, B, C). Notice that the final value (0.51) indicates that the edit
distance for (C, B, A) is less like the template. Also notice that the
lowest value (0.37) corresponds to an input pattern (beginning C, D, A)
that bears little resemblance to the template.</p>
<p>If the above input were pitches, it might be argued that <em>changing</em> a
pitch is more dissimilar than <em>repeating</em> a pitch. In the following
<tt class="docutils literal"><span class="pre">simil.rc</span></tt> file, an increased penalty has been assigned for dissimilar
substitution, and decreased penalties have been assigned for repetition.
<a href="#id9"><span class="problematic" id="id10">``</span></a><a href="#id11"><span class="problematic" id="id12">``</span></a></p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="46%" />
<col width="54%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>S0</td>
<td>1.6</td>
</tr>
<tr class="row-even"><td>S1</td>
<td>0.7</td>
</tr>
<tr class="row-odd"><td>S3</td>
<td>0.7</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Repeating the above command with this new <tt class="docutils literal"><span class="pre">simil.rc</span></tt> file produces the
following results: <a href="#id13"><span class="problematic" id="id14">``</span></a><a href="#id15"><span class="problematic" id="id16">``</span></a></p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="35%" />
<col width="35%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>(source</td>
<td>(template</td>
<td>(simil</td>
</tr>
<tr class="row-even"><td>input)</td>
<td>input)</td>
<td>output)</td>
</tr>
<tr class="row-odd"><td>**foo</td>
<td>A</td>
<td>**simil</td>
</tr>
<tr class="row-even"><td>X</td>
<td>B</td>
<td>0.51</td>
</tr>
<tr class="row-odd"><td>A</td>
<td>C</td>
<td>1.00</td>
</tr>
<tr class="row-even"><td>B</td>
<td>&nbsp;</td>
<td>0.51</td>
</tr>
<tr class="row-odd"><td>C</td>
<td>&nbsp;</td>
<td>0.26</td>
</tr>
<tr class="row-even"><td>D</td>
<td>&nbsp;</td>
<td>0.51</td>
</tr>
<tr class="row-odd"><td>A</td>
<td>&nbsp;</td>
<td>0.79</td>
</tr>
<tr class="row-even"><td>B</td>
<td>&nbsp;</td>
<td>0.59</td>
</tr>
<tr class="row-odd"><td>B</td>
<td>&nbsp;</td>
<td>0.51</td>
</tr>
<tr class="row-even"><td>C</td>
<td>&nbsp;</td>
<td>0.51</td>
</tr>
<tr class="row-odd"><td>B</td>
<td>&nbsp;</td>
<td>.</td>
</tr>
<tr class="row-even"><td>A</td>
<td>&nbsp;</td>
<td>.</td>
</tr>
<tr class="row-odd"><td>*-</td>
<td>&nbsp;</td>
<td>*-</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Notice that the similarity measure for the pattern (A, B, B, C) has
increased from 0.72 to 0.79, whereas the similarity measure for (B, B,
C) has decreased from 0.72 to 0.59.</p>
<p>Consider now the use of the <em>variable template mode.</em> Once again, we
will use the same source and template files. Given the short length of
the template, there is little choice regarding the length of the
subordinate templates. In the following command, a template length of
two elements is specified:</p>
<blockquote>
<div>`` simil -x 2 source template``</div></blockquote>
<p>This command produces the following output: <a href="#id17"><span class="problematic" id="id18">``</span></a><a href="#id19"><span class="problematic" id="id20">``</span></a></p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>**simil</td>
<td>**simxrf</td>
</tr>
<tr class="row-even"><td>0.37</td>
<td>1,2</td>
</tr>
<tr class="row-odd"><td>1.00</td>
<td>1</td>
</tr>
<tr class="row-even"><td>1.00</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>0.37</td>
<td>1,2</td>
</tr>
<tr class="row-even"><td>0.37</td>
<td>1,2</td>
</tr>
<tr class="row-odd"><td>1.00</td>
<td>1</td>
</tr>
<tr class="row-even"><td>0.61</td>
<td>1,2</td>
</tr>
<tr class="row-odd"><td>1.00</td>
<td>2</td>
</tr>
<tr class="row-even"><td>0.61</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>0.61</td>
<td>2</td>
</tr>
<tr class="row-even"><td>0.61</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>.</td>
<td>.</td>
</tr>
<tr class="row-even"><td>*-</td>
<td>*-</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Only two two-element subordinate patterns are possible given out
template &#8211; (A, B) and (B, C). The first subordinate template begins on
line 1 of the template file, while the second subordinate template
begins on line 2. The <tt class="docutils literal"><span class="pre">**simxrf</span></tt> spine identifies which of the
subordinate patterns is most similar to the source file at the given
input record. The <tt class="docutils literal"><span class="pre">**simil</span></tt> spine identifies the corresponding
similarity measure for the most similar pattern. For example, the second
and third <tt class="docutils literal"><span class="pre">**simil</span></tt> records both report similarity values of 1.00.
However, the first instance is associated with the pattern beginning on
template record 1 (A, B), whereas the second instance is associated with
the pattern (B, C) beginning on template record 2.</p>
</div>
<hr class="docutils" />
<div class="section" id="portability">
<h2>PORTABILITY<a class="headerlink" href="#portability" title="Permalink to this headline">¶</a></h2>
<p>DOS 2.0 and up. OS/2. All UNIX systems.</p>
</div>
<hr class="docutils" />
<div class="section" id="see-also">
<h2>SEE ALSO<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<p>``  context (4), <a href="#id21"><span class="problematic" id="id22">**</span></a>correl (2),  correl (4),  patt (4),  pattern (4)``</p>
</div>
<hr class="docutils" />
<div class="section" id="warnings">
<h2>WARNINGS<a class="headerlink" href="#warnings" title="Permalink to this headline">¶</a></h2>
<p>In <em>variable template mode,</em> execution times may be quite lengthy.</p>
</div>
<hr class="docutils" />
<div class="section" id="references">
<h2>REFERENCES<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p>The Damerau-Levenshtein metric is described in P. Hall &amp; G. Dowling
&#8220;Approximate string matching,&#8221; <em>ACM Computing Surveys,</em> Vol. 12 (1980)
pp. 381-402.</p>
<p>The theory and operation of <em>simil</em> is explained in Keith Orpen and
David Huron, <a class="reference external" href="http://dactyl.som.ohio-state.edu/Huron/Publications/orpen.similarity.text.html">&#8220;Measurement of similarity in music: A quantitative
approach for non-parametric
representations,&#8221;</a>
<em>Computers in Music Research,</em> Vol. 4 (1992), pp. 1-44.</p>
</div>
<hr class="docutils" />
<div class="section" id="author">
<h2>AUTHOR<a class="headerlink" href="#author" title="Permalink to this headline">¶</a></h2>
<p>Written by Keith S. Orpen, University of Waterloo. Copyright 1992.</p>
<hr class="docutils" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li><a class="reference external" href="../guide25.html#The_simil_Command">**Pertinent description in the Humdrum User
Guide**</a></li>
<li><a class="reference external" href="../commands.toc.html">**Index to Humdrum Commands**</a></li>
<li><a class="reference external" href="../guide.toc.html">**Table for Contents for Humdrum User Guide**</a></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>


          </div>
          <footer>
  <hr/>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <center><a href="../smf/" class="btn btn-neutral float-right" title="Command: smf">Next <span class="fa fa-arrow-circle-right"></span></a></center>
      
      
        <a href="../semits/" class="btn btn-neutral" title="Command: semits"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
      
             <center><a href="../../_sources/man/simil.txt" rel="nofollow"> View page source</a></center>
      
    </div>
  



  <div role="contentinfo">
    <p>
    </p>
  </div>


</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
   
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-52162357-1', 'humdrum.org');
  ga('send', 'pageview');
</script>



</body>
</html>