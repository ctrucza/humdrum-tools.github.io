

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Command: patt &mdash; humdrum-tools 1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="humdrum-tools 1 documentation" href="../../"/>
        <link rel="up" title="Humdrum Command Manual" href="../"/>
        <link rel="next" title="Command: pattern" href="../pattern/"/>
        <link rel="prev" title="Command: num" href="../num/"/>
   <link rel="stylesheet" type"text/css" href="../../_static/humdrum.css">


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../../" class="fa fa-home"> humdrum-tools</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="../../install/">Humdrum Installation Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../install/github/">Installing Humdrum Tools from GitHub</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../guide/">The Humdrum User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch01/">Chapter 1: Humdrum: A Brief Tour</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch02/">Chapter 2: Representing Music Using **kern (I)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch03/">Chapter 3: Some Initial Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch04/">Chapter 4: Basic Pitch Translations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch05/">Chapter 5: The Humdrum Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch06/">Chapter 6: Representing Music Using **kern (II)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch07/">Chapter 7: MIDI Output Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch08/">Chapter 8: The Shell (I)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch09/">Chapter 9: Searching with Regular Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch10/">Chapter 10: Musical Uses of Regular Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch11/">Chapter 11: Melodic Intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch12/">Chapter 12: Selecting Musical Parts and Passages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch13/">Chapter 13: Assembling Scores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch14/">Chapter 14: Stream Editing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch15/">Chapter 15: Harmonic Intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch16/">Chapter 16: The Shell (II)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch17/">Chapter 17: Creating Inventories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch18/">Chapter 18: Fingers, Footsteps and Frets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch19/">Chapter 19: Musical Contexts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch20/">Chapter 20: Strophes, Verses, and Repeats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch21/">Chapter 21: Searching for Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch22/">Chapter 22: Classifying</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch23/">Chapter 23: Rhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch24/">Chapter 24: The Shell (III)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch25/">Chapter 25: Similarity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch26/">Chapter 26: Moving Signifiers Between Spines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch27/">Chapter 27: Text and Lyrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch28/">Chapter 28: Dynamic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch29/">Chapter 29: Differences and Commonalities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch30/">Chapter 30:MIDI Input Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch31/">Chapter 31: Repertories and Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch32/">Chapter 32: The Shell (IV)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch33/">Chapter 33: Word Sounds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch34/">Chapter 34: Serial Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch35/">Chapter 35: Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch36/">Chapter 33: Sound and Spectra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch37/">Chapter 37: Electronic Music Editing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch38/">Chapter 38: Systematic Musicology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch39/">Chapter 39: Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch40/">Chapter 40: Conclusion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/bibliography/">The Humdrum Toolkit: A Bibliography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/sample.problems/">Sample Problems Using the Humdrum Toolkit</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../humextra/">Humdrum Extras</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/intro/">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/rhythm/">Rhythm and Time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/melody/">Melody Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/harmony/">Harmony</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/data/">Data Entry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/searching/">Music Searching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/midi/">MIDI Rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/notation/">Graphical Musical Notation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/other/">Other Useful Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/programming/">Humdrum Extras Programming Tutorial</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cookbook/">The Humdrum Cookbook</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../cookbook/vimHighlighting/">Syntax Coloring in Vim</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../">Humdrum Command Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../assemble/">Command: assemble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../barks/">Command: barks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cbr/">Command: cbr</a></li>
<li class="toctree-l2"><a class="reference internal" href="../census/">Command: census</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cents/">Command: cents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cleave/">Command: cleave</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cocho/">Command: cocho</a></li>
<li class="toctree-l2"><a class="reference internal" href="../context/">Command: context</a></li>
<li class="toctree-l2"><a class="reference internal" href="../correl/">Command: correl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deg/">Command: deg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../degree/">Command: degree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../diss/">Command: diss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ditto/">Command: ditto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dur/">Command: dur</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ekern/">Command: ekern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../encode/">Command: encode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extract/">Command: extract</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fade/">Command: fade</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fields/">Command: fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fin2hum/">Command: fin2hum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../freq/">Command: freq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hint/">Command: hint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hum2fin/">Command: hum2fin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../humdrum/">Command: humdrum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../humsed/">Command: humsed</a></li>
<li class="toctree-l2"><a class="reference internal" href="../humver/">Command: humver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../infot/">Command: infot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iv/">Command: iv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kern/">Command: kern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../key/">Command: key</a></li>
<li class="toctree-l2"><a class="reference internal" href="../melac/">Command: melac</a></li>
<li class="toctree-l2"><a class="reference internal" href="../melvel/">Command: melvel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metpos/">Command: metpos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../midi/">Command: midi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../midreset/">Command: midreset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mint/">Command: mint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ms/">Command: ms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nf/">Command: nf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../num/">Command: num</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Command: patt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pattern/">Command: pattern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pc/">Command: pc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pcset/">Command: pcset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../perform/">Command: perform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pf/">Command: pf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pitch/">Command: pitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof/">Command: proof</a></li>
<li class="toctree-l2"><a class="reference internal" href="../recode/">Command: recode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../record/">Command: record</a></li>
<li class="toctree-l2"><a class="reference internal" href="../regexp/">Command: regexp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reihe/">Command: reihe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rend/">Command: rend</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rid/">Command: rid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scramble/">Command: scramble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../semits/">Command: semits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../simil/">Command: simil</a></li>
<li class="toctree-l2"><a class="reference internal" href="../smf/">Command: smf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../solfa/">Command: solfa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../solfg/">Command: solfg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../specc/">Command: specc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spect/">Command: spect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../strophe/">Command: strophe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../synco/">Command: synco</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tacet/">Command: tacet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../text/">Command: text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../themefinder/">Command: thmea</a></li>
<li class="toctree-l2"><a class="reference internal" href="../thru/">Command: thru</a></li>
<li class="toctree-l2"><a class="reference internal" href="../timebase/">Command: timebase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tonh/">Command: tonh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trans/">Command: trans</a></li>
<li class="toctree-l2"><a class="reference internal" href="../urrhythm/">Command: urrhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../veritas/">Command: veritas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vox/">Command: vox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xdelta/">Command: xdelta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../yank/">Command: yank</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ydelta/">Command: ydelta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../#commands">Commands</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rep/">Pre-defined Humdrum Data Representations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../rep/barlines/">Representation: barlines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/IPA/">Representation: **IPA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/MIDI/">Representation: **MIDI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/Tonh/">Representation: **Tonh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/URrhythm/">Representation: **URrhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/Zeit/">Representation: **Zeit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/bhatk/">Representation: **bhatk</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/cents/">Representation: **cents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/correl/">Representation: **correl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/dB/">Representation: **dB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/date/">Representation: **date</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/deg/">Representation: **deg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/degree/">Representation: **degree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/diss/">Representation: **diss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/dur/">Representation: **dur</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/embel/">Representation: **embel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/freq/">Representation: **freq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/fret/">Representation: **fret</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/harm/">Representation: **harm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/hildegard/">Representation: **hildegard</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/hint/">Representation: **hint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/iv/">Representation: **iv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/kern/">Representation: **kern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/melac/">Representation: **melac</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/metpos/">Representation: **metpos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/mint/">Representation: **mint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/ordo/">Representation: **ordo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/pc/">Representation: **pc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/pcset/">Representation: **pcset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/pitch/">Representation: **pitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/recip/">Representation: **recip</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/semits/">Representation: **semits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/silbe/">Representation: **silbe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/simil/">Representation: **simil</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/solfa/">Representation: **solfa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/solfg/">Representation: **solfg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/specC/">Representation: **specC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/spect/">Representation: **spect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/synco/">Representation: **synco</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/takt/">Representation: **takt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/text/">Representation: **text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/time/">Representation: **time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/timebase/">Representation: **timebase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/vox/">Representation: **vox#</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../">humdrum-tools</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../">Docs</a> &raquo;</li>
      
          <li><a href="../">Humdrum Command Manual</a> &raquo;</li>
      
    <li>Command: patt</li>
      <li class="wy-breadcrumbs-aside">
        
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="command-patt">
<h1>Command: patt<a class="headerlink" href="#command-patt" title="Permalink to this headline">¶</a></h1>
<hr class="docutils" />
<div class="section" id="command">
<h2>COMMAND<a class="headerlink" href="#command" title="Permalink to this headline">¶</a></h2>
<p><strong>patt</strong> &#8211; locate and output user-defined patterns in a Humdrum input</p>
</div>
<hr class="docutils" />
<div class="section" id="synopsis">
<h2>SYNOPSIS<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p>`` patt  [-m]  -f templatefile  [-s regexp]  [-t output_tag]  [inputfile ...]``</p>
</div>
<hr class="docutils" />
<div class="section" id="description">
<h2>DESCRIPTION<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The <strong>patt</strong> command is used to locate occurrences of a user-defined
pattern in some Humdrum input. The patterns sought may span innumerable
data records. Occurrences of the pattern may be identified by line
number, echoed intact in the output stream, or tagged by a user-defined
marker in a <tt class="docutils literal"><span class="pre">**patt</span></tt> output spine.</p>
<p>The pattern sought must be defined as a separate &#8220;template&#8221; file. The
template file is identified using the <strong>-f</strong> command option.</p>
<p>Pattern templates consist of one or more records. Each record specifies
a regular expression pattern. The input is scanned from beginning to
end, in order to find passages that match the defined template. In order
for a match to take place, successive records in the input stream must
match the regular expressions given in each of the corresponding records
of the template. For example, if the template is 9 lines in length, then
the input stream must contain 9 successive lines of matching data in
order for a pattern match to be successful.</p>
<p>The <strong>patt</strong> command implements a full UNIX regular expression syntax.
Each line in the template file represents an independent regular
expression. For example, the template:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>1</td>
</tr>
<tr class="row-even"><td>2</td>
</tr>
<tr class="row-odd"><td>3</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>will match inputs such as the following:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>1</td>
</tr>
<tr class="row-even"><td>112</td>
</tr>
<tr class="row-odd"><td>43.9</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>or even</p>
<blockquote>
<div>0x.=%&amp;1*
Figure 32
abc(...32...)</div></blockquote>
<p>A more circumspect regular expression template might look like this:</p>
<blockquote>
<div>^1$
^2$
^3$</div></blockquote>
<p>(The caret (^) and dollar sign ($) are regular expression <em>anchors</em> that
indicate the beginning of the record and end of the record
respectively.) Refer to <em>regexp (6)</em> for further information regarding
regular expressions. Note that the related
<a class="reference external" href="pattern.html">**pattern**</a> command implements a more powerful
regular expression syntax for defining multi-record patterns.</p>
</div>
<hr class="docutils" />
<div class="section" id="options">
<h2>OPTIONS<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<p>The <strong>patt</strong> command supports the following options:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="77%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>-c</strong></td>
<td>makes pattern-matching sensitive to comments</td>
</tr>
<tr class="row-even"><td><strong>-e</strong></td>
<td>echoes matched patterns in the output</td>
</tr>
<tr class="row-odd"><td>-f <em>templatefile</em></td>
<td>use pattern specified in <em>templatefile</em></td>
</tr>
<tr class="row-even"><td><strong>-h</strong></td>
<td>displays a help screen summarizing the command syntax</td>
</tr>
<tr class="row-odd"><td><strong>-m</strong></td>
<td>invokes collapsed multiple-record matching mode</td>
</tr>
<tr class="row-even"><td>-s <em>regexp</em></td>
<td>skip (ignore) data records containing the defined regular expression</td>
</tr>
<tr class="row-odd"><td>-t <em>output_tag</em></td>
<td>generate <tt class="docutils literal"><span class="pre">**patt</span></tt> output spine; tag each occurrence of the pattern</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>with the string <em>output_tag</em></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Options are specified in the command line.</p>
<p>By default, the <strong>patt</strong> command is insensitive to the presence or
absence of Humdrum comments. Pattern searches may be made sensitive to
occurrences of comments by specifying the <strong>-c</strong> option.</p>
<p>In the default operation, <strong>patt</strong> outputs a Humdrum global comment for
each pattern matched in the input. Each comment identifies the line
number in the input where the found pattern begins.</p>
<p>With the <strong>-e</strong> option, each instance of the found pattern is echoed in
the output. Each output pattern is preceded by the appropriate exclusive
interpretation(s) and followed by appropriate spine-path terminator(s).</p>
<p>Certain types of data records may be ignored in the pattern-search by
invoking the <strong>-s</strong> (skip) option. This option must be accompanied by a
user-define regular expression. All input data records matching the
regular expression are ignored. This option is useful, for example, in
skipping null data tokens, barlines, marked embellishment tones, or
other types of data.</p>
<p>The <strong>-m</strong> option invokes a multiple record matching mode. In this mode,
<strong>patt</strong> attempts to match as many successive regular expressions in the
template file as possible for a given input record, before continuing
with the next input and template records. In this way, a template file
consisting of several records, may possibly match a single input record.
(See <a class="reference external" href="#EXAMPLES">EXAMPLES</a> below.)</p>
<p>The <strong>-t</strong> option causes <strong>patt</strong> to output a single spine of <tt class="docutils literal"><span class="pre">**patt</span></tt>
output. The user specifies an <em>output tag</em> (character string) on the
command line. Each instance of the found pattern causes the tag to be
output in the <tt class="docutils literal"><span class="pre">**patt</span></tt> spine at the position corresponding to the
onset of each found pattern. (See <a class="reference external" href="#EXAMPLES">EXAMPLES</a> below.) Note
that the <strong>-t</strong> and <strong>-e</strong> options are mutually exclusive.</p>
<p>Whatever options are invoked, <strong>patt</strong> always produces output that
conforms to the Humdrum syntax.</p>
</div>
<hr class="docutils" />
<div class="section" id="examples">
<h2>EXAMPLES<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>The following examples illustrate the operation of the <strong>patt</strong> command.
Consider the following target file and pattern template file:</p>
<blockquote>
<div><p><strong>template file:</strong></p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>1</td>
</tr>
<tr class="row-even"><td>2</td>
</tr>
<tr class="row-odd"><td>3</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><strong>target file:</strong> <a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">``</span></a></p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>**foo</td>
</tr>
<tr class="row-even"><td>1</td>
</tr>
<tr class="row-odd"><td>2</td>
</tr>
<tr class="row-even"><td>=1</td>
</tr>
<tr class="row-odd"><td>1 3</td>
</tr>
<tr class="row-even"><td>2 1</td>
</tr>
<tr class="row-odd"><td>3 2</td>
</tr>
<tr class="row-even"><td>3</td>
</tr>
<tr class="row-odd"><td>=2</td>
</tr>
<tr class="row-even"><td>1</td>
</tr>
<tr class="row-odd"><td>2 3</td>
</tr>
<tr class="row-even"><td>4</td>
</tr>
<tr class="row-odd"><td>2 3 1</td>
</tr>
<tr class="row-even"><td>*-</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div></blockquote>
<p>A simple search for the pattern template might use the command:</p>
<blockquote>
<div>`` patt -f template target``</div></blockquote>
<p>Pattern matches are announced by outputting Humdrum global comments.
Given the above command, the following output would result: <a href="#id5"><span class="problematic" id="id6">``</span></a><a href="#id7"><span class="problematic" id="id8">``</span></a></p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>!! Pattern found at line 5 of file input</td>
</tr>
<tr class="row-even"><td>!! Pattern found at line 6 of file input</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>In the first instance, notice that <strong>patt</strong> is able to identify
overlapping patterns. Two instances of the 1-2-3 pattern are identified
beginning on the fifth and sixth lines respectively.</p>
<p>Note however, that the first instance of the pattern (beginning at line
2) was not identified due to the interruption of the common system
barline in the fourth line. The barlines can be ignored by invoking the
<strong>-s</strong> option, followed by a regular expression that uniquely identifies
the records to be skipped &#8211; in this case the equals sign. The command:</p>
<blockquote>
<div>`` patt -s = -f template target``</div></blockquote>
<p>would produce the following output: <a href="#id9"><span class="problematic" id="id10">``</span></a><a href="#id11"><span class="problematic" id="id12">``</span></a></p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>!! Pattern found at line 2 of file input</td>
</tr>
<tr class="row-even"><td>!! Pattern found at line 5 of file input</td>
</tr>
<tr class="row-odd"><td>!! Pattern found at line 6 of file input</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Actual instances of the pattern can be output by invoking the <strong>-e</strong>
(echo) option:</p>
<blockquote>
<div>`` patt -e -s = -f template target``</div></blockquote>
<p>The following output would result: <a href="#id13"><span class="problematic" id="id14">``</span></a><a href="#id15"><span class="problematic" id="id16">``</span></a></p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>!! Pattern found at line 2 of file input</td>
</tr>
<tr class="row-even"><td>**foo</td>
</tr>
<tr class="row-odd"><td>1</td>
</tr>
<tr class="row-even"><td>2</td>
</tr>
<tr class="row-odd"><td>=1</td>
</tr>
<tr class="row-even"><td>1 3</td>
</tr>
<tr class="row-odd"><td>*-</td>
</tr>
<tr class="row-even"><td>!! Pattern found at line 5 of file input</td>
</tr>
<tr class="row-odd"><td>**foo</td>
</tr>
<tr class="row-even"><td>1 3</td>
</tr>
<tr class="row-odd"><td>2 1</td>
</tr>
<tr class="row-even"><td>3 2</td>
</tr>
<tr class="row-odd"><td>*-</td>
</tr>
<tr class="row-even"><td>!! Pattern found at line 6 of file input</td>
</tr>
<tr class="row-odd"><td>**foo</td>
</tr>
<tr class="row-even"><td>2 1</td>
</tr>
<tr class="row-odd"><td>3 2</td>
</tr>
<tr class="row-even"><td>3</td>
</tr>
<tr class="row-odd"><td>*-</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Notice that each pattern found is output as a self-contained Humdrum
output with initial exclusive interpretations and concluding spine-path
terminators. If a single continuous output is desired, the <strong>rid -u</strong>
command may be used to eliminate the duplicate interpretations.</p>
<p>Instead of outputting the individual patterns, the <strong>-t</strong> option may be
used to output a spine that marks each instance of the found pattern. In
the following command, the beginning of each occurrence of the pattern
is labelled in the <tt class="docutils literal"><span class="pre">**patt</span></tt> spine by the tag &#8220;one-two-three.&#8221;</p>
<blockquote>
<div>`` patt -t one-two-three -s = -f template target``</div></blockquote>
<p>The follow output would result: <a href="#id17"><span class="problematic" id="id18">``</span></a><a href="#id19"><span class="problematic" id="id20">``</span></a></p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="39%" />
<col width="61%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>**foo</td>
<td>**patt</td>
</tr>
<tr class="row-even"><td>1</td>
<td>one-two-three</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>.</td>
</tr>
<tr class="row-even"><td>=1</td>
<td>.</td>
</tr>
<tr class="row-odd"><td>1 3</td>
<td>one-two-three</td>
</tr>
<tr class="row-even"><td>2 1</td>
<td>one-two-three</td>
</tr>
<tr class="row-odd"><td>3 2</td>
<td>.</td>
</tr>
<tr class="row-even"><td>3</td>
<td>.</td>
</tr>
<tr class="row-odd"><td>=2</td>
<td>.</td>
</tr>
<tr class="row-even"><td>1</td>
<td>.</td>
</tr>
<tr class="row-odd"><td>2 3</td>
<td>.</td>
</tr>
<tr class="row-even"><td>4</td>
<td>.</td>
</tr>
<tr class="row-odd"><td>2 3 1</td>
<td>.</td>
</tr>
<tr class="row-even"><td>*-</td>
<td>*-</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>For some tasks (such as the identification of tone-rows in 12-tone
music), nominally &#8220;successive&#8221; elements of the pattern may be collapsed
within a single sonority or record. The <strong>-m</strong> option invokes a
<em>multiple record matching</em> mode. By way of example, the following
command:</p>
<blockquote>
<div>`` patt -m -t theme123 -s = -f template target``</div></blockquote>
<p>will produce the following output: <a href="#id21"><span class="problematic" id="id22">``</span></a><a href="#id23"><span class="problematic" id="id24">``</span></a></p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>**foo</td>
<td>**patt</td>
</tr>
<tr class="row-even"><td>1</td>
<td>theme123</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>.</td>
</tr>
<tr class="row-even"><td>=1</td>
<td>.</td>
</tr>
<tr class="row-odd"><td>1 3</td>
<td>theme123</td>
</tr>
<tr class="row-even"><td>2 1</td>
<td>theme123</td>
</tr>
<tr class="row-odd"><td>3 2</td>
<td>.</td>
</tr>
<tr class="row-even"><td>3</td>
<td>.</td>
</tr>
<tr class="row-odd"><td>=2</td>
<td>.</td>
</tr>
<tr class="row-even"><td>1</td>
<td>theme123</td>
</tr>
<tr class="row-odd"><td>2 3</td>
<td>.</td>
</tr>
<tr class="row-even"><td>4</td>
<td>.</td>
</tr>
<tr class="row-odd"><td>2 3 1</td>
<td>theme123</td>
</tr>
<tr class="row-even"><td>*-</td>
<td>*-</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Note that in the above examples, the extensive capabilities provided by
<strong>patt</strong> for defining complex <em>regular expressions</em> have not been
illustrated. Refer to <strong>regexp (6)</strong> for further pertinent information.</p>
</div>
<hr class="docutils" />
<div class="section" id="portability">
<h2>PORTABILITY<a class="headerlink" href="#portability" title="Permalink to this headline">¶</a></h2>
<p>DOS 2.0 and up, with the MKS Toolkit. OS/2 with the MKS Toolkit. UNIX
systems supporting the <em>Korn</em> shell or <em>Bourne</em> shell command
interpreters, and revised <em>awk</em> (1985).</p>
</div>
<hr class="docutils" />
<div class="section" id="see-also">
<h2>SEE ALSO<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<p><strong>grep</strong> (UNIX), <strong>egrep</strong> (UNIX), <a class="reference external" href="pattern.html">**pattern**</a> (4),
<a class="reference external" href="regexp.html">**regexp**</a> (4), <strong>regexp</strong> (6),
<a class="reference external" href="simil.html">**simil**</a> (4)</p>
</div>
<hr class="docutils" />
<div class="section" id="warnings">
<h2>WARNINGS<a class="headerlink" href="#warnings" title="Permalink to this headline">¶</a></h2>
<p>If a comment is present in the template pattern, failing to specify the
<strong>-c</strong> option will make pattern matching a logically impossibility.</p>
</div>
<hr class="docutils" />
<div class="section" id="note">
<h2>NOTE<a class="headerlink" href="#note" title="Permalink to this headline">¶</a></h2>
<p>The <strong>patt</strong> command differs from the related <strong>pattern</strong> command in the
following ways: (1) <strong>patt</strong> always produces output conforming to the
Humdrum syntax whereas <strong>pattern</strong> never produces Humdrum output. (2)
<strong>pattern</strong> allows multi-record `wild cards&#8217; in the template file, and
so permits the creation of more sophisticated regular expressions. (3)
The <strong>pattern</strong> command does not directly provide an &#8220;echo&#8221; option.</p>
<hr class="docutils" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li><a class="reference external" href="../guide21.html#The_patt_Command">**Pertinent description in the Humdrum User
Guide**</a></li>
<li><a class="reference external" href="../commands.toc.html">**Index to Humdrum Commands**</a></li>
<li><a class="reference external" href="../guide.toc.html">**Table for Contents for Humdrum User Guide**</a></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>


          </div>
          <footer>
  <hr/>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <center><a href="../pattern/" class="btn btn-neutral float-right" title="Command: pattern">Next <span class="fa fa-arrow-circle-right"></span></a></center>
      
      
        <a href="../num/" class="btn btn-neutral" title="Command: num"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
      
             <center><a href="../../_sources/man/patt.txt" rel="nofollow"> View page source</a></center>
      
    </div>
  



  <div role="contentinfo">
    <p>
    </p>
  </div>


</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
   
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-52162357-1', 'humdrum.org');
  ga('send', 'pageview');
</script>



</body>
</html>