

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Command: extract &mdash; humdrum-tools 1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="humdrum-tools 1 documentation" href="../../"/>
        <link rel="up" title="Humdrum Command Manual" href="../"/>
        <link rel="next" title="Command: fade" href="../fade/"/>
        <link rel="prev" title="Command: encode" href="../encode/"/>
   <link rel="stylesheet" type"text/css" href="../../_static/humdrum.css">


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../../" class="fa fa-home"> humdrum-tools</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="../../install/">Humdrum Installation Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../install/github/">Installing Humdrum Tools from GitHub</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../guide/">The Humdrum User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch01/">1. Humdrum: A Brief Tour</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch02/">2. Representing Music Using **kern (I)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch03/">3. Some Initial Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch04/">4. Basic Pitch Translations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch05/">5. The Humdrum Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch06/">6. Representing Music Using **kern (II)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch07/">7. MIDI Output Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch08/">8. The Shell (I)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch09/">9. Searching with Regular Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch10/">10. Musical Uses of Regular Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch11/">11. Melodic Intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch12/">12. Selecting Musical Parts and Passages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch13/">13. Assembling Scores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch14/">14. Stream Editing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch15/">15. Harmonic Intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch16/">16. The Shell (II)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch17/">17. Creating Inventories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch18/">18. Fingers, Footsteps and Frets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch19/">19. Musical Contexts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch20/">20. Strophes, Verses, and Repeats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch21/">21. Searching for Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch22/">22. Classifying</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch23/">23. Rhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch24/">24. The Shell (III)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch25/">25. Similarity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch26/">26. Moving Signifiers Between Spines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch27/">27. Text and Lyrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch28/">28. Dynamic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch29/">29. Differences and Commonalities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch30/">30.MIDI Input Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch31/">31. Repertories and Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch32/">32. The Shell (IV)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch33/">33. Word Sounds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch34/">34. Serial Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch35/">35. Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch36/">33. Sound and Spectra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch37/">37. Electronic Music Editing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch38/">38. Systematic Musicology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch39/">39. Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/ch40/">40. Conclusion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/bibliography/">The Humdrum Toolkit: A Bibliography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide/sample.problems/">Sample Problems Using the Humdrum Toolkit</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../humextra/">Humdrum Extras</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/intro/">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/rhythm/">2. Rhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/melody/">Melody and Pitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/harmony/">Harmony</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/data/">Data Entry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/searching/">Music Searching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/midi/">MIDI Rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/notation/">Graphical Musical Notation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/other/">Other Useful Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/programming/">Programming Tutorial</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cookbook/">The Humdrum Cookbook</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../cookbook/vimHighlighting/">Syntax Coloring in Vim</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../">Humdrum Command Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../assemble/">Command: assemble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../barks/">Command: barks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cbr/">Command: cbr</a></li>
<li class="toctree-l2"><a class="reference internal" href="../census/">Command: census</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cents/">Command: cents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cleave/">Command: cleave</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cocho/">Command: cocho</a></li>
<li class="toctree-l2"><a class="reference internal" href="../context/">Command: context</a></li>
<li class="toctree-l2"><a class="reference internal" href="../correl/">Command: correl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deg/">Command: deg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../degree/">Command: degree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../diss/">Command: diss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ditto/">Command: ditto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dur/">Command: dur</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ekern/">Command: ekern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../encode/">Command: encode</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Command: extract</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fade/">Command: fade</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fields/">Command: fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../freq/">Command: freq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hint/">Command: hint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../humdrum/">Command: humdrum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../humsed/">Command: humsed</a></li>
<li class="toctree-l2"><a class="reference internal" href="../humver/">Command: humver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../infot/">Command: infot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iv/">Command: iv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kern/">Command: kern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../key/">Command: key</a></li>
<li class="toctree-l2"><a class="reference internal" href="../melac/">Command: melac</a></li>
<li class="toctree-l2"><a class="reference internal" href="../melvel/">Command: melvel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metpos/">Command: metpos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../midi/">Command: midi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../midreset/">Command: midreset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mint/">Command: mint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ms/">Command: ms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nf/">Command: nf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../num/">Command: num</a></li>
<li class="toctree-l2"><a class="reference internal" href="../patt/">Command: patt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pattern/">Command: pattern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pc/">Command: pc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pcset/">Command: pcset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../perform/">Command: perform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pf/">Command: pf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pitch/">Command: pitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof/">Command: proof</a></li>
<li class="toctree-l2"><a class="reference internal" href="../recode/">Command: recode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../record/">Command: record</a></li>
<li class="toctree-l2"><a class="reference internal" href="../regexp/">Command: regexp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reihe/">Command: reihe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rend/">Command: rend</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rid/">Command: rid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scramble/">Command: scramble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../semits/">Command: semits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../simil/">Command: simil</a></li>
<li class="toctree-l2"><a class="reference internal" href="../smf/">Command: smf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../solfa/">Command: solfa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../solfg/">Command: solfg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../specc/">Command: specc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spect/">Command: spect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../strophe/">Command: strophe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../synco/">Command: synco</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tacet/">Command: tacet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../text/">Command: text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../themefinder/">Command: thmea</a></li>
<li class="toctree-l2"><a class="reference internal" href="../thru/">Command: thru</a></li>
<li class="toctree-l2"><a class="reference internal" href="../timebase/">Command: timebase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tonh/">Command: tonh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trans/">Command: trans</a></li>
<li class="toctree-l2"><a class="reference internal" href="../urrhythm/">Command: urrhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../veritas/">Command: veritas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vox/">Command: vox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xdelta/">Command: xdelta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../yank/">Command: yank</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ydelta/">Command: ydelta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../#commands">Commands</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rep/">Humdrum Data Representations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../rep/barlines/">Representation: barlines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/IPA/">Representation: **IPA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/MIDI/">Representation: **MIDI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/Tonh/">Representation: **Tonh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/URrhythm/">Representation: **URrhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/Zeit/">Representation: **Zeit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/bhatk/">Representation: **bhatk</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/cents/">Representation: **cents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/correl/">Representation: **correl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/dB/">Representation: **dB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/date/">Representation: **date</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/deg/">Representation: **deg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/degree/">Representation: **degree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/diss/">Representation: **diss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/dur/">Representation: **dur</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/embel/">Representation: **embel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/freq/">Representation: **freq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/fret/">Representation: **fret</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/harm/">Representation: **harm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/hildegard/">Representation: **hildegard</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/hint/">Representation: **hint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/iv/">Representation: **iv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/kern/">Representation: **kern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/melac/">Representation: **melac</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/metpos/">Representation: **metpos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/mint/">Representation: **mint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/ordo/">Representation: **ordo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/pc/">Representation: **pc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/pcset/">Representation: **pcset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/pitch/">Representation: **pitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/recip/">Representation: **recip</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/semits/">Representation: **semits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/silbe/">Representation: **silbe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/simil/">Representation: **simil</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/solfa/">Representation: **solfa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/solfg/">Representation: **solfg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/specC/">Representation: **specC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/spect/">Representation: **spect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/synco/">Representation: **synco</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/takt/">Representation: **takt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/text/">Representation: **text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/time/">Representation: **time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/timebase/">Representation: **timebase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/vox/">Representation: **vox#</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../">humdrum-tools</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../">Docs</a> &raquo;</li>
      
          <li><a href="../">Humdrum Command Manual</a> &raquo;</li>
      
    <li>Command: extract</li>
      <li class="wy-breadcrumbs-aside">
        
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="command-extract">
<h1>Command: extract<a class="headerlink" href="#command-extract" title="Permalink to this headline">¶</a></h1>
<hr class="docutils" />
<div class="section" id="command">
<h2>COMMAND<a class="headerlink" href="#command" title="Permalink to this headline">¶</a></h2>
<p><strong>extract</strong> &#8211; get specified spines from a Humdrum input</p>
</div>
<hr class="docutils" />
<div class="section" id="synopsis">
<h2>SYNOPSIS<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p>`` extract  -f  field1,field2,...,$-1,$  [inputfile  ...]  extract  -i  interp1,interp2,...,interpn  [inputfile  ...]  extract  -p  spine#n  [inputfile  ...]  extract  -t  field_trace_file.ftf  [inputfile  ...]``</p>
</div>
<hr class="docutils" />
<div class="section" id="description">
<h2>DESCRIPTION<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The <strong>extract</strong> command allows the user to select one or more spines
from a Humdrum input. The command is typically used to extract parts
(such as a tuba part) from some multi-part score; however <strong>extract</strong>
can be used to isolate dynamic markings, musical lyrics, or any other
stream of information that has been encoded as a separate Humdrum spine.</p>
<p>The <strong>extract&#8221;</strong> command has four distinct modes of operation: (1) field
mode <strong>(-f),</strong> (2) interpretation mode <strong>(-i),</strong> (3) spine-path mode
<strong>(-p),</strong> and (4) field-trace mode <strong>(-t).</strong> The simplest mode is field
mode; the most general-purpose mode is field-trace mode.</p>
<p>In <em>field mode,</em> the <strong>extract&#8221;</strong> command operates in a manner similar
to the UNIX `` cut`` command. The user may specify a given field (data
column) or set of fields to be selected from the input stream. For
example, the command:</p>
<blockquote>
<div>`` extract -f 1,3,8``</div></blockquote>
<p>will extract the first, third, and eighth spines from the input stream.
In field mode, field specifications may also be made with respect to the
right-most field. For example, the expression `` &#8220;$&#8221;`` refers to the
right-most field in the input; the arithmetic expression `` &#8220;$-1&#8221;``
refers to the right-most field minus one, etc. By way of example, the
command:</p>
<blockquote>
<div>`` extract -f &#8216;2,4-6,$&#8217; lassus``</div></blockquote>
<p>will extract the second, fourth, fifth, sixth, and last (right-most)
spines in the file &#8220;lassus.&#8221; The `` extract -f`` command differs from
the UNIX `` cut`` command in that Humdrum global comments are properly
preserved in the output.</p>
<p>In <em>interpretation mode,</em> the <strong>extract</strong> command outputs all spines
containing the interpretation(s) specified by the user. By way of
example, the command:</p>
<blockquote>
<div>`` extract -i &#8216;<a href="#id1"><span class="problematic" id="id2">**</span></a>semits,**MIDI&#8217; hildegard``</div></blockquote>
<p>will extract all spines in the file <tt class="docutils literal"><span class="pre">hildegard</span></tt> containing
<tt class="docutils literal"><span class="pre">**semits</span></tt> or <tt class="docutils literal"><span class="pre">**MIDI</span></tt> data.</p>
<p>In <em>spine-path mode,</em> the <strong>extract&#8221;</strong> command follows a given spine
starting at the beginning of the file, and traces the course of that
spine throughout the input stream. If spine-path changes are encountered
in the input (such as spine-exchanges, spine-merges, or spine-splits)
the output adapts accordingly. By way of example, if the &#8220;third&#8221; spine
is selected, the output consists of the third spine and follows the path
of that spine through the input until it is terminated or the
end-of-file is encountered. What begins as the third column, may end up
as some other column (or columns) in the input.</p>
<p>In the <em>field-trace mode,</em> the <strong>extract</strong> command accepts a list of
spine-column positions over the course of the file. In the <em>field-trace</em>
mode, the user provides a file containing a list specifying the precise
selection of spines through the file at various line numbers. The first
column in this list specifies the line (record) number at which the
field selection is defined. The second column lists the spine or spines
to be extracted beginning at the specified line. For example, the
following <em>field-trace file</em> specifies that the first spine from line 1
should be output; beginning at line 2, spines 3, 4, and 5 should be
output; beginning at line 18, spines 1 and 4 should be output, and from
line 78 to the end of the input, spine 9 should be output.</p>
<blockquote>
<div><blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="46%" />
<col width="54%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>1</td>
<td>1</td>
</tr>
<tr class="row-even"><td>2</td>
<td>3-5</td>
</tr>
<tr class="row-odd"><td>18</td>
<td>1,4</td>
</tr>
<tr class="row-even"><td>78</td>
<td>9</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div></blockquote>
<p>The <em>field-trace</em> mode allows the user to select virtually any
combination of data tokens from the input stream. Note that using the
<em>field-trace</em> mode may produce output that no longer conforms to the
Humdrum syntax. (See EXAMPLES below.)</p>
</div>
<hr class="docutils" />
<div class="section" id="options">
<h2>OPTIONS<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<p>The <strong>extract</strong> command provides the following options:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>-f <em>fieldlist</em></td>
<td>select field mode</td>
</tr>
<tr class="row-even"><td><strong>-h</strong></td>
<td>displays a help screen summarizing the command syntax</td>
</tr>
<tr class="row-odd"><td>-i <em>interplist</em></td>
<td>select interpretation mode</td>
</tr>
<tr class="row-even"><td>-p <em>spine#</em></td>
<td>select spine-path mode</td>
</tr>
<tr class="row-odd"><td>-t <em>fieldtrace file</em></td>
<td>select field-trace mode</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Options are specified in the command line.</p>
<p>A <em>fieldlist</em> consists of any set of integers separated by commas, or a
range specification in which the lower and upper values are separated by
a dash: e.g.<tt class="docutils literal"><span class="pre">1,4-8,13</span></tt>. With the exception of range specifications,
the order of the integers in the list is unimportant, hence <tt class="docutils literal"><span class="pre">13,1,4-8</span></tt>
is equivalent to <tt class="docutils literal"><span class="pre">1,4-8,13</span></tt>. The right-field anchor ($) can be used
only with the <strong>-f</strong> option.</p>
<p>An <em>interplist</em> consists of any set of tandem or exclusive
interpretations separated by commas, e.g.<tt class="docutils literal"><span class="pre">'**kern,*C:'</span></tt> Option
arguments may require the use of quotation marks in order to prevent
inadvertent expansion of shell metacharacter (*, ?, etc.).</p>
</div>
<hr class="docutils" />
<div class="section" id="examples">
<h2>EXAMPLES<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>The following examples illustrate how <strong>extract</strong> may be used.</p>
<blockquote>
<div>`` extract -f &#8216;1,3,$&#8217; holst``</div></blockquote>
<p>outputs the first, third, and last columns from the file <tt class="docutils literal"><span class="pre">holst</span></tt>.</p>
<blockquote>
<div>`` extract -p 4 mossolov``</div></blockquote>
<p>outputs the spine <em>beginning</em> (but not necessarily continuing) in the
fourth column of the file <tt class="docutils literal"><span class="pre">mossolov</span></tt>.</p>
<blockquote>
<div>`` extract -t sibelius.fld sibelius``</div></blockquote>
<p>outputs the spines specified in the file <tt class="docutils literal"><span class="pre">sibelius.fld</span></tt> for the file
<tt class="docutils literal"><span class="pre">sibelius</span></tt>. (See SAMPLE OUTPUTS below.)</p>
<blockquote>
<div>`` extract -i &#8216;<a href="#id3"><span class="problematic" id="id4">*</span></a>F:,*f:&#8217; hendrix``</div></blockquote>
<p>outputs all spines that contain the tandem interpretations *F: or *f:
(i.e. in the keys of F major or F minor).</p>
</div>
<hr class="docutils" />
<div class="section" id="sample-outputs">
<h2>SAMPLE OUTPUTS<a class="headerlink" href="#sample-outputs" title="Permalink to this headline">¶</a></h2>
<p>The following examples illustrate the various <strong>extract</strong> options.
Consider the following input file, dubbed <tt class="docutils literal"><span class="pre">input1</span></tt>: <a href="#id5"><span class="problematic" id="id6">``</span></a><a href="#id7"><span class="problematic" id="id8">``</span></a></p>
<blockquote>
<div>!! `extract&#8217; example #1
**ABC
**xyz
**123
**ABC
**foo
A
x
1
a
bar
B
y
2
b
.
C
z
3
c
#
*-
*-
*-
*-
*-</div></blockquote>
<p>Executing either of the following commands:</p>
<blockquote>
<div>`` extract -f &#8216;1,3,$-1&#8217; input1 &gt; output``</div></blockquote>
<p>or</p>
<blockquote>
<div>`` extract -i &#8216;<a href="#id9"><span class="problematic" id="id10">**</span></a>ABC,**123&#8217; input1 &gt; output``</div></blockquote>
<p>would produce the following result: <a href="#id11"><span class="problematic" id="id12">``</span></a><a href="#id13"><span class="problematic" id="id14">``</span></a></p>
<blockquote>
<div>!! `extract&#8217; example #1
**ABC
**123
**ABC
A
1
a
B
2
b
C
3
c
*-
*-
*-</div></blockquote>
<p>Consider next the following sample input &#8211; dubbed <tt class="docutils literal"><span class="pre">input2</span></tt>: <a href="#id15"><span class="problematic" id="id16">``</span></a><a href="#id17"><span class="problematic" id="id18">``</span></a></p>
<blockquote>
<div>!! `extract&#8217; example #2
**ABC
**xyz
**123
**ABC
**foo
A
x
1
a
%
*
*
*^
*
*
B
y
2a
2b
b
&amp;
C
z
3a
3b
c
#
*
*x
*x
*
*
*
A
4a
xyz
4b
d
%
*-
*
*
*
*-
*
5a
xyz
5b
&amp;
*
*x
*x
*
6a
6b
xyz
#
*v
*v
*
*
7
xyz
%
8
xyz
&amp;
*-
*-
*-</div></blockquote>
<p>Executing the command:</p>
<blockquote>
<div>`` extract -p 3 input2 &gt; output``</div></blockquote>
<p>would produce the following result: <a href="#id19"><span class="problematic" id="id20">``</span></a><a href="#id21"><span class="problematic" id="id22">``</span></a></p>
<blockquote>
<div>!! `extract&#8217; example #2
**123
1
*^
2a
2b
3a
3b
*x
*
4a
4b
*
*
5a
5b
*
*x
6a
6b
*v
*v
7
8
*-</div></blockquote>
<p>Notice that this output no longer conforms to the Humdrum syntax.
(Output lines 7 and 11 contain only a single exchange-path
interpretation.)</p>
<div class="section" id="for-the-example-2-input-file-the-field-structure-is-as-follows">
<h3>For the `example #2&#8217; input file, the field-structure is as follows:<a class="headerlink" href="#for-the-example-2-input-file-the-field-structure-is-as-follows" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="14%" />
<col width="75%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>1</td>
<td>1-1</td>
<td># Line 1 must appear in the file.</td>
</tr>
<tr class="row-even"><td>4</td>
<td>1-5</td>
<td># * * *^ * * ....</td>
</tr>
<tr class="row-odd"><td>5</td>
<td>1-6</td>
<td># Line after path indicator record</td>
</tr>
<tr class="row-even"><td>7</td>
<td>1-6</td>
<td># * *x *x * ....</td>
</tr>
<tr class="row-odd"><td>8</td>
<td>1-6</td>
<td># Line after path indicator record</td>
</tr>
<tr class="row-even"><td>9</td>
<td>1-6</td>
<td># *- * * * * ....</td>
</tr>
<tr class="row-odd"><td>10</td>
<td>1-4</td>
<td># Line after path indicator record</td>
</tr>
<tr class="row-even"><td>11</td>
<td>1-4</td>
<td># * *x *x * ....</td>
</tr>
<tr class="row-odd"><td>12</td>
<td>1-4</td>
<td># Line after path indicator record</td>
</tr>
<tr class="row-even"><td>13</td>
<td>1-4</td>
<td># *v *v * * ....</td>
</tr>
<tr class="row-odd"><td>14</td>
<td>1-3</td>
<td># Line after path indicator record</td>
</tr>
<tr class="row-even"><td>16</td>
<td>1-3</td>
<td># *- *- *- ....</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>(The above file may be generated via the `` fields -s`` command.) On the
basis of this information a user might create the following field-trace
file, dubbed <tt class="docutils literal"><span class="pre">trace</span></tt>: <a href="#id23"><span class="problematic" id="id24">``</span></a><a href="#id25"><span class="problematic" id="id26">``</span></a></p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="46%" />
<col width="54%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>1</td>
<td>1</td>
</tr>
<tr class="row-even"><td>4</td>
<td>3</td>
</tr>
<tr class="row-odd"><td>5</td>
<td>3,5</td>
</tr>
<tr class="row-even"><td>7</td>
<td>2,3</td>
</tr>
<tr class="row-odd"><td>8</td>
<td>3,2</td>
</tr>
<tr class="row-even"><td>9</td>
<td>1,3</td>
</tr>
<tr class="row-odd"><td>10</td>
<td>4</td>
</tr>
<tr class="row-even"><td>14</td>
<td>3</td>
</tr>
<tr class="row-odd"><td>15</td>
<td>2</td>
</tr>
<tr class="row-even"><td>16</td>
<td>1</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Executing the following command:</p>
<blockquote>
<div>`` extract -t trace input2 &gt; output``</div></blockquote>
<p>would produce the following result: <a href="#id27"><span class="problematic" id="id28">``</span></a><a href="#id29"><span class="problematic" id="id30">``</span></a></p>
<blockquote>
<div>!! `extract&#8217; example #2
**ABC
A
*^
2a
b
3a
c
*x
*x
4a
xyz
*-
*
&amp;
*
#
*
%
xyz
*-</div></blockquote>
<p>Notice that in this case, data tokens have been selected from a variety
of input spines.</p>
</div>
</div>
<hr class="docutils" />
<div class="section" id="diagnostics">
<h2>DIAGNOSTICS<a class="headerlink" href="#diagnostics" title="Permalink to this headline">¶</a></h2>
<p>In <em>field-trace</em> mode, if the specified field-structure does not
correspond to the actual input file, then an ERROR message is issued.</p>
</div>
<hr class="docutils" />
<div class="section" id="portability">
<h2>PORTABILITY<a class="headerlink" href="#portability" title="Permalink to this headline">¶</a></h2>
<p>DOS 2.0 and up, with the MKS Toolkit. OS/2 with the MKS Toolkit. UNIX
systems supporting the <em>Korn</em> shell or <em>Bourne</em> shell command
interpreters, and revised <em>awk</em> (1985).</p>
</div>
<hr class="docutils" />
<div class="section" id="warnings">
<h2>WARNINGS<a class="headerlink" href="#warnings" title="Permalink to this headline">¶</a></h2>
<p>Note that only the <em>field</em> mode <strong>(-f)</strong> guarantees that the output will
conform to the Humdrum syntax.</p>
<p>In <em>interpretation</em> mode, tandem interpretations may be specified in the
command invocation, but mutually exclusive tandem interpretations (such
as changes of key) will not force the program to stop outputting a
specified spine.</p>
</div>
<hr class="docutils" />
<div class="section" id="see-also">
<h2>SEE ALSO<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="assemble.html">**assemble**</a> (4), <strong>cut</strong> (UNIX),
<a class="reference external" href="fields.html">**fields**</a> (4), <a class="reference external" href="yank.html">**yank**</a> (4)</p>
<hr class="docutils" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li><a class="reference external" href="../guide12.html#Extracting_Spines:_The_extract_Command">**Pertinent description in the Humdrum User
Guide**</a></li>
<li><a class="reference external" href="../commands.toc.html">**Index to Humdrum Commands**</a></li>
<li><a class="reference external" href="../guide.toc.html">**Table for Contents for Humdrum User Guide**</a></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>


          </div>
          <footer>
  <hr/>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <center><a href="../fade/" class="btn btn-neutral float-right" title="Command: fade">Next <span class="fa fa-arrow-circle-right"></span></a></center>
      
      
        <a href="../encode/" class="btn btn-neutral" title="Command: encode"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
      
             <center><a href="../../_sources/man/extract.txt" rel="nofollow"> View page source</a></center>
      
    </div>
  



  <div role="contentinfo">
    <p>
    </p>
  </div>


</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
   
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-52162357-1', 'humdrum.org');
  ga('send', 'pageview');
</script>



</body>
</html>