


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Chapter 10: Musical Uses of Regular Expressions &mdash; humdrum-tools 1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="humdrum-tools 1 documentation" href="../../"/>
        <link rel="up" title="The Humdrum User Guide" href="../"/>
        <link rel="next" title="Chapter 11: Melodic Intervals" href="../ch11/"/>
        <link rel="prev" title="Chapter 9: Searching with Regular Expressions" href="../ch09/"/>
   <link rel="stylesheet" type"text/css" href="../../_static/humdrum.css">


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../../" class="fa fa-home"> humdrum-tools</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="../../install/">Humdrum Installation Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../install/github/">Installing Humdrum Tools from GitHub</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../">The Humdrum User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../ch01/">1. Humdrum: A Brief Tour</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch02/">2. Representing Music Using **kern(I)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch03/">3. Some Initial Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch04/">4. Basic Pitch Translations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch05/">5. The Humdrum Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch06/">6. Representing Music Using **kern(II)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch07/">7. MIDI Output Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch08/">8. The Shell (I)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch09/">9. Searching with Regular Expressions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Chapter 10: Musical Uses of Regular Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch11/">11. Melodic Intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch12/">12. Selecting Musical Parts and Passages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch13/">13. Assembling Scores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch14/">14. Stream Editing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch15/">15. Harmonic Intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch16/">16. The Shell (II)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch17/">17. Creating Inventories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch18/">18. Fingers, Footsteps and Frets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch19/">19. Musical Contexts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch20/">20. Strophes, Verses, and Repeats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch21/">21. Searching for Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch22/">22. Classifying</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch23/">23. Rhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch24/">24. The Shell (III)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch25/">25. Similarity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch26/">26. Moving Signifiers Between Spines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch27/">27. Text and Lyrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch28/">28. Dynamic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch29/">29. Differences and Commonalities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch30/">30.MIDI Input Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch31/">31. Repertories and Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch32/">32. The Shell (IV)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch33/">33. Word Sounds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch34/">34. Serial Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch35/">35. Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch36/">33. Sound and Spectra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch37/">37. Electronic Music Editing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch38/">38. Systematic Musicology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch39/">39. Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch40/">40. Conclusion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bibliography/">The Humdrum Toolkit: A Bibliography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sample.problems/">Sample Problems Using the Humdrum Toolkit</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../humextra/">Humdrum Extras</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/intro/">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/rhythm/">2. Rhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/melody/">Melody and Pitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/harmony/">Harmony</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/data/">Data Entry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/searching/">Music Searching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/midi/">MIDI Rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/notation/">Graphical Musical Notation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/other/">Other Useful Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/programming/">Programming Tutorial</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cookbook/">The Humdrum Cookbook</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../cookbook/vimHighlighting/">Syntax Coloring in Vim</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../man/">Humdrum Command Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../man/assemble/">Command: assemble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/barks/">Command: barks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/cbr/">Command: cbr</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/census/">Command: census</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/cents/">Command: cents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/cleave/">Command: cleave</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/cocho/">Command: cocho</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/context/">Command: context</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/correl/">Command: correl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/deg/">Command: deg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/degree/">Command: degree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/diss/">Command: diss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/ditto/">Command: ditto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/dur/">Command: dur</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/ekern/">Command: ekern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/encode/">Command: encode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/extract/">Command: extract</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/fade/">Command: fade</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/fields/">Command: fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/freq/">Command: freq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/hint/">Command: hint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/humdrum/">Command: humdrum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/humsed/">Command: humsed</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/humver/">Command: humver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/infot/">Command: infot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/iv/">Command: iv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/kern/">Command: kern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/key/">Command: key</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/melac/">Command: melac</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/melvel/">Command: melvel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/metpos/">Command: metpos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/midi/">Command: midi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/midreset/">Command: midreset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/mint/">Command: mint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/ms/">Command: ms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/nf/">Command: nf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/num/">Command: num</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/patt/">Command: patt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/pattern/">Command: pattern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/pc/">Command: pc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/pcset/">Command: pcset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/perform/">Command: perform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/pf/">Command: pf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/pitch/">Command: pitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/proof/">Command: proof</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/recode/">Command: recode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/record/">Command: record</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/regexp/">Command: regexp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/reihe/">Command: reihe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/rend/">Command: rend</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/rid/">Command: rid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/scramble/">Command: scramble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/semits/">Command: semits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/simil/">Command: simil</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/smf/">Command: smf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/solfa/">Command: solfa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/solfg/">Command: solfg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/specc/">Command: specc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/spect/">Command: spect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/strophe/">Command: strophe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/synco/">Command: synco</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/tacet/">Command: tacet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/text/">Command: text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/themefinder/">Command: thmea</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/thru/">Command: thru</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/timebase/">Command: timebase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/tonh/">Command: tonh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/trans/">Command: trans</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/urrhythm/">Command: urrhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/veritas/">Command: veritas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/vox/">Command: vox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/xdelta/">Command: xdelta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/yank/">Command: yank</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/ydelta/">Command: ydelta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/#commands">Commands</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rep/">Humdrum Data Representations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../rep/barlines/">Representation: barlines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/IPA/">Representation: **IPA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/MIDI/">Representation: **MIDI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/Tonh/">Representation: **Tonh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/URrhythm/">Representation: **URrhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/Zeit/">Representation: **Zeit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/bhatk/">Representation: **bhatk</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/cents/">Representation: **cents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/correl/">Representation: **correl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/dB/">Representation: **dB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/date/">Representation: **date</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/deg/">Representation: **deg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/degree/">Representation: **degree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/diss/">Representation: **diss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/dur/">Representation: **dur</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/embel/">Representation: **embel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/freq/">Representation: **freq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/fret/">Representation: **fret</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/harm/">Representation: **harm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/hildegard/">Representation: **hildegard</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/hint/">Representation: **hint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/iv/">Representation: **iv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/kern/">Representation: **kern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/melac/">Representation: **melac</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/metpos/">Representation: **metpos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/mint/">Representation: **mint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/ordo/">Representation: **ordo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/pc/">Representation: **pc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/pcset/">Representation: **pcset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/pitch/">Representation: **pitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/recip/">Representation: **recip</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/semits/">Representation: **semits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/silbe/">Representation: **silbe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/simil/">Representation: **simil</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/solfa/">Representation: **solfa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/solfg/">Representation: **solfg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/specC/">Representation: **specC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/spect/">Representation: **spect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/synco/">Representation: **synco</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/takt/">Representation: **takt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/text/">Representation: **text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/time/">Representation: **time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/timebase/">Representation: **timebase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/vox/">Representation: **vox#</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../">humdrum-tools</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../">Docs</a> &raquo;</li>
      
          <li><a href="../">The Humdrum User Guide</a> &raquo;</li>
      
    <li>Chapter 10: Musical Uses of Regular Expressions</li>
      <li class="wy-breadcrumbs-aside">
        
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="chapter-10-musical-uses-of-regular-expressions">
<h1>Chapter 10: Musical Uses of Regular Expressions<a class="headerlink" href="#chapter-10-musical-uses-of-regular-expressions" title="Permalink to this headline">¶</a></h1>
<p>Now that you have a better understanding of regular expressions, let&#8217;s apply
them. This chapter provides many examples of how regular expressions may be
used to define musically useful patterns. In subsequent chapters, we&#8217;ll make
frequent use of regular expressions.</p>
<div class="section" id="the-grep-command-again">
<h2>The <em>grep</em> Command (Again)<a class="headerlink" href="#the-grep-command-again" title="Permalink to this headline">¶</a></h2>
<p>Although regular expressions are used in a number of Humdrum commands, they
are most frequently used in conjunction with the <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> command encountered
in <a class="reference external" href="../ch03">Chapter 3</a>. <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> is a popular software tool that is available from a
number of manufacturers and sources. Many versions of <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> differ in the
options provided. For example, the version of <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> distributed by the GNU
Software Foundation provides no fewer than 19 options. Some of the most
common options for <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> are identified in Table 10.1.</p>
<p><strong>Table 10.1</strong></p>
<p>&gt; -ccount the number of lines matching the regular expression
&gt; -f <em>file*search for patterns that are specified in *file</em>
&gt; -iignore differences of upper- and lower-case
&gt; -ljust list the names of files containing a matching line
&gt; -nprefix each output line with its line number
&gt; -hsuppress file-name prefixes (headers) in output when searching more than
one file
&gt; -vdisplay all lines <em>not</em> matching the regular expression
&gt; -Llist names of files <em>not</em> containing the regular expression</p>
<p><em>Common options for the `grep &lt;http://en.wikipedia.org/wiki/Grep&gt;`_ command.</em></p>
<p>Many of the predefined Humdrum representations make use of the &#8220;common
system&#8221; for representing barlines. The following command counts the number of
barlines in the file <tt class="docutils literal"><span class="pre">czech37.krn</span></tt>. Note that the caret anchor (<tt class="docutils literal"><span class="pre">^</span></tt>) is
used to avoid inadvertent matches of the equals sign that might appear in
Humdrum comments or interpretations.</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -c ^<span class="o">=</span> czech37.krn
</pre></div>
</div>
<p>Recall that the dollar sign (<a href="#id6"><span class="problematic" id="id7">``</span></a><tt class="docutils literal"><span class="pre">)</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">anchor</span> <span class="pre">an</span> <span class="pre">expression</span> <span class="pre">to</span>
<span class="pre">the</span> <span class="pre">end</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">line.</span> <span class="pre">The</span> <span class="pre">following</span> <span class="pre">command</span> <span class="pre">determines</span> <span class="pre">whether</span> <span class="pre">numbered</span>
<span class="pre">measure</span> <span class="pre">9</span> <span class="pre">is</span> <span class="pre">present</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">file</span> <span class="pre">``france12.krn</span></tt>; the dollar sign ensures
that measure 9 is not mistaken for measure 90, 930, etc.</p>
<div class="highlight-bash"><div class="highlight"><pre>grep ^<span class="o">=</span>9<span class="nv">$ </span>france12.krn
</pre></div>
</div>
<p>The asterisk means &#8220;zero or more&#8221; instances of the preceding expression. For
example, the following regular expression will match any reference record or
global comment in the file <tt class="docutils literal"><span class="pre">clara29</span></tt>:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep <span class="s1">&#39;^!!!*&#39;</span> clara29
</pre></div>
</div>
<p>Suppose we want to list all of the global comments for all files in the
current directory:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep <span class="s1">&#39;^!!!*&#39;</span> *
</pre></div>
</div>
<p>Notice that the two asterisks serve different functions in the above command.
The first asterisk means &#8220;zero or more instances&#8221; and is part of the regular
expression passed to <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a>. The second asterisk means &#8220;all files in the
current directory&#8221; and is expanded by the shell. The first asterisk is
<a href="#id9"><span class="problematic" id="id10">`</span></a>protected&#8217; from the shell by the single quotes. Otherwise, the first
asterisk might be expanded by the shell to a list of all files in the current
directory.</p>
<p>In regular expressions, the period character (<tt class="docutils literal"><span class="pre">.</span></tt>) matches any single
character. For example, the expression <tt class="docutils literal"><span class="pre">`A.B</span></tt>&#8216; will match strings such as
`` <cite>AXB`</cite>&#8216; and <tt class="docutils literal"><span class="pre">`AAB</span></tt>&#8216; etc. The following command identifies all eighth-
notes containing at least one flat, and whose pitch lies within an octave of
middle C.</p>
<div class="highlight-bash"><div class="highlight"><pre>grep 8.- *.krn
</pre></div>
</div>
<p>Frequently it is necessary to turn off the special meanings for
metacharacters such as ^, $, and <a href="#id11"><span class="problematic" id="id12">*</span></a>. Recall that this can be done by inserting
a backslash (<tt class="docutils literal"><span class="pre">\</span></tt>) immediately prior to the metacharacter. In the
`` <a href="#id41"><span class="problematic" id="id42">`**kern```_</span></a> representation the caret signifies an accent. In a monophonic
input, we might count the number of notes that have a notated accent as
follows:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -c <span class="s1">&#39;\^&#39;</span> danmark3.krn
</pre></div>
</div>
<p>In the following command we have used the backslash to escape the special
meaning of the asterisk. The <tt class="docutils literal"><span class="pre">-l</span></tt> option causes <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> to output only the
names of any files that contain a line matching the pattern. Hence, the
following command identifies those files in the current directory that encode
music in 9/8 meter:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -l <span class="s1">&#39;^\*M9/8&#39;</span> *
</pre></div>
</div>
<p>Recall that square brackets can be used to indicate character classes where
any of the characters in the class can be used to match the expression. The
following command identifies those files in the current directory that encode
music in either 3/8 or 9/8 meter:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -l <span class="s1">&#39;\*M[39]/8&#39;</span> *
</pre></div>
</div>
<p>One of the most frequently used regular expressions consists of the period
followed by the asterisk (<tt class="docutils literal"><span class="pre">.*</span></tt>). Recall that this expression will match
<em>any</em> string including the null string (i.e. nothing at all). This expression
commonly appears between two other character strings. For example, we can
identify all files in the current directory whose instrumentation includes a
trumpet:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -l <span class="s1">&#39;!!!AIN.*tromp&#39;</span> *
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">.*</span></tt> expression is needed since we don&#8217;t know what other instruments
might be listed following <tt class="docutils literal"><span class="pre">AIN</span></tt> and before <tt class="docutils literal"><span class="pre">tromp</span></tt>.  Instrumentation
reference records require that instrument codes appear in alphabetical order.
This makes it easier to conduct searches for combinations of instruments. For
example, we can identify all scores in the current directory whose
instrumentation includes both trumpet and cornet as follows:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -l <span class="s1">&#39;!!!AIN.*cornt.*tromp&#39;</span> *
</pre></div>
</div>
<p>There are many variants on the use of the <tt class="docutils literal"><span class="pre">.*</span></tt> expression. The following
command identifies all files that contain a record having the word <tt class="docutils literal"><span class="pre">Drei</span></tt>
followed by the word &#8220;<tt class="docutils literal"><span class="pre">Koenige</span></tt>&#8221;. (Notice the use of the <tt class="docutils literal"><span class="pre">-i</span></tt> option in
order to ignore the case of the letters.)</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -li <span class="s1">&#39;Drei.*Koenige&#39;</span> *
</pre></div>
</div>
<p>This command will match such strings as: <em>Die Heiligen Drei Koenige</em>, <em>Drei
Koenige,</em> <em>Dreikoenigslied,</em> etc.</p>
<p>The <tt class="docutils literal"><span class="pre">`!!!AGN</span></tt>&#8216; reference record is used to encode genre-related keywords.
The following command lists all files that are ballads.</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -l <span class="s1">&#39;!!!AGN.*Ballad&#39;</span> *
</pre></div>
</div>
<p>List all files that have the word <tt class="docutils literal"><span class="pre">Amour</span></tt> in the title:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -li <span class="s1">&#39;!!!OLT.*Amour&#39;</span> *
</pre></div>
</div>
<p>List any works that bear a dedication:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -l <span class="s1">&#39;!!!ODE:&#39;</span> *
</pre></div>
</div>
<p>List those works that are in irregular meters:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -l <span class="s1">&#39;!!!AMT.*irregular&#39;</span> *
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">-L</span></tt> option for <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> causes the output to contain a list of files
<em>not</em> containing the regular expression. For example, we could identify those
works that don&#8217;t bear any dedication:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -L <span class="s1">&#39;!!!ODE:&#39;</span> *
</pre></div>
</div>
<p>List those works <em>not</em> composed by Schumann:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -L <span class="s1">&#39;!!!COM: Schumann&#39;</span> *
</pre></div>
</div>
<p>Identify any works that don&#8217;t contain any double barlines:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -L <span class="s1">&#39;^==&#39;</span> *
</pre></div>
</div>
<p>How many works in the current directory are in simple-triple meter?</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -c <span class="s1">&#39;!!!AMT.*simple.*triple&#39;</span> *
</pre></div>
</div>
<p>When searching for more complex patterns it may be necessary to use <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a>
more than once. Consider, for example, the problem of identifying works whose
titles contain both the words <tt class="docutils literal"><span class="pre">Liebe</span></tt> and <tt class="docutils literal"><span class="pre">Tod</span></tt>. The first of the
following commands will identify only those titles that contain <tt class="docutils literal"><span class="pre">Liebe</span></tt>
followed by <tt class="docutils literal"><span class="pre">Tod</span></tt>, whereas the second command will identify only those
titles that contain <tt class="docutils literal"><span class="pre">Tod</span></tt> followed by <tt class="docutils literal"><span class="pre">Liebe</span></tt>:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep <span class="s1">&#39;!!!OTL.*Liebe.*Tod&#39;</span> *
grep <span class="s1">&#39;!!!OTL.*Tod.*Liebe&#39;</span> *
</pre></div>
</div>
<p>A better solution is to pipe the output between two <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> commands. Recall
that the vertical bar (<cite>|&#8217;) conveyes or &#8220;pipes&#8221; the output from one command
to the input of a subsequent command. The following command passes all opus-
title records (``OTL`</cite>) containing the word <tt class="docutils literal"><span class="pre">Liebe</span></tt> to a second <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a>,
which passes only those records also containing the word <tt class="docutils literal"><span class="pre">Tod</span></tt>. Since both
<a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> commands process the entire input line, it does not matter whether
the word <tt class="docutils literal"><span class="pre">Tod</span></tt> precedes or follows the word <tt class="docutils literal"><span class="pre">Liebe</span></tt>:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep <span class="s1">&#39;!!!OTL.*Liebe&#39;</span> * | grep <span class="s1">&#39;Tod&#39;</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">-v</span></tt> option for <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> causes a &#8220;reverse&#8221; or &#8220;negative&#8221; output.
Instead of outputting all records that <em>match</em> the specified regular
expression, the <tt class="docutils literal"><span class="pre">-v</span></tt> option causes only those records to be output that do
<em>not</em> match the given regular expression. For example, the following command
eliminates all comments from the file <tt class="docutils literal"><span class="pre">polska24.krn</span></tt>:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -v <span class="s1">&#39;^!&#39;</span> polska24.krn
</pre></div>
</div>
<p>Similarly, the following command eliminates all whole-note rests:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -v 1r *
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">-v</span></tt> option is especially convenient in pipelines. For example, the
following command identifies all those files whose instrumentation includes a
cornet but not a trumpet:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep <span class="s1">&#39;!!!AIN.*cornt&#39;</span> * | grep -v <span class="s1">&#39;tromp&#39;</span>
</pre></div>
</div>
<p>The following command identifies those works in compound meters that are not
also quadruple meters:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep <span class="s1">&#39;!!!AMT.*compound&#39;</span> * | grep -v <span class="s1">&#39;quadruple&#39;</span>
</pre></div>
</div>
<p>Similarly, the following command identifies those notes that begin a phrase,
but are not rests.</p>
<div class="highlight-bash"><div class="highlight"><pre>grep <span class="s1">&#39;^{&#39;</span> * | grep -v r
</pre></div>
</div>
</div>
<div class="section" id="german-french-italian-and-neapolitan-sixths">
<h2>German, French, Italian, and Neapolitan Sixths<a class="headerlink" href="#german-french-italian-and-neapolitan-sixths" title="Permalink to this headline">¶</a></h2>
<p>In conjunction with the <a class="reference external" href="../../man/solfa">solfa</a> command, <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> can be used to search
for various types of special chords. Suppose, for example, that we wanted to
identify occurrences of augmented sixth chords. An augmented sixth chord is
characterized by an augmented sixth interval occurring between the lowered
sixth scale-degree and the raised fourth scale-degree. In <a class="reference external" href="../ch04">Chapter 4</a>, we
saw that the <a class="reference external" href="../../man/solfa">solfa</a> command represents pitches with respect to an encoded
tonic pitch. In the <a class="reference external" href="../../rep/solfa">**solfa</a> representation, the lowered sixth and
raised fourth degrees will be represented as <tt class="docutils literal"><span class="pre">6-</span></tt> and <tt class="docutils literal"><span class="pre">4+</span></tt> respectively.
First we translate the input to the <a class="reference external" href="../../rep/solfa">**solfa</a> representation, and then we
search for records matching the appropriate regular expression:</p>
<div class="highlight-bash"><div class="highlight"><pre>solfa input | grep <span class="s1">&#39;6-.*4+&#39;</span>
</pre></div>
</div>
<p>Notice that the expression <tt class="docutils literal"><span class="pre">`6-.*4+</span></tt>&#8216; presumes that the lowered sixth
degree is lower in pitch than the raised fourth degree. For augmented sixth
chords, this is a reasonable presumption. In the unlikely situation that the
raised fourth degree is lower in pitch than the lowered sixth degree, we
would need to also search for the expression <tt class="docutils literal"><span class="pre">`4+.*6-</span></tt>&#8216;. Alternatively, we
could use two separate <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> commands, eliminating the constraint of
order:</p>
<div class="highlight-bash"><div class="highlight"><pre>solfa input | grep <span class="s1">&#39;6-&#39;</span> | grep <span class="s1">&#39;4+&#39;</span>
</pre></div>
</div>
<p>Augmented sixth chords can be further classified as either German, French, or
Italian sixths. The German sixth contains the lowered mediant whereas the
French sixth contains the supertonic pitch; the Italian sixth contains
neither:</p>
<p>`` solfa input | grep &#8216;6-.*4+&#8217; | grep &#8216;3-&#8216;`` # German sixth
`` solfa input | grep &#8216;6-.*4+&#8217; | grep &#8216;2&#8217;`` # French sixth
`` solfa input | grep &#8216;6-.*4+&#8217; | grep -v &#8216;[23]&#8217;`` # Italian sixth</p>
<p>A similar approach can be used to identify Neapolitan sixth chords. These
chords are based on the lowered supertonic with the third of the chord
(unaltered subdominant) in the bass.</p>
<p>`` solfa input | grep &#8216;4[^-+].*2-&#8216; | grep &#8216;6-&#8216;`` # Neapolitan sixth</p>
<p>Depending on the key, Neapolitan chords are sometimes notated enharmonically
as a raised tonic chord. Suppose we were looking for such enharmonically
spelled Neapolitan chords:</p>
<div class="highlight-bash"><div class="highlight"><pre>solfa input | grep <span class="s1">&#39;3+.*1+&#39;</span> | grep <span class="s1">&#39;5+&#39;</span>
</pre></div>
</div>
<p>Occassionally, Neapolitan chords are missing the fifth of the chord (the
lowered sixth degree of the scale). We might search for an example of such a
chord:</p>
<div class="highlight-bash"><div class="highlight"><pre>solfa input | grep <span class="s1">&#39;2-&#39;</span> | grep <span class="s1">&#39;4&#39;</span> | grep -v <span class="s1">&#39;6-&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="and-searches-using-the-xargs-command">
<h2>AND-Searches Using the <em>xargs</em> Command<a class="headerlink" href="#and-searches-using-the-xargs-command" title="Permalink to this headline">¶</a></h2>
<p>In some cases, we want to identify those files that match two entirely
different patterns (in different records). Recall that the <tt class="docutils literal"><span class="pre">-l</span></tt> option
causes <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> to output the <em>filename</em> rather than the matching record. If
we could pass along these file names to another <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> command, we could
search those same files for yet another pattern.</p>
<p>The UNIX**xargs**command provides a useful way of transferring the output
from one command to be used as final arguments for a subsequent command. For
example, the following command takes each file whose opus title contains the
word <tt class="docutils literal"><span class="pre">Liebe</span></tt> and counts the number of phrases.</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -l <span class="s1">&#39;!!!OTL:.*Liebe&#39;</span> * | xargs grep -c <span class="s1">&#39;^{&#39;</span>
</pre></div>
</div>
<p>In this case the <strong>grep -l</strong> command outputs a list of names of files
containing the string <tt class="docutils literal"><span class="pre">Liebe</span></tt> in an OTL reference record. The**xargs**command causes these filenames to be appended to the end of the following
<a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> command. The <strong>grep -c</strong> command will thus be applied only to those
files already identified by the previous <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> as containing <tt class="docutils literal"><span class="pre">Liebe</span></tt> in
the title.</p>
<p>A set of such pipelines can be used to answer more sophisticated questions.
For example, are drinking songs more apt to be in triple meter?</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -l <span class="s1">&#39;!!!AMT.*triple&#39;</span> * | xargs grep -l <span class="s1">&#39;!!!AGN.*Trinklied&#39;</span>
grep -l <span class="s1">&#39;!!!AMT.*duple&#39;</span> * | xargs grep -l <span class="s1">&#39;!!!AGN.*Trinklied&#39;</span>
grep -l <span class="s1">&#39;!!!AMT.*quadruple&#39;</span> * | xargs grep -l <span class="s1">&#39;!!!AGN.*Trinklied&#39;</span>
</pre></div>
</div>
<p>Similarly, the following commands determine whether files whose titles
contain the word <em>death</em> are more apt to be in minor keys:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -li <span class="s1">&#39;!!!OTL.*death&#39;</span> * | xargs grep -c <span class="s1">&#39;^\*[a-g][#-]*:&#39;</span>
grep -li <span class="s1">&#39;!!!OTL.*death&#39;</span> * | xargs grep -c <span class="s1">&#39;^\*[A-G][#-]*:&#39;</span>
</pre></div>
</div>
<p>Note that the**xargs**command can be used again and again to continue
propagating file names as arguments to subsequent searches. For example, the
following command outputs the key signatures for all works originating from
Africa that are written in 3/4 meter:</p>
<p>`` grep -l &#8216;!!!ARE.*Africa&#8217; * | xargs grep -l &#8216;^*M3/4&#8217; &gt;
&gt;&gt; | xargs grep &#8216;^*k[&#8216;``</p>
<p>Similarly, the following command outputs the names of all files in the
current directory that encode 17th century organ works containing passages in
6/8 meter:</p>
<p>`` grep -l &#8216;!!!ODT.*16[0-9][0-9]/&#8217; | xargs grep -l &gt;
&gt;&gt; &#8216;!!!AIN.*organ&#8217; | xargs grep -l &#8216;*M6/8&#8217;``</p>
<p>Using the <tt class="docutils literal"><span class="pre">-L</span></tt> option allows us to form even more complex criteria by
excluding certain works. For example, the following variation of the above
command outputs the names of all files in the current directory that encode
17th century organ works that do not contain passages in 6/8 meter:</p>
<p>`` grep -l &#8216;!!!ODT.*16[0-9][0-9]/&#8217; | xargs grep -l &gt;
&gt;&gt; &#8216;!!!AIN.*organ&#8217; | xargs grep -L &#8216;*M6/8&#8217;``</p>
</div>
<div class="section" id="or-searches-using-the-grep-f-command">
<h2>OR-Searches Using the <em>grep -f</em> Command<a class="headerlink" href="#or-searches-using-the-grep-f-command" title="Permalink to this headline">¶</a></h2>
<p>In effect, the above pipelines provide logical**AND**structures: e.g.
identify works composed in the 17th century AND written for organ AND
containing a passage in 6/8 meter. The <tt class="docutils literal"><span class="pre">-f</span></tt> option for <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> provides a
way of creating logical**OR**searches. With the <tt class="docutils literal"><span class="pre">-f</span></tt> option, we specify a
file containing the patterns being sought. For example, we might create a
file called <tt class="docutils literal"><span class="pre">criteria</span></tt> containing the following three regular expressions:</p>
<div class="highlight-python"><pre>!!!ODT.*16[0-9][0-9]/
!!!AIN.*organ
\*M6/8</pre>
</div>
<p>We would invoke <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> as follows:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -l -f criteria *
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">-f</span></tt> option tells <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> to fetch the file <tt class="docutils literal"><span class="pre">criteria</span></tt> and use the
records in this file as regular expressions. A match is made if any of the
regular expressions is found.</p>
<p>The output would consist of a list of all files in the current directory that
encode works composed in the 17th century OR written for organ OR in 6/8
meter. The <tt class="docutils literal"><span class="pre">-f</span></tt> option is more typically used to specify several variations
of the same idea. For example, suppose we were searching for D major triads
in <a class="reference external" href="../../rep/pitch">**pitch</a> data. We could use a file containing the following regular
expressions:</p>
<div class="highlight-python"><pre>[Dd].*[Ff]#.*[Aa]
[Dd].*[Aa].* [Ff]#
[Ff]#.*[Aa].*[Dd]
[Ff]#.*[Dd].*[Aa]
[Aa].*[Dd].*[Ff]#
[Aa].*[Ff]#.*[Dd]</pre>
</div>
<p>Depending on the application, it may be easier to construct such pattern
files than to use a lengthy pipeline. That is:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -f Dmajor *
</pre></div>
</div>
<p>may be less cumbersome than:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep <span class="o">[</span>Dd<span class="o">]</span> * | grep <span class="o">[</span>Ff<span class="o">]</span><span class="c"># | grep [Aa]</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">-f</span></tt> option can be combined with <tt class="docutils literal"><span class="pre">-L</span></tt>. For example, suppose we wanted
to identify all works in the current directory that are not in the keys of C
major, G major, B-flat major or D minor. Our regular expression file would
contain the following regular expressions:</p>
<p>`` ^*[CGd]:``
`` ^*B-:``</p>
<p>The corresponding command would be:</p>
<div class="highlight-bash"><div class="highlight"><pre>grep -L -f criteria *
</pre></div>
</div>
<p>Another way of thinking of the <tt class="docutils literal"><span class="pre">-f</span></tt> option is that it allows us to define
equivalences. Consider, for example, the task of counting all of the notes in
a <a class="reference external" href="../../rep/kern">**kern</a> melody that belong to a particular whole-tone pitch set. Let&#8217;s
create two files, one called <tt class="docutils literal"><span class="pre">whole1</span></tt> and the other called <tt class="docutils literal"><span class="pre">whole2</span></tt>. The
file <tt class="docutils literal"><span class="pre">whole1</span></tt> might contain the following regular expressions:</p>
<p>&gt;
`` [Cc]([^-#Cc]|$)
[Dd]([^-#Dd]|$)
[Ee]([^-#Ee]|$)
[Ff]#([^#]|$)
[Gg]-([^-]|$)
[Gg]#([^#]|$)
[Aa]-([^-]|$)
[Aa]#([^#]|$)
[Bb]-([^-]|$)``</p>
<p>Notice that the regular expressions have been carefully defined. The first
regular expression defines a pattern consisting of either an upper- or lower-
case letter <a href="#id29"><span class="problematic" id="id30">`</span></a>C&#8217; followed either by a character that is neither a sharp (#)
nor a flat (-) nor another letter <a href="#id31"><span class="problematic" id="id32">`</span></a>C&#8217;, nor is followed by the end of the line
($).</p>
<p>Recall that parenthesis grouping (...) is part of the <em>extended</em> regular
expression syntax. Therefore, we should use the <a class="reference external" href="http://en.wikipedia.org/wiki/Egrep#Variations">egrep</a> rather than the
<a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> command with the above expressions. We can count the number of notes
in a monophonic <a class="reference external" href="../../rep/kern">**kern</a> input that belong to this whole-tone set:</p>
<div class="highlight-bash"><div class="highlight"><pre>egrep -c -f whole1 debussy
</pre></div>
</div>
<p>If the file <tt class="docutils literal"><span class="pre">whole2</span></tt> contains regular expressions for the complementary
pitch set, we could similarly count the number of pitches that belong to this
alternative set:</p>
<div class="highlight-bash"><div class="highlight"><pre>egrep -c -f whole2 debussy
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="reprise">
<h2>Reprise<a class="headerlink" href="#reprise" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> command is usually thought of as a way to find particular
patterns in a file or input stream. However, the various options for <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a>
(such as -v, -l, and -L) allow <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> to be used for other purposes. It can
be used to isolate data, to count occurrences of patterns, to eliminate
unwanted lines, to identify files for processing, and to avoid files that
contain certain information.</p>
<p>We have seen how the**xargs**command can be used to carry out**AND``-searches where each work must conform to multiple criteria. We have
also seen how the <a href="#id37"><span class="problematic" id="id38">``</span></a>-f** option for <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> can be used to permit**OR**-searches where a work needs to conform only to one of a set of
possible criteria.</p>
<p>Although this chapter has focussed principally on the <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> command, the
ensuing chapters will show that regular expressions are used by a wide
variety of commands. In <a class="reference external" href="../ch33">Chapter 33</a>, many more powerful examples will be
discussed in conjunction with the <a class="reference external" href="http://en.wikipedia.org/wiki/Find">find</a> command.</p>
</div>
</div>


          </div>
          <footer>
  <hr/>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <center><a href="../ch11/" class="btn btn-neutral float-right" title="Chapter 11: Melodic Intervals">Next <span class="fa fa-arrow-circle-right"></span></a></center>
      
      
        <a href="../ch09/" class="btn btn-neutral" title="Chapter 9: Searching with Regular Expressions"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
      
             <center><a href="../../_sources/guide/ch10.txt" rel="nofollow"> View page source</a></center>
      
    </div>
  



  <div role="contentinfo">
    <p>
    </p>
  </div>


</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
   
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-52162357-1', 'humdrum.org');
  ga('send', 'pageview');
</script>



</body>
</html>