

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Chapter 7: MIDI Output Tools &mdash; humdrum-tools 1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="humdrum-tools 1 documentation" href="../../"/>
        <link rel="up" title="The Humdrum User Guide" href="../"/>
        <link rel="next" title="Chapter 8: The Shell (I)" href="../ch08/"/>
        <link rel="prev" title="Chapter 6: Representing Music Using **kern(II)" href="../ch06/"/>
   <link rel="stylesheet" type"text/css" href="../../_static/humdrum.css">


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../../" class="fa fa-home"> humdrum-tools</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="../../install/">Humdrum Installation Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../install/github/">Installing Humdrum Tools from GitHub</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../">The Humdrum User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../ch01/">1. Humdrum: A Brief Tour</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch02/">2. Representing Music Using **kern(I)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch03/">3. Some Initial Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch04/">4. Basic Pitch Translations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch05/">5. The Humdrum Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch06/">6. Representing Music Using **kern(II)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Chapter 7: MIDI Output Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch08/">8. The Shell (I)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch09/">9. Searching with Regular Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch10/">10. Musical Uses of Regular Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch11/">11. Melodic Intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch12/">12. Selecting Musical Parts and Passages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch13/">13. Assembling Scores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch14/">14. Stream Editing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch15/">15. Harmonic Intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch16/">16. The Shell (II)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch17/">17. Creating Inventories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch18/">18. Fingers, Footsteps and Frets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch19/">19. Musical Contexts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch20/">20. Strophes, Verses, and Repeats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch21/">21. Searching for Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch22/">22. Classifying</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch23/">23. Rhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch24/">24. The Shell (III)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch25/">25. Similarity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch26/">26. Moving Signifiers Between Spines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch27/">27. Text and Lyrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch28/">28. Dynamic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch29/">29. Differences and Commonalities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch30/">30.MIDI Input Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch31/">31. Repertories and Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch32/">32. The Shell (IV)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch33/">33. Word Sounds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch34/">34. Serial Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch35/">35. Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch36/">33. Sound and Spectra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch37/">37. Electronic Music Editing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch38/">38. Systematic Musicology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch39/">39. Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch40/">40. Conclusion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bibliography/">The Humdrum Toolkit: A Bibliography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sample.problems/">Sample Problems Using the Humdrum Toolkit</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../humextra/">Humdrum Extras</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/intro/">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/rhythm/">2. Rhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/melody/">Melody and Pitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/harmony/">Harmony</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/data/">Data Entry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/searching/">Music Searching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/midi/">MIDI Rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/notation/">Graphical Musical Notation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/other/">Other Useful Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../humextra/programming/">Programming Tutorial</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cookbook/">The Humdrum Cookbook</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../cookbook/vimHighlighting/">Syntax Coloring in Vim</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../man/">Humdrum Command Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../man/assemble/">Command: assemble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/barks/">Command: barks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/cbr/">Command: cbr</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/census/">Command: census</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/cents/">Command: cents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/cleave/">Command: cleave</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/cocho/">Command: cocho</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/context/">Command: context</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/correl/">Command: correl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/deg/">Command: deg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/degree/">Command: degree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/diss/">Command: diss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/ditto/">Command: ditto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/dur/">Command: dur</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/ekern/">Command: ekern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/encode/">Command: encode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/extract/">Command: extract</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/fade/">Command: fade</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/fields/">Command: fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/freq/">Command: freq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/hint/">Command: hint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/humdrum/">Command: humdrum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/humsed/">Command: humsed</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/humver/">Command: humver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/infot/">Command: infot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/iv/">Command: iv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/kern/">Command: kern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/key/">Command: key</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/melac/">Command: melac</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/melvel/">Command: melvel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/metpos/">Command: metpos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/midi/">Command: midi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/midreset/">Command: midreset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/mint/">Command: mint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/ms/">Command: ms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/nf/">Command: nf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/num/">Command: num</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/patt/">Command: patt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/pattern/">Command: pattern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/pc/">Command: pc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/pcset/">Command: pcset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/perform/">Command: perform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/pf/">Command: pf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/pitch/">Command: pitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/proof/">Command: proof</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/recode/">Command: recode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/record/">Command: record</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/regexp/">Command: regexp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/reihe/">Command: reihe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/rend/">Command: rend</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/rid/">Command: rid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/scramble/">Command: scramble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/semits/">Command: semits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/simil/">Command: simil</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/smf/">Command: smf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/solfa/">Command: solfa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/solfg/">Command: solfg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/specc/">Command: specc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/spect/">Command: spect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/strophe/">Command: strophe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/synco/">Command: synco</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/tacet/">Command: tacet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/text/">Command: text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/themefinder/">Command: thmea</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/thru/">Command: thru</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/timebase/">Command: timebase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/tonh/">Command: tonh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/trans/">Command: trans</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/urrhythm/">Command: urrhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/veritas/">Command: veritas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/vox/">Command: vox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/xdelta/">Command: xdelta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/yank/">Command: yank</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/ydelta/">Command: ydelta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/#commands">Commands</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rep/">Humdrum Data Representations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../rep/barlines/">Representation: barlines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/IPA/">Representation: **IPA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/MIDI/">Representation: **MIDI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/Tonh/">Representation: **Tonh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/URrhythm/">Representation: **URrhythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/Zeit/">Representation: **Zeit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/bhatk/">Representation: **bhatk</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/cents/">Representation: **cents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/correl/">Representation: **correl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/dB/">Representation: **dB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/date/">Representation: **date</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/deg/">Representation: **deg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/degree/">Representation: **degree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/diss/">Representation: **diss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/dur/">Representation: **dur</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/embel/">Representation: **embel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/freq/">Representation: **freq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/fret/">Representation: **fret</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/harm/">Representation: **harm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/hildegard/">Representation: **hildegard</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/hint/">Representation: **hint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/iv/">Representation: **iv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/kern/">Representation: **kern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/melac/">Representation: **melac</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/metpos/">Representation: **metpos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/mint/">Representation: **mint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/ordo/">Representation: **ordo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/pc/">Representation: **pc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/pcset/">Representation: **pcset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/pitch/">Representation: **pitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/recip/">Representation: **recip</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/semits/">Representation: **semits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/silbe/">Representation: **silbe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/simil/">Representation: **simil</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/solfa/">Representation: **solfa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/solfg/">Representation: **solfg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/specC/">Representation: **specC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/spect/">Representation: **spect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/synco/">Representation: **synco</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/takt/">Representation: **takt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/text/">Representation: **text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/time/">Representation: **time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/timebase/">Representation: **timebase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rep/vox/">Representation: **vox#</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../">humdrum-tools</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../">Docs</a> &raquo;</li>
      
          <li><a href="../">The Humdrum User Guide</a> &raquo;</li>
      
    <li>Chapter 7: MIDI Output Tools</li>
      <li class="wy-breadcrumbs-aside">
        
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="chapter-7-midi-output-tools">
<h1>Chapter 7: MIDI Output Tools<a class="headerlink" href="#chapter-7-midi-output-tools" title="Permalink to this headline">¶</a></h1>
<p>MIDI is a standard method for exchanging information between sound
synthesizers and controlling computers. Humdrum provides a number of MIDI-
related tools that allow MIDI data to be input and output. In this chapter we
will discuss the output-related tools: <a href="#id7"><span class="problematic" id="id8">|midi|_</span></a>, <a class="reference external" href="../../man/perform">perform</a>,
<a class="reference external" href="../../man/smf">smf</a> and <a class="reference external" href="../../man/tacet">tacet</a>. MIDI input tools are discussed in <a class="reference external" href="../ch30">Chapter 30</a>.</p>
<div class="section" id="the-midi-representation">
<h2>The <a href="#id3"><span class="problematic" id="id4">**</span></a><em>MIDI</em> Representation<a class="headerlink" href="#the-midi-representation" title="Permalink to this headline">¶</a></h2>
<p>Humdrum provides a <a class="reference external" href="../../rep/MIDI">**MIDI</a> representation that closely parallels the
commercial MIDI specification but conforms to the Humdrum data format. This
representation provides an intermediate format; using Humdrum commands such
as <a class="reference external" href="../../man/perform">perform</a> and <a class="reference external" href="../../man/smf">smf</a>, true MIDI data can be generated. However,
since the <a class="reference external" href="../../rep/MIDI">**MIDI</a> representation conforms to the Humdrum syntax, the data
can be manipulated, modified and searched in the same way as other Humdrum
data. For example, we can use <a class="reference external" href="http://en.wikipedia.org/wiki/Grep">grep</a> to search MIDI data, etc.</p>
<p>MIDI is a type of &#8220;tablature&#8221; notation. It describes a set of performance
actions rather than specifying either the sounded result or the analytic
notation. MIDI represents note-related events for various &#8220;channels.&#8221; MIDI
events include note-on, note-off, key-velocity, after-touch, control codes,
and system-exclusive codes. The original commercial MIDI standard is unable
to represent many other musically pertinent signifiers such as pitch spelling
(e.g., F-sharp versus G-flat), stem directions, ties, slurs, phrasing, etc.
In addition, MIDI does not represent rests.</p>
<p>A simple <a class="reference external" href="../../rep/MIDI">**MIDI</a> example is given below. It consists just a single note
(middle C):</p>
<div class="highlight-humdrum"><div class="highlight"><pre>!! A single MIDI note.
**MIDI
*Ch1
54/60/64
80/-60/64
*-
</pre></div>
</div>
<p>Notice that there are two <a class="reference external" href="../../rep/MIDI">**MIDI</a> data tokens: one to specify note-on and
one to specify note-off events. Each <a class="reference external" href="../../rep/MIDI">**MIDI</a> data token consists of three
elements or components, delimited by a slash character (/). The first element
in the data token represents the number of clock ticks before the current
event is to occur. The absolute duration of a single clock tick is determined
by the <a class="reference external" href="../../rep/MIDI">**MIDI</a> clock speed, which is variable. In our example, 54 clock
ticks elapse before the note is turned on, and another 80 clock ticks elapse
before the note is turned off. The initial pause before the first note begins
is not necessary; however, many MIDI cards introduce a brief delay before
beginning to send the first data in a stream. The leading pause prevents a
&#8220;rushed&#8221; burst of initial notes.</p>
<p>The second element in a data token represents the <a class="reference external" href="../../rep/MIDI">**MIDI</a> key number.
Successive numbers refer to semitone pitches where middle C is designated key
<tt class="docutils literal"><span class="pre">60</span></tt>. Key-off events are represented by negative integers, so <tt class="docutils literal"><span class="pre">-60</span></tt> means
turn off key <tt class="docutils literal"><span class="pre">60</span></tt>. Key numbers range between 1 and 127.</p>
<p>The third element in a data token represents the <a class="reference external" href="../../rep/MIDI">**MIDI</a> key velocity.
MIDI instruments normally interpret key velocity as dynamic or accent
information. Higher key-velocity values are associated with accented notes.
In the case of key-off events, the key-velocity component represents the key-
up velocity.</p>
<p>Unlike most other Humdrum representations, the <a class="reference external" href="../../rep/MIDI">**MIDI</a> format requires
two data tokens for each note. The following example shows a three note
C-major triad. The <a class="reference external" href="../../rep/kern">**kern</a> data is shown in the left spine with the
corresponding <a class="reference external" href="../../rep/MIDI">**MIDI</a> data in the right spine. Notice that each data token
consists of three subtokens, one for each note:</p>
<div class="highlight-humdrum"><div class="highlight"><pre>!! A C-major triad.
**kern  **MIDI
*       *Ch1
2c 2e 2g        72/60/64 72/64/64 72/67/64
.       144/-60/64 144/-64/64 144/-67/64
*-      *-
</pre></div>
</div>
<p>Middle C corresponds to MIDI key 60; The pitches E4 and G4 correspond to MIDI
keys 64 and 67 respectively. The half-note durations result in a delay of 144
clock ticks before the key-off commands are executed. Notice that all key-off
events occur simultaneously.</p>
<p>Suppose we add a second chord consisting of the dyad D4 and F4. The dyad
begins at the same time that the C major triad ends. This results in five
subtokens in the corresponding <a class="reference external" href="../../rep/MIDI">**MIDI</a> data record. Three key-off events
are synchronous with two key-on events:</p>
<div class="highlight-humdrum"><div class="highlight"><pre>!! Two chords.
**kern  **MIDI
*       *Ch1
2c 2e 2g        72/60/64 72/64/64 72/67/64
4d 4f   144/-60/64 144/-64/64 144/-67/64 144/62/64 144/65/64
.       72/-62/64 72/-65/64
*-      *-
</pre></div>
</div>
<p>Notice that the difference in duration between the half-notes and quarter-
notes is reflected when the notes are turned <em>off</em> rather than when the notes
are turned <em>on</em>.</p>
<p>Example 7.1 illustrates a slightly more complex excerpt from the beginning of
Darius Milhaud&#8217;s <em>Touches Blanches</em>.</p>
<p><strong>Example 7.1</strong> Excerpt from Darius Milhaud&#8217;s <em>Touches Blanches</em></p>
<a class="reference internal image-reference" href="../../_images/ex7-1.svg"><div align="center" class="align-center"><img src="../../_images/ex7-1.svg" width="100%" /></div>
</a>
<div class="highlight-humdrum"><div class="highlight"><pre>!!!: Milhaud, D.
!!!OTL: TouchesBlanches
**kern  **kern  **MIDI  **MIDI
*staff2 *staff1 *Ch1    *Ch1
*clefF4 *clefG2 *clefF4 *clefG2
*k[]    *k[]    *k[]    *k[]
*M3/4   *M3/4   *M3/4   *M3/4
=1-     =1-     =1-     =1-
4e      (4g     72/64/64        72/67/64
4c      2a)     72/-64/64 72/60/64      72/-67/64 72/69/64
4F      .       72/-60/64 72/53/64      .
=2      =2      =2      =2
4f      (8a     72/-53/64 72/65/64      72/-69/64 72/69/64
.       8b      .       36/-69/64 36/71/64
4d      2g)     36/-65/64 36/62/64      36/-71/64 36/67/64
4G      .       72/-62/64 72/55/64.
=3      =3      =3      =3
4e      (4g     72/-55/64 72/64/64      72/-67/64 72/67/64
4c      2a)     72/-64/64 72/60/64      72/-67/64 72/69/64
4F      .       72/-60/64 72/53/64      .
=4      =4      =4      =4
4f      (8a     72/-53/64 72/65/64      72/-69/64 72/69/64
.       8b      .       36/-69/64 36/71/64
4d      2g)     36/-65/64 36/62/64      36/-71/64 36/67/64
4G      .       72/-62/64 72/55/64      .
.       .       72/-55/64       72/-67/64
*-      *-      *-      *-
</pre></div>
</div>
<p>The <a class="reference external" href="../../rep/MIDI">**MIDI</a> representation always expects a tandem interpretation
indicating the MIDI channel assignment. In Example 7.1 both parts have been
assigned to channel 1. Once again, simultaneous key-on and key-off events
often appear as double-stops. Also notice that an additional data record is
required at the end of the passage in order to turn off the final notes.</p>
</div>
<div class="section" id="the-midi-command">
<h2>The <em>midi</em> Command<a class="headerlink" href="#the-midi-command" title="Permalink to this headline">¶</a></h2>
<p>The <a href="#id9"><span class="problematic" id="id10">|midi|_</span></a> command converts Humdrum <a class="reference external" href="../../rep/kern">**kern</a> data into Humdrum
<a class="reference external" href="../../rep/MIDI">**MIDI</a> data. By way of example, the above <a class="reference external" href="../../rep/MIDI">**MIDI</a> data can be
generated as follows:</p>
<div class="highlight-bash"><div class="highlight"><pre>midi inven05.krn &gt; inven05.hmd
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">.hmd</span></tt> filename extension is a common way of designating Humdrum
<a href="#id11"><span class="problematic" id="id12">|MIDI|_</span></a> data.</p>
<p>Since the <a class="reference external" href="../../rep/kern">**kern</a> representation does not encode key-velocity information,
the <a href="#id13"><span class="problematic" id="id14">|midi|_</span></a> command assumes a default key velocity of 64 (from a range of 1
to 127). If the input is monophonic, <a href="#id15"><span class="problematic" id="id16">|midi|_</span></a> will also allow the user to set
a fixed note duration using the <tt class="docutils literal"><span class="pre">-d</span></tt> option. This is useful for auditing
notes that do not have duration values. For example, a Gregorian chant might
be represented without durations. The following command takes a file
containing a 12-tone row (pitch information only) and produces a <a class="reference external" href="../../rep/MIDI">**MIDI</a>
output where all notes assigned to a quarter duration:</p>
<div class="highlight-bash"><div class="highlight"><pre>midi -d 4 tonerow &gt; tonerow.hmd
</pre></div>
</div>
<p>The most common use of <a class="reference external" href="../../rep/MIDI">**MIDI</a> data is to create a standard MIDI file
using the <a class="reference external" href="../../man/smf">smf</a> command, or to listen to the output using the <a class="reference external" href="../../man/perform">perform</a> command. In some cases, it is useful to carry out processing of <a class="reference external" href="../../rep/MIDI">**MIDI</a>
data itself.</p>
</div>
<div class="section" id="the-perform-command">
<h2>The <em>perform</em> Command<a class="headerlink" href="#the-perform-command" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="../../man/perform">perform</a> command allows the user to listen to synthesized
performances of <a class="reference external" href="../../rep/MIDI">**MIDI</a>-format input. When invoked, <a class="reference external" href="../../man/perform">perform</a> provides a
simple interactive environment suitable for proof-listening and other
audition tasks.</p>
<p>The <a class="reference external" href="../../man/perform">perform</a> command accepts any Humdrum input; however, only
<a class="reference external" href="../../rep/MIDI">**MIDI</a> spines present in the input stream are performed. Non-MIDI
spines are simply ignored and do not affect the sound output. The <a class="reference external" href="../../man/perform">perform</a> command generates serial MIDI data which are sent directly to a MIDI
controller card or on-board sound-card.</p>
<p>The <a class="reference external" href="../../man/perform">perform</a> command is typically the last command in a pipe preceded by
the <a href="#id17"><span class="problematic" id="id18">|midi|_</span></a> command. For example, a <a class="reference external" href="../../rep/kern">**kern</a>-format score can be heard
using the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre>midi clara.krn | perform
</pre></div>
</div>
<p>When invoked, the <a class="reference external" href="../../man/perform">perform</a> command reads in the entire input into memory.
This allows the user to move freely both forward and backward through the
MIDI score.</p>
<p>The <a class="reference external" href="../../man/perform">perform</a> command provides a set of interactive commands that allow the
user to pause and resume playback, to change tempo, to move to any measure by
absolute or relative reference, and to search forward or backward for
commented markers. The <a class="reference external" href="../../man/perform">perform</a> command remains active until either the
end of the score is reached or the user terminates performance by typing the
letter <a href="#id5"><span class="problematic" id="id6">`</span></a>q&#8217; or the escape key (ESC).</p>
<p>Playback can be paused by typing the space-bar and resumed by typing any key.
Typing the carriage return by itself will return to the beginning of the
score and re-initiate playback. If a number is typed before pressing the
carriage return then <a class="reference external" href="../../man/perform">perform</a> will search for a corresponding measure
number and initiate playback from that measure. Other commands are provided
that allow moving forward or backward a specified number of measures.</p>
<p>In the default operation, <a class="reference external" href="../../man/perform">perform</a> echoes all global comments on the
screen as the comments are encountered in the input. For inputs containing
appropriate annotations, the echoing of comments can provide useful visual
markers or reminders of particular moments in the sound output. Whether or
not global comments are echoed on the standard output, users can use the <a class="reference external" href="../../man/perform">perform</a> forward-search (<tt class="docutils literal"><span class="pre">/</span></tt>) or backward-search (<tt class="docutils literal"><span class="pre">?</span></tt>) commands to
move directly to a particular commented point in the score. For example, if
an input contains a global comment containing the character string &#8220;<tt class="docutils literal"><span class="pre">Second</span>
<span class="pre">theme</span></tt>,&#8221; then the user can move immediately to this position in the input by
entering the following command:</p>
<p><tt class="docutils literal"><span class="pre">/Second</span> <span class="pre">theme</span></tt></p>
<p>Similarly, backward searches can be carried out by typing the question mark
(<tt class="docutils literal"><span class="pre">?</span></tt>) rather than the slash. If the search is successful, playback
continues immediately from the new score position.</p>
</div>
<div class="section" id="data-scrolling-during-playback">
<h2>Data Scrolling During Playback<a class="headerlink" href="#data-scrolling-during-playback" title="Permalink to this headline">¶</a></h2>
<p>The <a href="#id19"><span class="problematic" id="id20">|midi|_</span></a> command provides a useful <tt class="docutils literal"><span class="pre">-c</span></tt> option that causes each data
record to be repeated as a comment. For example, when the <tt class="docutils literal"><span class="pre">-c</span></tt> option is
used a sequence of data records such as the following:</p>
<p><tt class="docutils literal"><span class="pre">4C4E4G4c</span>
<span class="pre">``4D4F4G4B</span>
<span class="pre">``4AA4E4A4c</span></tt></p>
<p>is transformed to:</p>
<p><tt class="docutils literal"><span class="pre">4C4E4G4c</span>
<span class="pre">``!!4C4E4G4c</span>
<span class="pre">``4D4F4G4B</span>
<span class="pre">``!!4D4F4G4B</span>
<span class="pre">``4AA4E4A4c</span>
<span class="pre">``!!4AA4E4A4c</span></tt></p>
<p>Since, by default, the <a class="reference external" href="../../man/perform">perform</a> command echoes all global comments on the
screen during playback, this means that the Humdrum data will also appear on
the screen as it is being played. In addition, the commented data records are
accessible to the forward- and backward-search commands. For example, in the
<a class="reference external" href="../../rep/kern">**kern</a> representation, pauses are indicated by a semicolon; hence the
user might search for the next pause symbol by typing:</p>
<p><tt class="docutils literal"><span class="pre">/;</span></tt></p>
<p>Similarly, the user could search for a particular pitch, e.g.</p>
<p><tt class="docutils literal"><span class="pre">/gg#</span></tt></p>
<p>Since the <a class="reference external" href="../../man/perform">perform</a> command accepts any Humdrum input, other Humdrum data
may be used for searching. For example, the input data might contain melodic
interval data (see <a class="reference external" href="../ch11">Chapter 11</a>), allowing the user to search for a
particular interval such as a diminished octave:</p>
<p><tt class="docutils literal"><span class="pre">/d8</span></tt></p>
<p>If the string pattern is found in the input, <a class="reference external" href="../../man/perform">perform</a> will move
immediately forward (or backward) to the next occurrence and begin playing
from that point.</p>
</div>
<div class="section" id="changing-tempo">
<h2>Changing Tempo<a class="headerlink" href="#changing-tempo" title="Permalink to this headline">¶</a></h2>
<p>During playback, the tempo can be modified by typing the greater-than (&gt;) and
less-than (&lt;) signs to increase or decrease the tempo respectively. In
addition to modifying the tempo interactively, the performance tempo may be
specified either in the command line or in the input Humdrum representation.
The tempo may be specified on the command line by using the <tt class="docutils literal"><span class="pre">-t</span></tt> option.
For example, the following command causes the file <tt class="docutils literal"><span class="pre">Andean</span></tt> to be performed
at half tempo:</p>
<div class="highlight-bash"><div class="highlight"><pre>midi Andean | perform -t 0.5
</pre></div>
</div>
<p>Performing at fast speeds can often be useful when scanning for a particular
passage.</p>
<p>Tempo specifications may be present in the input data via the tandem
interpretation for metronome marking (e.g. <tt class="docutils literal"><span class="pre">*MM96</span></tt>). If no tempo
information is available, <a class="reference external" href="../../man/perform">perform</a> uses a default tempo of 66 quarter-
notes per minute.</p>
</div>
<div class="section" id="the-tacet-command">
<h2>The <em>tacet</em> Command<a class="headerlink" href="#the-tacet-command" title="Permalink to this headline">¶</a></h2>
<p>In rare circumstances, ciphers (stuck notes) can occur during MIDI
performances; for instance, an intermittently functioning MIDI cable may fail
to convey a &#8220;note-off&#8221; instruction to an active synthesizer. The**p**command (&#8220;panic&#8221;) turns off all active notes. Should a cipher remain after
terminating the <a class="reference external" href="../../man/perform">perform</a> command, the Humdrum <a class="reference external" href="../../man/tacet">tacet</a> command can be
used to send &#8220;all-notoff&#8221; commands on all MIDI channels.</p>
<p>In <a class="reference external" href="../ch12">Chapter 12</a>, we will see how <a class="reference external" href="../../man/perform">perform</a> can be used in conjunction with
other commands (such as <a class="reference external" href="../../man/extract">extract</a> and <a class="reference external" href="../../man/yank">yank</a>) to listen selectively
to specific parts or passages. In <a class="reference external" href="../ch21">Chapter 21</a> we will use <a class="reference external" href="../../man/perform">perform</a> in
conjunction with the <a class="reference external" href="../../man/patt">patt</a> command to listen to patterns (such as
harmonic, rhythmic and melodic patterns) found in some repertory.</p>
</div>
<div class="section" id="the-smf-command">
<h2>The <em>smf</em> Command<a class="headerlink" href="#the-smf-command" title="Permalink to this headline">¶</a></h2>
<p>Another MIDI-related tool is the <a class="reference external" href="../../man/smf">smf</a> command. This command allows the
user to create &#8220;standard MIDI files&#8221; from Humdrum <a class="reference external" href="../../rep/MIDI">**MIDI</a>-format files.
Standard MIDI files are industry-standard binary files that can be imported
by a variety of MIDI applications software packages on many different
platforms, including sequencer programs and most music notation packages.</p>
<p>The <a class="reference external" href="../../man/smf">smf</a> command translates only <a class="reference external" href="../../rep/MIDI">**MIDI</a> input spines; all
non- <a class="reference external" href="../../rep/MIDI">**MIDI</a> spines are simply ignored. Suppose we begin with a
<a class="reference external" href="../../rep/kern">**kern</a>-format file named <tt class="docutils literal"><span class="pre">joplin</span></tt>. We can create a standard MIDI file
as follows:</p>
<div class="highlight-bash"><div class="highlight"><pre>midi joplin | smf &gt; joplin.smf
</pre></div>
</div>
<p>The <a class="reference external" href="../../man/smf">smf</a> command provides two options. The <tt class="docutils literal"><span class="pre">-t</span></tt> option allows the user
to set the tempo, whereas the <tt class="docutils literal"><span class="pre">-v</span></tt> option allows the user to specify a
default MIDI key velocity. See the <em>Humdrum Reference Manual</em> for details.</p>
</div>
<hr class="docutils" />
<div class="section" id="reprise">
<h2>Reprise<a class="headerlink" href="#reprise" title="Permalink to this headline">¶</a></h2>
<p>In this chapter we have learned how Humdrum data can be output as MIDI data.
Humdrum provides a <a class="reference external" href="../../rep/MIDI">**MIDI</a> representation that closely parallels MIDI but
remains in conformity with the Humdrum syntax. This means that the data can
still be processed with other Humdrum tools (as we will see in later
chapters).</p>
<p>The <a href="#id21"><span class="problematic" id="id22">|midi|_</span></a> command can translate <a class="reference external" href="../../rep/kern">**kern</a> data to <a class="reference external" href="../../rep/MIDI">**MIDI</a> and
the <a class="reference external" href="../../man/perform">perform</a> and <a class="reference external" href="../../man/smf">smf</a> commands can be used to generate true MIDI
data for listening. The <a class="reference external" href="../../man/perform">perform</a> command provides a simple interactive
command-line sequencer for playing whatever input is provided. The <a class="reference external" href="../../man/smf">smf</a> command generates standard MIDI files that can be used to transport MIDI data
to a vast array of commercial and non-commerical applications software. In
<a class="reference external" href="../ch30">Chapter 30</a> we will explore some of the Humdrum tools for inputting MIDI
data into Humdrum.</p>
</div>
</div>


          </div>
          <footer>
  <hr/>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <center><a href="../ch08/" class="btn btn-neutral float-right" title="Chapter 8: The Shell (I)">Next <span class="fa fa-arrow-circle-right"></span></a></center>
      
      
        <a href="../ch06/" class="btn btn-neutral" title="Chapter 6: Representing Music Using **kern(II)"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
      
             <center><a href="../../_sources/guide/ch07.txt" rel="nofollow"> View page source</a></center>
      
    </div>
  



  <div role="contentinfo">
    <p>
    </p>
  </div>


</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
   
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-52162357-1', 'humdrum.org');
  ga('send', 'pageview');
</script>



</body>
</html>