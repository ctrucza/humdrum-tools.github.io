<HTML>
<HEAD>
<TITLE>Humdrum Toolkit Command Reference -- infot</TITLE>
<link href="../../Humdrum.css" rel="stylesheet" type="text/css">
</HEAD>


<BODY>

<table id="header" width="100%">
  <caption></caption>
  <tbody>
    <tr>
      <td valign="middle"><img alt=" " src="../../HumdrumIcon.gif"></td>
      <td align="center" valign="middle"><img alt="Humdrum "
        src="../../HumdrumHeader.gif"></td>
      <td align="right" valign="middle"><img alt=" "
        src="../../HumdrumSpacer.gif"></td>
    </tr>
  </tbody>
</table>



</P>
</P>
<center><HR WIDTH=500></center>
<FONT color="0000FF"><H3>COMMAND</H3></FONT>
<b>infot</b>  --  calculate information theory measures for Humdrum inputs
</P>
<P>
<center><HR WIDTH=500></center>
<FONT color="0000FF"><H3>SYNOPSIS</H3></FONT>
<code><big>
<b>infot</b>  <b>-b</b>  [<b>-H</b>]  [<b>-x</b> <i>regexp</i>]  [<i>inputfile</i> ...]
<br>
<b>infot</b>  <b>-n</b>  [<b>-H</b>]  [<b>-x</b> <i>regexp</i>]  [<i>inputfile</i> ...]
<br>
<b>infot</b>  <b>-p</b>  [<b>-H</b>]  [<b>-x</b> <i>regexp</i>]  [<i>inputfile</i> ...]
<br>
<b>infot</b>  <b>-s</b>  [<b>-x</b> <i>regexp</i>]  [<i>inputfile</i> ...]
</code></big>
</P>
<P>
<center><HR WIDTH=500></center>
<FONT color="0000FF"><H3>DESCRIPTION</H3></FONT>
The
<b>infot</b>
command provides a general-purpose tool for measuring
the probability relationships between user-selected data tokens.
Given a specified input stream,
<b>infot</b>
can calculate one of several pertinent information-theoretic values.
The values may be calculated with reference to an independent
repertoire, or may be calculated as so-called "self-information."
</P>
<P>
In conjunction with other Humdrum tools (notably the
<A HREF="context.html"><b>context</b></A>
and
<A HREF="humsed.html"><b>humsed</b></A>
commands),
<b>infot</b>
permits sophisticated information-theoretic analyses to be
carried out, including calculations of information flow,
short-term conditional probabilities, and longer-term
<i>m-dependency</i>
analyses.
Alternatively, a simple set of summary statistics can be requested.
In most cases, users will want to use
<b>infot</b>
to generate outputs that are suitable for further processing.
</P>
<P>
Input to
<b>infot</b>
is restricted to a single spine.
However, the input data tokens may contain multiple-stops
representing complex contextual information (such as produced by the
<A HREF="context.html"><b>context</b></A>
command).
</P>
<P>
For the entire input,
<b>infot</b>
tabulates the total number of occurrences of each unique data record
(hereafter referred to as `states').
For the
<b>-n, -p</b>
and
<b>-b</b>
options,
<b>infot</b>
outputs a two-column list where the left column indentifies
each unique state and the right column provides one of several corresponding
calculated measures.
With the
<b>-n</b>
option, this measure is merely an integer count of the number of
occurrences of each corresponding state.
With the
<b>-p</b>
option, this measure is a probability of occurrence for each state.
With the
<b>-b</b>
option, this measure identifies the information content for the
corresponding state in bits.
</P>
<P>
Information content (<i>H</i>) in bits is calculated according to
the classic equation devised by Shannon and Weaver (see <A HREF="#REFERENCES">REFERENCES</A>):
</P>
<P>
.EQ
delim $$
.EN
.EQ
		H~ =~ sum from i=1 to N ~p sub i ~log sub 2 ~1 over { p sub i }
.EN
</P>
<P>
where $H$ is the average information (in bits), $N$ is the number of
possible unique states in the repertoire,
and $p sub i$ is the probability of occurrence of state $i$
from the repertoire.
.EQ
delim off
.EN
</P>
<P>
Note that the outputs produced by
<b>infot</b>
do not conform to the Humdrum syntax.
</P>
<P>
<center><HR WIDTH=500></center>
<FONT color="0000FF"><H3>OPTIONS</H3></FONT>
The
<b>infot</b>
command provides the following options:
<blockquote><TABLE>
<TR><TD><b>-b</b></TD><TD>output information (in bits) for each unique data token</TD></TR>
<TR><TD><b>-h</b></TD><TD>displays a help screen summarizing the command syntax</TD></TR>
<TR><TD><b>-H</b></TD><TD>format output as <A HREF="humsed.html"><b>humsed</b></A> commands</TD></TR>
<TR><TD><b>-n</b></TD><TD>output frequency count for each unique data token</TD></TR>
<TR><TD><b>-p</b></TD><TD>output probability value for each unique data token</TD></TR>
<TR><TD><b>-s</b></TD><TD>output information-related summary statistics</TD></TR>
<TR><TD><b>-x <i>regexp</i></TD><TD>exclude tokens matching <i>regexp</i> from calculations</TD></TR>
</TABLE></blockquote>
Options are specified in the command line.
</P>
<P>
With the
<b>-n</b>
option,
<b>infot</b>
outputs a two-column list where the left column indentifies
each unique state present in the input, and the right column provides an integer
<i>count</i>
indicating the number of occurrences for the corresponding state.
</P>
<P>
With the
<b>-p</b>
option,
<b>infot</b>
outputs a two-column list where
<i>probabilities</i>
of occurrence are output in the right-hand column, rather than counts.
</P>
<P>
With the
<b>-b</b>
option,
<b>infot</b>
outputs the information (in bits) as calculated according to the
<A HREF="#Shannon and Weaver">Shannon-Weaver equation.</A>
</P>
<P>
</P>
<P>
<center><HR WIDTH=500></center>
<FONT color="0000FF"><H3>EXAMPLES</H3></FONT>
The use of
<b>infot</b>
is illustrated in the following examples.
Consider the following input:
<code><big>
<blockquote><TABLE>
<TR><TD>**foo</TD></TR>
<TR><TD>A</TD></TR>
<TR><TD>B2</TD></TR>
<TR><TD>C-c</TD></TR>
<TR><TD>A</TD></TR>
<TR><TD>B2</TD></TR>
<TR><TD>A</TD></TR>
<TR><TD>A</TD></TR>
<TR><TD>B2</TD></TR>
<TR><TD>C-c</TD></TR>
<TR><TD>A</TD></TR>
<TR><TD>A</TD></TR>
<TR><TD>X Y</TD></TR>
<TR><TD>*-</TD></TR>
</TABLE></blockquote>
</code></big>
A simple command invocation would use the <b>-n</b> option to count
the number of occurrences of each unique data token (or state):
</P>
<P>
<blockquote>
<code><big>
infot -n input
</code></big>
</blockquote>
</P>
<P>
The corresponding output is:
<code><big>
<blockquote><TABLE>
<TR><TD>A</TD><TD>6</TD></TR>
<TR><TD>B2</TD><TD>3</TD></TR>
<TR><TD>C-c</TD><TD>2</TD></TR>
<TR><TD>X Y</TD><TD>1</TD></TR>
</TABLE></blockquote>
</code></big>
The tallies indicate that state `A' occurs 6 times,
and that the least common state (`X Y') occurs just once.
If we had invoked the <b>-p</b> option, the counts would
be replaced by probabilities.
The command:
</P>
<P>
<blockquote>
<code><big>
infot -p input
</code></big>
</blockquote>
</P>
<P>
produces the following output:
<code><big>
<blockquote><TABLE>
<TR><TD>A</TD><TD>0.500</TD></TR>
<TR><TD>B2</TD><TD>0.250</TD></TR>
<TR><TD>C-c</TD><TD>0.167</TD></TR>
<TR><TD>X Y</TD><TD>0.083</TD></TR>
</TABLE></blockquote>
</code></big>
Alternatively, the <b>-b</b> option:
</P>
<P>
<blockquote>
<code><big>
infot -b input
</code></big>
</blockquote>
</P>
<P>
would output information measures for each state, in bits:
<code><big>
<blockquote><TABLE>
<TR><TD>A</TD><TD>1.000</TD></TR>
<TR><TD>B2</TD><TD>2.000</TD></TR>
<TR><TD>C-c</TD><TD>2.585</TD></TR>
<TR><TD>X Y</TD><TD>3.585</TD></TR>
</TABLE></blockquote>
</code></big>
In the case of the <b>-s</b> option, summary statistics would be output,
rather than a two-column list.
For the above input, the following summary statistics would be generated:
<code><big>
<blockquote><TABLE>
<TR><TD>Total number of unique states in message:</TD><TD>4</TD></TR>
<TR><TD>Total information of message  (in bits):</TD><TD>20.7549</TD></TR>
<TR><TD>Total possible  information for message:</TD><TD>24</TD></TR>
<TR><TD>Info  per state  for equi-prob  distrib:</TD><TD>2</TD></TR>
<TR><TD>Average information conveyed  per state:</TD><TD>1.72957</TD></TR>
<TR><TD>Percent redundancy  evident  in message:</TD><TD>13.5213</TD></TR>
</TABLE></blockquote>
</code></big>
The first line of output merely indicates the number of unique states
found in the input (in this case just 4).
The fifth output line indicates the average information conveyed
per state (in bits).
The fourth output line indicates the theoretical maximum average information
per state that could be communicated by a system having four states.
The third line indicates the maximum possible information that
could be communicated in a message of the same length as the input
--  given the theoretical maximum average information.
(Since there are 12 data records, this value is simply 12 x 2 bits,
or 24 bits.)
The second output line gives the actual total information for the
given input message.
(This is always less-than, or equal-to the maximum theoretical value.)
The final line indicates the amount of redundancy -- as a percentage.
That is, this value contrasts the actual information conveyed with
the theoretical maximum.
</P>
<P>
In general, note that as the probabilities of the input states approach
equivalence, the redundancy approaches zero and the average information
content approaches the theoretical maximum.
</P>
<P>
Consider now an example where a large number of messages from a repertoire
(dubbed <code><big>repertoire</code></big>) is passed to <b>infot</b>:
</P>
<P>
<blockquote>
<code><big>
infot -b repertoire
</code></big>
</blockquote>
</P>
<P>
Suppose that the following output is produced:
<code><big>
<blockquote><TABLE>
<TR><TD>ABC</TD><TD>3.124</TD></TR>
<TR><TD>BAC</TD><TD>1.306</TD></TR>
<TR><TD>C C D</TD><TD>1.950</TD></TR>
<TR><TD>X</TD><TD>5.075</TD></TR>
<TR><TD>XYZ</TD><TD>19.334</TD></TR>
</TABLE></blockquote>
</code></big>
This result indicates that, although there might have been hundreds
of data tokens processed in the repertoire, only five different
unique states were present.
The greatest information content (lowest probability)
is associated with the state <code><big>XYZ</big></code> (19.334 bits),
whereas the lowest information content (highest probability)
is associated with the state <code><big>BAC</big></code> (1.306 bits).
Notice that the multiple-stop <code><big>C C D</big></code> is treated as a single state.
</P>
<P>
Now imagine we had another message presumed to belong to the same
repertoire as our input.
We would like to trace how the information increases and decreases
over the course of this new `message'.
This goal involves a two-part operation.
First, we re-invoke
<b>infot</b>
adding the
<b>-H</b>
option, and redirect the output to a file <code><big>replace</big></code>:
</P>
<P>
<blockquote>
<code><big>
infot -bH repertoire > replace
</code></big>
</blockquote>
</P>
<P>
This causes
<b>infot</b>
to produce as output a set of
<A HREF="humsed.html"><b>humsed</b></A>
commands.
Given the identical <code><big>repertoire</big></code> input, the following
output is sent to the file <code><big>replace</big></code>:
</P>
<P>
<blockquote>
<code><big>
s/^ABC$/3.124/g; s/^ABC	/3.124/g; s/	ABC$/3.124/g; s/	ABC	/3.124/g
s/^BAC$/1.306/g; s/^BAC	/1.306/g; s/	BAC$/1.306/g; s/	BAC	/1.306/g
s/^C C D$/1.95/g; s/^C C D	/1.95/g; s/	C C D$/1.95/g; s/	C C D	/1.95/g
s/^X$/5.075/g; s/^X	/5.075/g; s/	X$/5.075/g; s/	X	/5.075/g
s/^XYZ$/19.334/g; s/^XYZ	/19.334/g; s/	XYZ$/19.334/g; s/	XYZ	/19.334/g
</code></big>
</blockquote>
</P>
<P>
Although these commands may appear somewhat cryptic, they merely
instruct the Humdrum stream editor
<A HREF="humsed.html">(<b>humsed</b>)</A>
to replace
all occurrences of the five data tokens (in any input file)
by the corresponding numerical values -- in
this case, values that represent the number of bits of information.
</P>
<P>
The following file (called <code><big>input</big></code>) contains the
message of interest:
<code><big>
<blockquote><TABLE>
<TR><TD>**bar</TD></TR>
<TR><TD>BAC</TD></TR>
<TR><TD>BAC</TD></TR>
<TR><TD>C C D</TD></TR>
<TR><TD>.</TD></TR>
<TR><TD>=</TD></TR>
<TR><TD>*</TD></TR>
<TR><TD>C C D</TD></TR>
<TR><TD>XYZ</TD></TR>
<TR><TD>X</TD></TR>
<TR><TD>ABC</TD></TR>
<TR><TD>BAC</TD></TR>
<TR><TD>*-</TD></TR>
</TABLE></blockquote>
</code></big>
This file can be transformed so that the data tokens are replaced
by corresponding information values as determined from the
original repertoire.
This is done by invoking the
<A HREF="humsed.html"><b>humsed</b></A>
command, and providing it with the substitution commands held in the
file <code><big>replace</big></code>:
</P>
<P>
<blockquote>
<code><big>
humsed -f replace input > output
</code></big>
</blockquote>
</P>
<P>
The resulting output file
would be as follows:
<code><big>
<blockquote><TABLE>
<TR><TD>**bar</TD></TR>
<TR><TD>1.306</TD></TR>
<TR><TD>1.306</TD></TR>
<TR><TD>1.950</TD></TR>
<TR><TD>.</TD></TR>
<TR><TD>=</TD></TR>
<TR><TD>*</TD></TR>
<TR><TD>1.950</TD></TR>
<TR><TD>19.334</TD></TR>
<TR><TD>5.075</TD></TR>
<TR><TD>3.124</TD></TR>
<TR><TD>1.306</TD></TR>
<TR><TD>*-</TD></TR>
</TABLE></blockquote>
</code></big>
Notice that input data tokens which do
not appear in the probability list (such as the equals-signs)
remain unmodified.
</P>
<P>
Several interpretations may be made about this message.
For example, the above passage appears to show a pattern of initially
low information that increases and then decreases toward the
end of the passage.
This suggests that the beginning and ending of this passage
are more highly constrained or stereotypic than the middle
part of the passage.
</P>
<P>
Summing together the individual information values for this passage,
the total message conveys 35.35 bits.
For five states, the maximum average information is 2.322 bits per state,
and so the expected maximum for a message consisting of 8 items
would be 8 x 2.322 or 18.58 bits.
This suggests that this message is considerably less banal,
(less redundant or more unique)
than a typical message from the original repertoire.
In particular, the occurrence of the state `XYZ' has a low
probability of occurrence -- and is likely to be a distinctive
feature of this passage.
</P>
<P>
In the above examples, only simple (zeroth-order)
probabilities have been examined.
Higher-order and <i>m</i>-dependency probabilities may be measured
by reformulating the input using the
<b>context</b>
command.
</P>
<P>
<center><HR WIDTH=500></center>
<FONT color="0000FF"><H3>PORTABILITY</H3></FONT>
DOS 2.0 and up, with the MKS Toolkit.
OS/2 with the MKS Toolkit.
UNIX systems supporting the
<i>Korn</i>
shell or
<i>Bourne</i>
shell command interpreters, and revised
<i>awk</i>
(1985).
</P>
<P>
<center><HR WIDTH=500></center>
<FONT color="0000FF"><H3>SEE ALSO</H3></FONT>
<A HREF="context.html">
<b>context</b></A> (4),
<A HREF="humsed.html">
<b>humsed</b></A> (4),
<A HREF="patt.html">
<b>patt</b></A> (4),
<A HREF="pattern.html">
<b>pattern</b></A> (4),
<A HREF="simil.html">
<b>simil</b></A> (4)
</P>
<P>
<center><HR WIDTH=500></center>
<A NAME="REFERENCES">
<FONT color="0000FF"><H3>REFERENCES</H3></FONT>
Knopoff, L. & Hutchinson, W.
"Entropy as a measure of style: The influence of sample length."
<i>Journal of Music Theory,</i>
Vol. 27 (1983) pp. 75-97.
</P>
<P>
Moles, A.
<i>Information Theory and Esthetic Perception,</i>
Urbana: University of Illinois Press, 1968.
</P>
<P>
Pinkerton, R.C.
"Information theory and melody."
<i>Scientific American,</i>
Vol. 194 (1956) pp. 77-86.
</P>
<P>
<A NAME="Shannon and Weaver">
Shannon, C. E., & Weaver, W.
<i>The Mathematical Theory of Communication.</i>
Urbana: University of Illinois Press, 1949.
</P>
<P>
Snyder, J.L.
"Entropy as a measure of musical style: The influence
of a priori assumptions."
<i>Music Theory Spectrum,</i>
Vol. 12, No. 1 (1990) pp. 121-160.
</P>
<P>
Wong, A. K. C., & Ghahraman, D.
A statistical analysis of interdependence in character sequences.
<i>Information Sciences,</i>
Vol. 8 (1975) pp. 173-188.
</P>
<P>
Youngblood, J.E.
"Style as information."
<i>Journal of Music Theory,</i>
Vol. 7 (1962) pp. 137-162.
<hr>
<br>
<ul>
<li>
<A HREF="../commands.toc.html">
<B>Index to Humdrum Commands</B></A>
<li>
<A HREF="../guide.toc.html">
<B>Table for Contents for Humdrum User Guide</B></A>
</ul>
<br><br>

</BODY>
</HTML>
