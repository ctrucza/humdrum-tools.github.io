<HTML>
<HEAD>
<TITLE>Humdrum Toolkit Command Reference -- mint</TITLE>
<link href="../../Humdrum.css" rel="stylesheet" type="text/css">
</HEAD>


<BODY>

<table id="header" width="100%">
  <caption></caption>
  <tbody>
    <tr>
      <td valign="middle"><img alt=" " src="../../HumdrumIcon.gif"></td>
      <td align="center" valign="middle"><img alt="Humdrum "
        src="../../HumdrumHeader.gif"></td>
      <td align="right" valign="middle"><img alt=" "
        src="../../HumdrumSpacer.gif"></td>
    </tr>
  </tbody>
</table>



</P>
</P>
<center><HR WIDTH=500></center>
<FONT color="0000FF"><H3>COMMAND</H3></FONT>
<b>mint</b>  --  determine melodic intervals between successive pitches for Humdrum inputs
</P>
<P>
<center><HR WIDTH=500></center>
<FONT color="0000FF"><H3>SYNOPSIS</H3></FONT>
<code><big>
<b>mint</b>  [<b>-acde</b>]  [<b>-b</b> <i>regexp</i>]  [<b>-s</b> <i>regexp</i>]  [<i>inputfile</i>]  [ > <i>outputfile.mnt</i>]
</code></big>
</P>
<P>
<center><HR WIDTH=500></center>
<FONT color="0000FF"><H3>DESCRIPTION</H3></FONT>
The
<b>mint</b>
command determines the distance (interval) between successive pitches.
Output pitch intervals are expressed as a diatonic interval size plus
interval quality;
a leading plus or minus sign indicates whether the interval is ascending
or descending.
By way of illustration,
<b>mint</b>
will change a sequence of <code><big>**pitch</big></code> data tokens -- such as
<i>C4, A4, E4</i>
--  to the interval sequence
<i>+M6, -P4.</i>
Each pitch-related input spine is transformed to a corresponding
<code><big>**mint</big></code> output spine.
</P>
<P>
The
<b>mint</b>
command determines melodic intervals only for pitch tokens
<i>within</i>
individual spines.
Pitch intervals
<i>across</i>
spines are not determined by
<b>mint.</b>
</P>
<P>
No interval is calculated for the first pitch token;
initial pitches are simply echoed in the
output -- appearing in square brackets.
These initial pitches are referred to as
<i>offset</i>
values, since they indicate the starting value from which subsequent
intervals are calculated.
Offset values can prove useful in attempting to reconstruct the input,
but the user may wish to eliminate offset values in subsequent processing
(see below).
</P>
<P>
The
<b>mint</b>
command is able to handle multiple-stops.
Data-flow interruptions such as the occurrence of barlines
can be handled using the
<b>-s</b>
option.
By defining
<i>regular expression</i>
patterns, the user may select
which types of data tokens should be ignored by
<b>mint.</b>
(See EXAMPLES below.)
</P>
<P>
Note that the output spine generated by
<b>mint</b>
preserves the same record-type structure as the input,
and so may readily be pasted with the input file using the Humdrum
<A HREF="assemble.html"><b>assemble</b></A>
command.
</P>
<P>
The
<b>mint</b>
command is able to accept any of the pitch-related
representations listed below.
For descriptions of the various input representations
refer to Section 2
<i>(Representation Reference)</i>
of this reference manual.
</P>
<P>
It is recommended that output files produced using the
<b>mint</b>
command should be given names with the distinguishing `.mnt' extension.
<blockquote><TABLE>
<TR><TD><code><big>**kern</big></code></TD><TD>core pitch/duration representation</TD></TR>
<TR><TD><code><big>**pitch</big></code></TD><TD>American National Standards Institute pitch notation (e.g. "A#4")</TD></TR>
<TR><TD><code><big>**solfg</big></code></TD><TD>French solf&#232ge system (fixed `doh')</TD></TR>
<TR><TD><code><big>**Tonh</big></code></TD><TD>German pitch system</TD></TR>
</TABLE></blockquote>
<CENTER>
<i>Input representations processed by <b>mint</b>.</i>
</CENTER>
<center><HR WIDTH=500></center>
<FONT color="0000FF"><H3>OPTIONS</H3></FONT>
The
<b>mint</b>
command provides the following options:
<blockquote><TABLE>
<TR><TD><b>-a</b></TD><TD>output absolute pitch interval without distinguishing ascending/descending</TD></TR>
<TR><TD><b>-b <i>regexp</i></TD><TD>break; do not calculate difference for tokens matching <i>regexp</i>;</TD></TR>
<TR><TD></TD><TD>restart interval calculations with next pitch token</TD></TR>
<TR><TD><b>-c</b></TD><TD>output compound intervals as non-compound intervals</TD></TR>
<TR><TD><b>-d</b></TD><TD>output diatonic interval size only, without the interval quality</TD></TR>
<TR><TD><b>-e</b></TD><TD>used only with <b>-s</b> option; echo skipped data tokens rather than</TD></TR>
<TR><TD></TD><TD>outputting null tokens</TD></TR>
<TR><TD><b>-h</b></TD><TD>displays a help screen summarizing the command syntax</TD></TR>
<TR><TD><b>-s <i>regexp</i></TD><TD>skip; completely ignore tokens matching <i>regexp</i>; output null</TD></TR>
<TR><TD></TD><TD>token(s) instead</TD></TR>
</TABLE></blockquote>
Options are specified in the command line.
</P>
<P>
By default,
<b>mint</b>
distinguishes ascending and descending intervals by prepending
a plus or minus sign.
If the
<b>-a</b>
option is invoked, then only unsigned (absolute) intervals are output.
</P>
<P>
The "skip" function takes precedence over the "break" function,
so input strings matching both the skip (-s) and break (-b) regular
expressions cause a skip rather than a break.
</P>
<P>
<center><HR WIDTH=500></center>
<FONT color="0000FF"><H3>EXAMPLES</H3></FONT>
The various aspects of the
<b>mint</b>
command are best illustrated using a set of examples.
Consider the following input:
<code><big>
<blockquote><TABLE>
<TR><TD>**kern</TD></TR>
<TR><TD>=1</TD></TR>
<TR><TD>8c</TD></TR>
<TR><TD>8g</TD></TR>
<TR><TD>4.b-</TD></TR>
<TR><TD>.</TD></TR>
<TR><TD>8e</TD></TR>
<TR><TD>=2</TD></TR>
<TR><TD>4f</TD></TR>
<TR><TD>8r</TD></TR>
<TR><TD>8C</TD></TR>
<TR><TD>4FF</TD></TR>
<TR><TD>=3</TD></TR>
<TR><TD>*-</TD></TR>
</TABLE></blockquote>
</code></big>
Using the default invocation, the
<b>mint</b>
command transforms the above input as follows:
<code><big>
<blockquote><TABLE>
<TR><TD>**mint</TD></TR>
<TR><TD>=1</TD></TR>
<TR><TD>[c]</TD></TR>
<TR><TD>+P5</TD></TR>
<TR><TD>+m3</TD></TR>
<TR><TD>.</TD></TR>
<TR><TD>-d5</TD></TR>
<TR><TD>=2</TD></TR>
<TR><TD>+m2</TD></TR>
<TR><TD>-P11</TD></TR>
<TR><TD>-P5</TD></TR>
<TR><TD>=3</TD></TR>
<TR><TD>*-</TD></TR>
</TABLE></blockquote>
</code></big>
The leading or "offset" pitch `c' has been echoed in square brackets
in the third record.
This represents the initial pitch from which subsequent pitch distances
are measured.
This offset value reflects the type of input given to
<b>mint,</b>
thus if the input format is
<code><big>
**kern
</i></b></code></big>
</i></b></code></big>
the offset pitch will be recorded in the same representation.
Note that for absolute pitch units: `c' (<code><big>**kern</big></code>) equals `C4'
(<code><big>**pitch</big></code>) equals `do4' (<code><big>**solfg</big></code>) equals `C4' (<code><big>**Tonh</big></code>).
</P>
<P>
The subsequent output value (+P5) indicates a melodic interval
of an ascending perfect fifth.
This is followed by an ascending minor third (+m3) followed
by a descending diminished fifth (-d5).
</P>
<P>
Notice that the null-token in the sixth record has been echoed.
Null-tokens have no effect on interval calculations and are
treated as though they are non-existent.
In addition,
<b>mint</b>
correctly echoes (and ignores) both rests and kern-like barlines.
Note that pitch intervals spanning a rest continue to be calculated
and that intervals greater than an octave remain as "compound intervals."
</P>
<P>
Depending on the application, users may wish to suppress the
calculation of intervals across rests.
In this case, the
<b>mint</b>
command can be invoked using the "break" (<b>-b</b>) option.
Consider the command:
</P>
<P>
<blockquote>
<code><big>
mint -b 'r' input > output.mnt
</code></big>
</blockquote>
</P>
<P>
Each time
<b>mint</b>
encounters a data token that matches the letter `r' it
echoes the input token and begins
looking for a new offset value.
Applied to the above sample input file, this command produces the
following output:
<code><big>
<blockquote><TABLE>
<TR><TD>**mint</TD></TR>
<TR><TD>=1</TD></TR>
<TR><TD>[c]</TD></TR>
<TR><TD>+P5</TD></TR>
<TR><TD>+m3</TD></TR>
<TR><TD>.</TD></TR>
<TR><TD>-d5</TD></TR>
<TR><TD>=2</TD></TR>
<TR><TD>+m2</TD></TR>
<TR><TD>8r</TD></TR>
<TR><TD>[C]</TD></TR>
<TR><TD>-P5</TD></TR>
<TR><TD>=3</TD></TR>
<TR><TD>*-</TD></TR>
</TABLE></blockquote>
</code></big>
Notice that the descending perfect eleventh spanning the rest has
been eliminated, and a new pitch offset value `C' has been echoed
in the corresponding output.
</P>
<P>
The
<b>-s</b>
(skip) option can be used to allow the user to selectively
identify records that should not be involved in processing.
For example, the command
</P>
<P>
<blockquote>
<code><big>
mint -s '^[^4]+$' input > output.mnt
</code></big>
</blockquote>
</P>
<P>
will cause any data token not matching the number 4 to be skipped
during processing.
Given the sample input, intervals will be calculated only
between quarter-notes and dotted quarter-notes:
<code><big>
<blockquote><TABLE>
<TR><TD>**mint</TD></TR>
<TR><TD>=1</TD></TR>
<TR><TD>8c</TD></TR>
<TR><TD>8g</TD></TR>
<TR><TD>[b-]</TD></TR>
<TR><TD>.</TD></TR>
<TR><TD>8e</TD></TR>
<TR><TD>=2</TD></TR>
<TR><TD>-P4</TD></TR>
<TR><TD>8r</TD></TR>
<TR><TD>8C</TD></TR>
<TR><TD>-P15</TD></TR>
<TR><TD>=3</TD></TR>
<TR><TD>*-</TD></TR>
</TABLE></blockquote>
</code></big>
Using the skip option, the user may calculate melodic intervals
between pitches in strong metric positions, or pitches that have
been marked as structural tones.
</P>
<P>
The
<b>mint</b>
command is also able to process numerical data tokens containing
multiple-stops.
Consider the following following sample input:
<code><big>
<blockquote><TABLE>
<TR><TD>**pitch</TD></TR>
<TR><TD>C4</TD></TR>
<TR><TD>B3 D4</TD></TR>
<TR><TD>A3 C4 F4</TD></TR>
<TR><TD>C4</TD></TR>
<TR><TD>C4</TD></TR>
<TR><TD>*-</TD></TR>
</TABLE></blockquote>
</code></big>
Notice the presence of the double- and triple-stops in the third and
fourth records.
Using the default invocation, the
<b>mint</b>
command processes this input as follows:
<code><big>
<blockquote><TABLE>
<TR><TD>**mint</TD></TR>
<TR><TD>[C4]</TD></TR>
<TR><TD>-m2 +M2</TD></TR>
<TR><TD>-M2 (+m2) (-M2) +m3</TD></TR>
<TR><TD>+m3 P1 -P4</TD></TR>
<TR><TD>P1</TD></TR>
<TR><TD>*-</TD></TR>
</TABLE></blockquote>
</code></big>
The leading or offset value [C4] has been echoed in the second record.
(The user might wish to eliminate such offset values via the
<A HREF="humsed.html"><b>humsed</b></A>
command; see below.)
The third record in both the input and output contain double-stops.
In the output, the first value of the double-stop (-m2) represents
the pitch interval between C4 and B3.
The second value in the double-stop (M2) represents the difference
between C4 and D4.
In short,
<b>mint</b>
traces both possible difference "paths."
</P>
<P>
In processing successive multiple-stops
<b>mint</b>
does not calculate all of the possible permutations.
For example, in the case of two consecutive triple-stops,
<b>mint</b>
will calculate three intervals corresponding to the first notes
in both triple-stops, the second notes, and the third notes.
</P>
<P>
Where the number of multiple-stops changes,
<b>mint</b>
operates under some special conventions.
Consider, for example, the case of a double-stop followed
by a triple-stop:
the pitches P+Q followed by X+Y+Z.
All of the possible (interval) differences might be enumerated as follows:
X-P, Y-P, Z-P, X-Q, Y-Q and Z-Q.
<b>Mint</b>
first calculates the "outer" interval distances (X-P and Z-Q).
It then calculates a permuted set of "inner" intervals
(Y-P and Y-Q).
The remaining intervals are considered unlikely or implausible and
are not calculated by
<b>mint.</b>
</P>
<P>
In the above example,
moving from the double-stop to the triple stop between records three
and four generates two "outer" interval distances
(B3 to A3 -> -M2; D4 to F4 -> +m3), as well as the permuted
"inner" intervals (B3 to C4 -> +m2; D4 to C4 -> -M2).
Both the resulting inner intervals are printed in parentheses.
A similar process occurs when moving from records four to five.
Three intervals may be traced from the 3 initial pitches to the
subsequent single pitch.
</P>
<P>
Depending on the goal, the presence of the parentheses makes it easy
for the user to eliminate the inner intervals using the Humdrum
stream-editor
<A HREF="humsed.html"><b>humsed.</b></A>
For example, the command
</P>
<P>
<blockquote>
<code><big>
humsed 's/([^)]*) //g' input > output
</code></big>
</blockquote>
</P>
<P>
can be used to eliminate inner intervals.
Alternatively, the command
</P>
<P>
<blockquote>
<code><big>
humsed 's/[()]//g' input > output
</code></big>
</blockquote>
</P>
<P>
can be used to eliminate the parentheses surrounding the inner intervals.
Offset values can be transformed to null-tokens using the command
</P>
<P>
<blockquote>
<code><big>
humsed 's/\\[[^]]*\\]/./g' input > output
</code></big>
</blockquote>
</P>
<P>
records containing offset values can be eliminated using the command
</P>
<P>
<blockquote>
<code><big>
humsed '/\\[.*\\]/d' input > output
</code></big>
</blockquote>
</P>
<P>
One final example illustrates how several spines can be processed
concurrently by
<b>mint.</b>
<code><big>
<blockquote><TABLE>
<TR><TD>!! J.S. Bach, keyboard Sinfonia No. 13</TD></TR>
</TABLE>
<TABLE>
<TR><TD>**Tonh</TD><TD>**pitch</TD><TD>**kern</TD></TR>
<TR><TD>*M3/8</TD><TD>*M3/8</TD><TD>*M3/8</TD></TR>
<TR><TD>*a:</TD><TD>*a:</TD><TD>*a:</TD></TR>
<TR><TD>=7</TD><TD>=7</TD><TD>=7</TD></TR>
<TR><TD>A3</TD><TD>G4</TD><TD>16ee</TD></TR>
<TR><TD>.</TD><TD>.</TD><TD>16ff#</TD></TR>
<TR><TD>H3</TD><TD>F#4</TD><TD>8.dd#</TD></TR>
<TR><TD>H2</TD><TD>.</TD><TD>.</TD></TR>
<TR><TD>.</TD><TD>.</TD><TD>16ee</TD></TR>
<TR><TD>=8</TD><TD>=8</TD><TD>=8</TD></TR>
<TR><TD>E3</TD><TD>E4</TD><TD>4ee</TD></TR>
<TR><TD>.</TD><TD>F#4</TD><TD>.</TD></TR>
<TR><TD>.</TD><TD>G4</TD><TD>.</TD></TR>
<TR><TD>.</TD><TD>A4</TD><TD>.</TD></TR>
<TR><TD>r</TD><TD>B4</TD><TD>[8gg</TD></TR>
<TR><TD>.</TD><TD>C#5</TD><TD>.</TD></TR>
<TR><TD>=9</TD><TD>=9</TD><TD>=9</TD></TR>
<TR><TD>r</TD><TD>[D5</TD><TD>16gg]</TD></TR>
<TR><TD>.</TD><TD>.</TD><TD>16bb-</TD></TR>
<TR><TD>.</TD><TD>.</TD><TD>16aa</TD></TR>
<TR><TD>.</TD><TD>.</TD><TD>16gg</TD></TR>
<TR><TD>.</TD><TD>.</TD><TD>16ff</TD></TR>
<TR><TD>.</TD><TD>.</TD><TD>16ee</TD></TR>
<TR><TD>=10</TD><TD>=10</TD><TD>=10</TD></TR>
<TR><TD>r</TD><TD>D5]</TD><TD>[4.ff</TD></TR>
<TR><TD>*-</TD><TD>*-</TD><TD>*-</TD></TR>
</TABLE></blockquote>
</code></big>
The following command invokes the <b>-a</b> and <b>-d</b> options.
Indications of the direction of interval movement (ascending/descending)
have been removed, and the diatonic interval sizes are output
without the associated interval qualities (major/minor/perfect/diminished,
augmented).
</P>
<P>
<blockquote>
<code><big>
mint -a -d input | humsed 's/\\[[^\\t]*\\]/./g' > output
</code></big>
</blockquote>
</P>
<P>
Notice in the corresponding output that the initial offset pitches have
been changed to a null tokens (due to the
<b>humsed</b>
command).
<code><big>
<blockquote><TABLE>
<TR><TD>!! J.S. Bach, keyboard Sinfonia No. 13</TD></TR>
</TABLE>
<TABLE>
<TR><TD>**mint</TD><TD>**mint</TD><TD>**mint</TD></TR>
<TR><TD>*M3/8</TD><TD>*M3/8</TD><TD>*M3/8</TD></TR>
<TR><TD>*a:</TD><TD>*a:</TD><TD>*a:</TD></TR>
<TR><TD>=7</TD><TD>=7</TD><TD>=7</TD></TR>
<TR><TD>.</TD><TD>.</TD><TD>.</TD></TR>
<TR><TD>.</TD><TD>.</TD><TD>2</TD></TR>
<TR><TD>2</TD><TD>2</TD><TD>3</TD></TR>
<TR><TD>8</TD><TD>.</TD><TD>.</TD></TR>
<TR><TD>.</TD><TD>.</TD><TD>2</TD></TR>
<TR><TD>=8</TD><TD>=8</TD><TD>=8</TD></TR>
<TR><TD>4</TD><TD>2</TD><TD>1</TD></TR>
<TR><TD>.</TD><TD>2</TD><TD>.</TD></TR>
<TR><TD>.</TD><TD>2</TD><TD>.</TD></TR>
<TR><TD>.</TD><TD>2</TD><TD>.</TD></TR>
<TR><TD>r</TD><TD>2</TD><TD>3</TD></TR>
<TR><TD>.</TD><TD>2</TD><TD>.</TD></TR>
<TR><TD>=9</TD><TD>=9</TD><TD>=9</TD></TR>
<TR><TD>r</TD><TD>2</TD><TD>1</TD></TR>
<TR><TD>.</TD><TD>.</TD><TD>3</TD></TR>
<TR><TD>.</TD><TD>.</TD><TD>2</TD></TR>
<TR><TD>.</TD><TD>.</TD><TD>2</TD></TR>
<TR><TD>.</TD><TD>.</TD><TD>2</TD></TR>
<TR><TD>.</TD><TD>.</TD><TD>2</TD></TR>
<TR><TD>=10</TD><TD>=10</TD><TD>=10</TD></TR>
<TR><TD>r</TD><TD>1</TD><TD>2</TD></TR>
<TR><TD>*-</TD><TD>*-</TD><TD>*-</TD></TR>
</TABLE></blockquote>
</code></big>
<center><HR WIDTH=500></center>
<FONT color="0000FF"><H3>PORTABILITY</H3></FONT>
DOS 2.0 and up, with the MKS Toolkit.
OS/2 with the MKS Toolkit.
UNIX systems supporting the
<i>Korn</i>
shell or
<i>Bourne</i>
shell command interpreters, and revised
<i>awk</i>
(1985).
</P>
<P>
<center><HR WIDTH=500></center>
<FONT color="0000FF"><H3>SEE ALSO</H3></FONT>
<code><big>
<b>**hint</b> (2),
<A HREF="hint.html">
<b>hint</b></A> (4),
<A HREF="humsed.html">
<b>humsed</b></A> (4),
<b>**kern</b> (2),
<b>**mint</b> (2),
<A HREF="recode.html">
<b>recode</b></A> (4),
<b>regexp</b> (6),
<b>**semits</b> (2),
<A HREF="semits.html">
<b>semits</b></A> (4),
<b>solfg</b> (2),
<b>**Tonh</b> (2),
<A HREF="xdelta.html">
<b>xdelta</b></A> (4),
<A HREF="ydelta.html">
<b>ydelta</b></A> (4)
</i></b></code></big>
<hr>
<br>
<ul>
<li>
<A HREF="../guide11.html#Melodic_Intervals_Using_the_mint_Command">
<B>Pertinent description in the Humdrum User Guide</B></A>
<li>
<A HREF="../commands.toc.html">
<B>Index to Humdrum Commands</B></A>
<li>
<A HREF="../guide.toc.html">
<B>Table for Contents for Humdrum User Guide</B></A>
</ul>
<br><br>

</BODY>
</HTML>
